"use strict";(self.webpackChunkfantasiakids=self.webpackChunkfantasiakids||[]).push([[792],{467:()=>{function Tc(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Tc(s,r,i,o,a,"next",u)}function a(u){Tc(s,r,i,o,a,"throw",u)}o(void 0)})}}let it=null,jh=1;const qs=Symbol("SIGNAL");function le(t){const e=it;return it=t,e}function dx(t){if((!Sc(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==jh)){if(!t.producerMustRecompute(t)&&!Xy(t))return t.dirty=!1,void(t.lastCleanEpoch=jh);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=jh}}function Xy(t){ia(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dx(n),r!==n.version))return!0}return!1}function $h(t,e){if(function _x(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ia(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)$h(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ia(i),i.producerIndexOfThis[r]=e}}function Sc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ia(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let wx=null;function $e(t){return"function"==typeof t}function Zy(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ev=Zy(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Hh(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class _n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if($e(r))try{r()}catch(s){e=s instanceof ev?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Tx(s)}catch(o){e=e??[],o instanceof ev?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ev(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Tx(e);else{if(e instanceof _n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hh(n,e)}remove(e){const{_finalizers:n}=this;n&&Hh(n,e),e instanceof _n&&e._removeParent(this)}}_n.EMPTY=(()=>{const t=new _n;return t.closed=!0,t})();const bx=_n.EMPTY;function Dx(t){return t instanceof _n||t&&"closed"in t&&$e(t.remove)&&$e(t.add)&&$e(t.unsubscribe)}function Tx(t){$e(t)?t():t.unsubscribe()}const Ws={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zh={setTimeout(t,e,...n){const{delegate:r}=zh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cx(t){zh.setTimeout(()=>{const{onUnhandledError:e}=Ws;if(!e)throw t;e(t)})}function tv(){}const rG=nv("C",void 0,void 0);function nv(t,e,n){return{kind:t,value:e,error:n}}let Ks=null;function Gh(t){if(Ws.useDeprecatedSynchronousErrorHandling){const e=!Ks;if(e&&(Ks={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ks;if(Ks=null,n)throw r}}else t()}class rv extends _n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dx(e)&&e.add(this)):this.destination=lG}static create(e,n,r){return new sv(e,n,r)}next(e){this.isStopped?ov(function sG(t){return nv("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ov(function iG(t){return nv("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ov(rG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const aG=Function.prototype.bind;function iv(t,e){return aG.call(t,e)}class uG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qh(r)}else qh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qh(n)}}}class sv extends rv{constructor(e,n,r){let i;if(super(),$e(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ws.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&iv(e.next,s),error:e.error&&iv(e.error,s),complete:e.complete&&iv(e.complete,s)}):i=e}this.destination=new uG(i)}}function qh(t){Ws.useDeprecatedSynchronousErrorHandling?function oG(t){Ws.useDeprecatedSynchronousErrorHandling&&Ks&&(Ks.errorThrown=!0,Ks.error=t)}(t):Cx(t)}function ov(t,e){const{onStoppedNotification:n}=Ws;n&&zh.setTimeout(()=>n(t,e))}const lG={closed:!0,next:tv,error:function cG(t){throw t},complete:tv},av="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qs(t){return t}function Sx(t){return 0===t.length?Qs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let gt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function fG(t){return t&&t instanceof rv||function hG(t){return t&&$e(t.next)&&$e(t.error)&&$e(t.complete)}(t)&&Dx(t)}(n)?n:new sv(n,r,i);return Gh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ax(r))((i,s)=>{const o=new sv({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[av](){return this}pipe(...n){return Sx(n)(this)}toPromise(n){return new(n=Ax(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ax(t){var e;return null!==(e=t??Ws.Promise)&&void 0!==e?e:Promise}const pG=Zy(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let or=(()=>{class t extends gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Mx(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new pG}next(n){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Gh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?bx:(this.currentObservers=null,s.push(n),new _n(()=>{this.currentObservers=null,Hh(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new gt;return n.source=this,n}}return t.create=(e,n)=>new Mx(e,n),t})();class Mx extends or{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bx}}class ar extends or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function xx(t){return $e(t?.lift)}function $t(t){return e=>{if(xx(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nt(t,e,n,r,i){return new gG(t,e,n,r,i)}class gG extends rv{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Se(t,e){return $t((n,r)=>{let i=0;n.subscribe(Nt(r,s=>{r.next(t.call(e,s,i++))}))})}const Nx="https://g.co/ng/security#xss";class b extends Error{constructor(e,n){super(function sa(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ei(t){return{toString:t}.toString()}const aa="__parameters__";function ca(t,e,n){return Ei(()=>{const r=function uv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(aa)?u[aa]:Object.defineProperty(u,aa,{value:[]})[aa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const Ae=globalThis;function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function It(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function cv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const yG=Me({__forward_ref__:Me});function lv(t){return t.__forward_ref__=lv,t.toString=function(){return It(this())},t}function Y(t){return Kh(t)?t():t}function Kh(t){return"function"==typeof t&&t.hasOwnProperty(yG)&&t.__forward_ref__===lv}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qh(t){return Ox(t,Xh)||Ox(t,Fx)}function Ox(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yh(t){return t&&(t.hasOwnProperty(dv)||t.hasOwnProperty(bG))?t[dv]:null}const Xh=Me({\u0275prov:Me}),dv=Me({\u0275inj:Me}),Fx=Me({ngInjectableDef:Me}),bG=Me({ngInjectorDef:Me});class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mv(t){return t&&!!t.\u0275providers}const Ac=Me({\u0275cmp:Me}),yv=Me({\u0275dir:Me}),vv=Me({\u0275pipe:Me}),Vx=Me({\u0275mod:Me}),Ii=Me({\u0275fac:Me}),Mc=Me({__NG_ELEMENT_ID__:Me}),Ux=Me({__NG_ENV_ID__:Me});function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function _v(t,e){throw new b(-201,!1)}var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{});let wv;function Bx(){return wv}function Nn(t){const e=wv;return wv=t,e}function jx(t,e,n){const r=Qh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==e?e:void _v()}const xc={},Ev="__NG_DI_FLAG__",Jh="ngTempTokenPath",MG=/\n/gm,$x="__source";let la;function is(t){const e=la;return la=t,e}function kG(t,e=he.Default){if(void 0===la)throw new b(-203,!1);return null===la?jx(t,void 0,e):la.get(t,e&he.Optional?null:void 0,e)}function W(t,e=he.Default){return(Bx()||kG)(Y(t),e)}function S(t,e=he.Default){return W(t,Zh(e))}function Zh(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Iv(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=he.Default;for(let o=0;o<r.length;o++){const a=r[o],u=RG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Nc(t,e){return t[Ev]=e,t.prototype[Ev]=e,t}function RG(t){return t[Ev]}const kn=Nc(ca("Optional"),8),ef=Nc(ca("SkipSelf"),4);function Ys(t,e){return t.hasOwnProperty(Ii)?t[Ii]:null}function da(t,e){t.forEach(n=>Array.isArray(n)?da(n,e):e(n))}function zx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Fr={},we=[],Xs=new U(""),Wx=new U("",-1),Tv=new U("");class rf{get(e,n=xc){if(n===xc){const r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}}var sf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sf||{}),yr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yr||{}),vr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vr||{});function BG(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Cv(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Qx(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Kx(t){return 3===t||4===t||6===t}function Qx(t){return 64===t.charCodeAt(0)}function kc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Yx(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Yx(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Xx="ng-template";function jG(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==BG(e[i+1].toLowerCase(),n,0))return!0}else if(Sv(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===n)return!0}return!1}function Sv(t){return 4===t.type&&t.value!==Xx}function $G(t,e,n){return e===(4!==t.type||n?t.value:Xx)}function HG(t,e,n){let r=4;const i=t.attrs,s=null!==i?function qG(t){for(let e=0;e<t.length;e++)if(Kx(t[e]))return e;return t.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!$G(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;o=!0}}else if(8&r){if(null===i||!jG(t,i,u,n)){if(_r(r))return!1;o=!0}}else{const c=e[++a],l=zG(u,i,Sv(t),n);if(-1===l){if(_r(r))return!1;o=!0;continue}if(""!==c){let d;if(d=l>s?"":i[l+1].toLowerCase(),2&r&&c!==d){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(u))return!1;if(o&&_r(u))continue;o=!1,r=u|1&r}}return _r(r)||o}function _r(t){return!(1&t)}function zG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function WG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Jx(t,e,n=!1){for(let r=0;r<e.length;r++)if(HG(t,e[r],n))return!0;return!1}function Zx(t,e){return t?":not("+e.trim()+")":e}function QG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_r(o)&&(e+=Zx(s,i),i=""),r=o,s=s||!_r(r);n++}return""!==i&&(e+=Zx(s,i)),e}function Lr(t){return Ei(()=>{const e=tN(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yr.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};nN(n);const r=t.dependencies;return n.directiveDefs=af(r,!1),n.pipeDefs=af(r,!0),n.id=function tq(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function JG(t){return de(t)||bt(t)}function ZG(t){return null!==t}function Vr(t){return Ei(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eN(t,e){if(null==t)return Fr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let s,o,a=vr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==vr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function wn(t){return Ei(()=>{const e=tN(t);return nN(e),e})}function de(t){return t[Ac]||null}function bt(t){return t[yv]||null}function Ht(t){return t[vv]||null}function tn(t,e){const n=t[Vx]||null;if(!n&&!0===e)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function tN(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eN(t.inputs,e),outputs:eN(t.outputs),debugInfo:null}}function nN(t){t.features?.forEach(e=>e(t))}function af(t,e){if(!t)return null;const n=e?Ht:JG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(ZG)}function nq(...t){return{\u0275providers:Av(0,t),\u0275fromNgModule:!0}}function Av(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return da(e,o=>{const a=o;cf(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&rN(i,s),n}function rN(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Mv(i,s=>{e(s,r)})}}function cf(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=Yh(t);const o=!s&&de(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Yh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)cf(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{da(s.imports,l=>{cf(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&rN(c,e)}if(!a){const c=Ys(i)||(()=>new i);e({provide:i,useFactory:c,deps:we},i),e({provide:Tv,useValue:i,multi:!0},i),e({provide:Xs,useValue:()=>W(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Mv(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Mv(t,e){for(let n of t)mv(n)&&(n=n.\u0275providers),Array.isArray(n)?Mv(n,e):e(n)}const rq=Me({provide:String,useValue:Me});function xv(t){return null!==t&&"object"==typeof t&&rq in t}function Js(t){return"function"==typeof t}const Nv=new U(""),lf={},sq={};let kv;function df(){return void 0===kv&&(kv=new rf),kv}class On{}class fa extends On{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pv(e,o=>this.processProvider(o)),this.records.set(Wx,pa(void 0,this)),i.has("environment")&&this.records.set(On,pa(void 0,this));const s=this.records.get(Nv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Tv,we,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=le(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=is(this),r=Nn(void 0);try{return e()}finally{is(n),Nn(r)}}get(e,n=xc,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ux))return e[Ux](this);r=Zh(r);const s=is(this),o=Nn(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function lq(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&Qh(e);u=c&&this.injectableDefInScope(c)?pa(Rv(e),lf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&he.Self?df():this.parent).get(e,n=r&he.Optional&&n===xc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Jh]=a[Jh]||[]).unshift(It(e)),s)throw a;return function PG(t,e,n,r){const i=t[Jh];throw e[$x]&&i.unshift(e[$x]),t.message=function OG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):It(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(MG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Jh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Nn(o),is(s)}}resolveInjectorInitializers(){const e=le(null),n=is(this),r=Nn(void 0);try{const s=this.get(Xs,we,he.Self);for(const o of s)o()}finally{is(n),Nn(r),le(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=Js(e=Y(e))?e:Y(e&&e.provide);const r=function aq(t){return xv(t)?pa(void 0,t.useValue):pa(function oN(t,e,n){let r;if(Js(t)){const i=Y(t);return Ys(i)||Rv(i)}if(xv(t))r=()=>Y(t.useValue);else if(function sN(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Iv(t.deps||[]));else if(function iN(t){return!(!t||!t.useExisting)}(t))r=()=>W(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function uq(t){return!!t.deps}(t))return Ys(i)||Rv(i);r=()=>new i(...Iv(t.deps))}return r}(t),lf)}(e);if(!Js(e)&&!0===e.multi){let i=this.records.get(n);i||(i=pa(void 0,lf,!0),i.factory=()=>Iv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=le(null);try{return n.value===lf&&(n.value=sq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function cq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Rv(t){const e=Qh(t),n=null!==e?e.factory:Ys(t);if(null!==n)return n;if(t instanceof U)throw new b(204,!1);if(t instanceof Function)return function oq(t){if(t.length>0)throw new b(204,!1);const n=function IG(t){return t&&(t[Xh]||t[Fx])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function pa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Pv(t,e){for(const n of t)Array.isArray(n)?Pv(n,e):n&&mv(n)?Pv(n.\u0275providers,e):e(n)}function bi(t,e){t instanceof fa&&t.assertNotDestroyed();const r=is(t),i=Nn(void 0);try{return e()}finally{is(r),Nn(i)}}function aN(){return void 0!==Bx()||null!=function NG(){return la}()}const We=0,A=1,q=2,st=3,wr=4,nn=5,Wn=6,ma=7,Fe=8,mt=9,Er=10,J=11,Pc=12,cN=13,ya=14,Qe=15,Oc=16,va=17,Di=18,Fc=19,lN=20,os=21,pf=22,Zs=23,se=25,Fv=1,Ur=7,_a=9,ot=10;var Lv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lv||{});function rn(t){return Array.isArray(t)&&"object"==typeof t[Fv]}function sn(t){return Array.isArray(t)&&!0===t[Fv]}function Vv(t){return!!(4&t.flags)}function eo(t){return t.componentOffset>-1}function mf(t){return!(1&~t.flags)}function Ir(t){return!!t.template}function Uv(t){return!!(512&t[q])}class bq{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function pN(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function to(){return gN}function gN(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tq),Dq}function Dq(){const t=yN(this),e=t?.current;if(e){const n=t.previous;if(n===Fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Tq(t,e,n,r,i){const s=this.declaredInputs[r],o=yN(t)||function Cq(t,e){return t[mN]=e}(t,{previous:Fr,current:null}),a=o.current||(o.current={}),u=o.previous,c=u[s];a[s]=new bq(c&&c.currentValue,n,u===Fr),pN(t,e,i,n)}to.ngInherit=!0;const mN="__ngSimpleChanges__";function yN(t){return t[mN]||null}const Br=function(t,e,n){};let wN=!1;function Re(t){for(;Array.isArray(t);)t=t[We];return t}function En(t,e){return Re(e[t.index])}function Uc(t,e){return t.data[e]}function Kn(t,e){const n=e[t];return rn(n)?n:n[We]}function zv(t){return!(128&~t[q])}function jr(t,e){return null==e?null:t[e]}function EN(t){t[va]=0}function kq(t){1024&t[q]||(t[q]|=1024,zv(t)&&Bc(t))}function Gv(t){return!!(9216&t[q]||t[Zs]?.dirty)}function qv(t){t[Er].changeDetectionScheduler?.notify(1),Gv(t)?Bc(t):64&t[q]&&(function Aq(){return wN}()?(t[q]|=1024,Bc(t)):t[Er].changeDetectionScheduler?.notify())}function Bc(t){t[Er].changeDetectionScheduler?.notify();let e=no(t);for(;null!==e&&!(8192&e[q])&&(e[q]|=8192,zv(e));)e=no(e)}function yf(t,e){if(!(256&~t[q]))throw new b(911,!1);null===t[os]&&(t[os]=[]),t[os].push(e)}function no(t){const e=t[st];return sn(e)?e[st]:e}const Z={lFrame:NN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function DN(){return Z.bindingsEnabled}function I(){return Z.lFrame.lView}function fe(){return Z.lFrame.tView}function xe(){let t=TN();for(;null!==t&&64===t.type;)t=t.parent;return t}function TN(){return Z.lFrame.currentTNode}function $r(t,e){const n=Z.lFrame;n.currentTNode=t,n.isParent=e}function Kv(){return Z.lFrame.isParent}function br(){return Z.lFrame.bindingIndex++}function Gq(t,e){const n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yv(e)}function Yv(t){Z.lFrame.currentDirectiveIndex=t}function vf(t){Z.lFrame.currentQueryIndex=t}function Wq(t){const e=t[A];return 2===e.type?e.declTNode:1===e.type?t[nn]:null}function MN(t,e,n){if(n&he.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&he.Host||(i=Wq(s),null===i||(s=s[ya],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Z.lFrame=xN();return r.currentTNode=e,r.lView=t,!0}function Zv(t){const e=xN(),n=t[A];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xN(){const t=Z.lFrame,e=null===t?null:t.child;return null===e?NN(t):e}function NN(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function kN(){const t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const RN=kN;function e_(){const t=kN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function on(){return Z.lFrame.selectedIndex}function ro(t){Z.lFrame.selectedIndex=t}let ON=!0;function $c(){return ON}function Hr(t){ON=t}function _f(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function wf(t,e,n){FN(t,e,3,n)}function Ef(t,e,n,r){(3&t[q])===n&&FN(t,e,n,r)}function t_(t,e){let n=t[q];(3&n)===e&&(n&=16383,n+=1,t[q]=n)}function FN(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[va]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[va]+=65536),(a<s||-1==s)&&(e5(t,n,e,u),t[va]=(4294901760&t[va])+u+2),u++}function LN(t,e){Br(4,t,e);const n=le(null);try{e.call(t)}finally{le(n),Br(5,t,e)}}function e5(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[q]>>14<t[va]>>16&&(3&t[q])===e&&(t[q]+=16384,LN(a,s)):LN(a,s)}const Ia=-1;class Hc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function r_(t){return t!==Ia}function zc(t){return 32767&t}function Gc(t,e){let n=function s5(t){return t>>16}(t),r=e;for(;n>0;)r=r[ya],n--;return r}let i_=!0;function If(t){const e=i_;return i_=t,e}const VN=255,UN=5;let o5=0;const zr={};function bf(t,e){const n=BN(t,e);if(-1!==n)return n;const r=e[A];r.firstCreatePass&&(t.injectorIndex=e.length,s_(r.data,t),s_(e,null),s_(r.blueprint,null));const i=Df(t,e),s=t.injectorIndex;if(r_(i)){const o=zc(i),a=Gc(i,e),u=a[A].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function s_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BN(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Df(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=WN(i),null===r)return Ia;if(n++,i=i[ya],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ia}function o_(t,e,n){!function a5(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mc)&&(r=n[Mc]),null==r&&(r=n[Mc]=o5++);const i=r&VN;e.data[t+(i>>UN)]|=1<<i}(t,e,n)}function jN(t,e,n){if(n&he.Optional||void 0!==t)return t;_v()}function $N(t,e,n,r){if(n&he.Optional&&void 0===r&&(r=null),!(n&(he.Self|he.Host))){const i=t[mt],s=Nn(void 0);try{return i?i.get(e,r,n&he.Optional):jx(e,r,n&he.Optional)}finally{Nn(s)}}return jN(r,0,n)}function HN(t,e,n,r=he.Default,i){if(null!==t){if(2048&e[q]&&!(r&he.Self)){const o=function h5(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[q]&&!(512&o[q]);){const a=zN(s,o,n,r|he.Self,zr);if(a!==zr)return a;let u=s.parent;if(!u){const c=o[lN];if(c){const l=c.get(n,zr,r);if(l!==zr)return l}u=WN(o),o=o[ya]}s=u}return i}(t,e,n,r,zr);if(o!==zr)return o}const s=zN(t,e,n,r,zr);if(s!==zr)return s}return $N(e,n,r,i)}function zN(t,e,n,r,i){const s=function l5(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Mc)?t[Mc]:void 0;return"number"==typeof e?e>=0?e&VN:d5:e}(n);if("function"==typeof s){if(!MN(e,t,r))return r&he.Host?jN(i,0,r):$N(e,n,r,i);try{let o;if(o=s(r),null!=o||r&he.Optional)return o;_v()}finally{RN()}}else if("number"==typeof s){let o=null,a=BN(t,e),u=Ia,c=r&he.Host?e[Qe][nn]:null;for((-1===a||r&he.SkipSelf)&&(u=-1===a?Df(t,e):e[a+8],u!==Ia&&qN(r,!1)?(o=e[A],a=zc(u),e=Gc(u,e)):a=-1);-1!==a;){const l=e[A];if(GN(s,a,l.data)){const d=c5(a,e,n,o,r,c);if(d!==zr)return d}u=e[a+8],u!==Ia&&qN(r,e[A].data[a+8]===c)&&GN(s,a,e)?(o=l,a=zc(u),e=Gc(u,e)):a=-1}}return i}function c5(t,e,n,r,i,s){const o=e[A],a=o.data[t+8],l=function Tf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ir(f)&&f.type===n)return u}return null}(a,o,n,null==r?eo(a)&&i_:r!=o&&!!(3&a.type),i&he.Host&&s===a);return null!==l?io(e,o,l,a):zr}function io(t,e,n,r){let i=t[n];const s=e.data;if(function t5(t){return t instanceof Hc}(i)){const o=i;o.resolving&&function CG(t,e){throw e&&e.join(" > "),new b(-200,t)}(function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}(s[n]));const a=If(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Nn(o.injectImpl):null;MN(t,r,he.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Zq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=gN(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Nn(c),If(a),o.resolving=!1,RN()}}return i}function GN(t,e,n){return!!(n[e+(t>>UN)]&1<<t)}function qN(t,e){return!(t&he.Self||t&he.Host&&e)}class Tt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HN(this._tNode,this._lView,e,Zh(r),n)}}function d5(){return new Tt(xe(),I())}function a_(t){return Ei(()=>{const e=t.prototype.constructor,n=e[Ii]||u_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ii]||u_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function u_(t){return Kh(t)?()=>{const e=u_(Y(t));return e&&e()}:Ys(t)}function WN(t){const e=t[A],n=e.type;return 2===n?e.declTNode:1===n?t[nn]:null}function JN(t,e=null,n=null,r){const i=ZN(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZN(t,e=null,n=null,r,i=new Set){const s=[n||we,nq(t)];return r=r||("object"==typeof t?void 0:It(t)),new fa(s,e||df(),r||null,i)}let an=(()=>{class t{static{this.THROW_IF_NOT_FOUND=xc}static{this.NULL=new rf}static create(n,r){if(Array.isArray(n))return JN({name:""},r,n,"");{const i=n.name??"";return JN({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>W(Wx)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function l_(t){return t.ngOriginalError}class Gr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&l_(e);for(;n&&l_(n);)n=l_(n);return n||null}}const tk=new U("",{providedIn:"root",factory:()=>S(Gr).handleError.bind(void 0)});let Ta=(()=>{class t{static{this.__NG_ELEMENT_ID__=E5}static{this.__NG_ENV_ID__=n=>n}}return t})();class w5 extends Ta{constructor(e){super(),this._lView=e}onDestroy(e){return yf(this._lView,e),()=>function Wv(t,e){if(null===t[os])return;const n=t[os].indexOf(e);-1!==n&&t[os].splice(n,1)}(this._lView,e)}}function E5(){return new w5(I())}function I5(){return Ca(xe(),I())}function Ca(t,e){return new as(En(t,e))}let as=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=I5}}return t})();function d_(t){return e=>{setTimeout(t,void 0,e)}}const bn=class b5 extends or{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,aN()&&(this.destroyRef=S(Ta,{optional:!0})??void 0)}emit(e){const n=le(null);try{super.next(e)}finally{le(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=d_(s),i&&(i=d_(i)),o&&(o=d_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof _n&&e.add(a),a}};function Sf(t){return!(128&~t.flags)}const f_=new Map;let C5=0;const g_="__ngContext__";function un(t,e){rn(e)?(t[g_]=e[Fc],function A5(t){f_.set(t[Fc],t)}(e)):t[g_]=e}function fk(t){return gk(t[Pc])}function pk(t){return gk(t[wr])}function gk(t){for(;null!==t&&!sn(t);)t=t[wr];return t}let m_;const xf=new U("",{providedIn:"root",factory:()=>q5}),q5="ng",bk=new U(""),Si=new U("",{providedIn:"platform",factory:()=>"unknown"}),Dk=new U(""),Tk=new U("",{providedIn:"root",factory:()=>function us(){if(void 0!==m_)return m_;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ck=()=>null;function D_(t,e,n=!1){return Ck(t,e,n)}const Nk=new U("",{providedIn:"root",factory:()=>!1});class Fk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nx})`}}const g6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xa||{});function Na(t){const e=function tl(){const t=I();return t&&t[Er].sanitizer}();return e?e.sanitize(xa.URL,t)||"":function Zc(t,e){const n=function d6(t){return t instanceof Fk&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Nx})`)}return n===e}(t,"URL")?function cs(t){return t instanceof Fk?t.changingThisBreaksApplicationSecurity:t}(t):function x_(t){return(t=String(t)).match(g6)?t:"unsafe:"+t}(ie(t))}function Qn(t){return t instanceof Function?t():t}var ls=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ls||{});let L_;function V_(t,e){return L_(t,e)}function Ra(t,e,n,r,i){if(null!=r){let s,o=!1;sn(r)?s=r:rn(r)&&(o=!0,r=r[We]);const a=Re(r);0===t&&null!==n?null==i?i1(e,n,a):so(e,n,a,i||null,!0):1===t&&null!==n?so(e,n,a,i||null,!0):2===t?function il(t,e,n){const r=zf(t,e);r&&function J6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function t9(t,e,n,r,i){const s=n[Ur];s!==Re(n)&&Ra(e,t,r,s,i);for(let a=ot;a<n.length;a++){const u=n[a];qf(u[A],u,t,e,r,s)}}(e,t,s,n,i)}}function $f(t,e,n){return t.createElement(e,n)}function t1(t,e){e[Er].changeDetectionScheduler?.notify(1),qf(t,e,e[J],2,null,null)}function n1(t,e){const n=t[_a],r=n.indexOf(e);n.splice(r,1)}function nl(t,e){if(t.length<=ot)return;const n=ot+e,r=t[n];if(r){const i=r[Oc];null!==i&&i!==t&&n1(i,r),e>0&&(t[n-1][wr]=r[wr]);const s=tf(t,ot+e);!function G6(t,e){t1(t,e),e[We]=null,e[nn]=null}(r[A],r);const o=s[Di];null!==o&&o.detachView(s[A]),r[st]=null,r[wr]=null,r[q]&=-129}return r}function Hf(t,e){if(!(256&e[q])){const n=e[J];n.destroyNode&&qf(t,e,n,3,null,null),function W6(t){let e=t[Pc];if(!e)return j_(t[A],t);for(;e;){let n=null;if(rn(e))n=e[Pc];else{const r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[wr]&&e!==t;)rn(e)&&j_(e[A],e),e=e[st];null===e&&(e=t),rn(e)&&j_(e[A],e),n=e&&e[wr]}e=n}}(e)}}function j_(t,e){if(256&e[q])return;const n=le(null);try{e[q]&=-129,e[q]|=256,e[Zs]&&function yx(t){if(ia(t),Sc(t))for(let e=0;e<t.producerNode.length;e++)$h(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[Zs]),function X6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Hc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Br(4,a,u);try{u.call(a)}finally{Br(5,a,u)}}else{Br(4,i,s);try{s.call(i)}finally{Br(5,i,s)}}}}}(t,e),function Y6(t,e){const n=t.cleanup,r=e[ma];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ma]=null);const i=e[os];if(null!==i){e[os]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[A].type&&e[J].destroy();const r=e[Oc];if(null!==r&&sn(e[st])){r!==e[st]&&n1(r,e);const i=e[Di];null!==i&&i.detachView(t)}!function M5(t){f_.delete(t[Fc])}(e)}finally{le(n)}}function $_(t,e,n){return function r1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[We];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===yr.None||s===yr.Emulated)return null}return En(r,n)}}(t,e.parent,n)}function so(t,e,n,r,i){t.insertBefore(e,n,r,i)}function i1(t,e,n){t.appendChild(e,n)}function s1(t,e,n,r,i){null!==r?so(t,e,n,r,i):i1(t,e,n)}function zf(t,e){return t.parentNode(e)}let H_,u1=function a1(t,e,n){return 40&t.type?En(t,n):null};function Gf(t,e,n,r){const i=$_(t,r,e),s=e[J],a=function o1(t,e,n){return u1(t,e,n)}(r.parent||e[nn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)s1(s,i,n[u],a,!1);else s1(s,i,n,a,!1);void 0!==H_&&H_(s,r,e,n,i)}function rl(t,e){if(null!==e){const n=e.type;if(3&n)return En(e,t);if(4&n)return z_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return rl(t,r);{const i=t[e.index];return sn(i)?z_(-1,i):Re(i)}}if(32&n)return V_(e,t)()||Re(t[e.index]);{const r=l1(t,e);return null!==r?Array.isArray(r)?r[0]:rl(no(t[Qe]),r):rl(t,e.next)}}return null}function l1(t,e){return null!==e?t[Qe][nn].projection[e.projection]:null}function z_(t,e){const n=ot+t+1;if(n<e.length){const r=e[n],i=r[A].firstChild;if(null!==i)return rl(r,i)}return e[Ur]}function G_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&un(Re(a),r),n.flags|=2),32&~n.flags)if(8&u)G_(t,e,n.child,r,i,s,!1),Ra(e,t,i,a,s);else if(32&u){const c=V_(n,r);let l;for(;l=c();)Ra(e,t,i,l,s);Ra(e,t,i,a,s)}else 16&u?h1(t,e,r,n,i,s):Ra(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qf(t,e,n,r,i,s){G_(n,r,t.firstChild,e,i,s,!1)}function h1(t,e,n,r,i,s){const o=n[Qe],u=o[nn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ra(e,t,i,u[c],s);else{let c=u;const l=o[st];Sf(r)&&(c.flags|=128),G_(t,e,c,l,i,s,!0)}}function f1(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function p1(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Cv(t,e,r),null!==i&&f1(t,e,i),null!==s&&function r9(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const ae={};function Ct(t=1){g1(fe(),I(),on()+t,!1)}function g1(t,e,n,r){if(!r)if(3&~e[q]){const s=t.preOrderHooks;null!==s&&Ef(e,s,0,n)}else{const s=t.preOrderCheckHooks;null!==s&&wf(e,s,n)}ro(n)}function G(t,e=he.Default){const n=I();return null===n?W(t,e):HN(xe(),n,Y(t),e)}function y1(t,e,n,r,i,s){const o=le(null);try{let a=null;i&vr.SignalBased&&(a=e[r][qs]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&vr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),null!==t.setInput?t.setInput(e,a,s,n,r):pN(e,a,r,s)}finally{le(o)}}function Wf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[We]=i,d[q]=204|r,(null!==c||t&&2048&t[q])&&(d[q]|=2048),EN(d),d[st]=d[ya]=t,d[Fe]=n,d[Er]=o||t&&t[Er],d[J]=a||t&&t[J],d[mt]=u||t&&t[mt]||null,d[nn]=s,d[Fc]=function S5(){return C5++}(),d[Wn]=l,d[lN]=c,d[Qe]=2==e.type?t[Qe]:d,d}function Pa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function q_(t,e,n,r,i){const s=TN(),o=Kv(),u=t.data[e]=function d9(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ea(){return null!==Z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function zq(){return Z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function jc(){const t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $r(s,!0),s}function sl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function v1(t,e,n,r,i){const s=on(),o=2&r;try{ro(-1),o&&e.length>se&&g1(t,e,se,!1),Br(o?2:0,i),n(r,i)}finally{ro(s),Br(o?3:1,i)}}function W_(t,e,n){if(Vv(e)){const r=le(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{le(r)}}}function K_(t,e,n){DN()&&(function v9(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;eo(n)&&function T9(t,e,n){const r=En(e,t),i=_1(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Kf(t,Wf(t,i,null,o,r,e,null,t[Er].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bf(n,e),un(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=io(e,t,a,n);un(c,e),null!==o&&C9(0,a-i,c,u,0,o),Ir(u)&&(Kn(n.index,e)[Fe]=io(e,t,a,n))}}(t,e,n,En(n,e)),!(64&~n.flags)&&D1(t,e,n))}function Q_(t,e,n=En){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function _1(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Y_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Y_(t,e,n,r,i,s,o,a,u,c,l){const d=se+r,h=d+i,f=function s9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ae);return n}(d,h),p="function"==typeof c?c():c;return f[A]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let w1=()=>null;function E1(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,u=vr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===t?I1(r,n,c,a,u):I1(r,n,c,a)}return r}function I1(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],void 0!==i&&s.push(i)}function X_(t,e,n,r){if(DN()){const i=null===r?null:{"":-1},s=function w9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Jx(e,o.selectors,!1))if(r||(r=[]),Ir(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),J_(t,e,a.length)}else r.unshift(o),J_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&b1(t,e,n,o,i,a),i&&function E9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=kc(n.mergedAttrs,n.attrs)}function b1(t,e,n,r,i,s){for(let c=0;c<r.length;c++)o_(bf(n,e),t,r[c].type);!function b9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=sl(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=kc(n.mergedAttrs,l.hostAttrs),D9(t,n,e,u,l),I9(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function h9(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=E1(0,d.inputs,l,u,h?h.inputs:null),c=E1(1,d.outputs,l,c,p);const g=null===u||null===o||Sv(e)?null:S9(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function D1(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function qq(){return Z.lFrame.currentDirectiveIndex}();try{ro(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Yv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_9(u,c)}}finally{ro(-1),Yv(o)}}function _9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function J_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function I9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ir(e)&&(n[""]=t)}}function D9(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ys(i.type)),o=new Hc(s,Ir(i),G);t.blueprint[r]=o,n[r]=o,function m9(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function y9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,sl(t,n,i.hostVars,ae),i)}function C9(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)y1(r,n,o[a++],o[a++],o[a++],o[a++])}function S9(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function T1(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function C1(t,e){const n=t.contentQueries;if(null!==n){const r=le(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=t.data[o];vf(n[i]),a.contentQueries(2,e[o],o)}}}finally{le(r)}}}function Kf(t,e){return t[Pc]?t[cN][wr]=e:t[Pc]=e,t[cN]=e,e}function ew(t,e,n){vf(0);const r=le(null);try{e(t,n)}finally{le(r)}}function Qf(t,e){const n=t[mt],r=n?n.get(Gr,null):null;r&&r.handleError(e)}function tw(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=n[s++];y1(t.data[o],e[o],r,a,u,i)}}function Mi(t,e,n){const r=function Vc(t,e){return Re(e[t])}(e,t);!function e1(t,e,n){t.setValue(e,n)}(t[J],r,n)}function A9(t,e){const n=Kn(e,t),r=n[A];!function M9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[We];null!==i&&null===n[Wn]&&(n[Wn]=D_(i,n[mt])),nw(r,n,n[Fe])}function nw(t,e,n){Zv(e);try{const r=t.viewQuery;null!==r&&ew(1,r,n);const i=t.template;null!==i&&v1(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Di]?.finishViewCreation(t),t.staticContentQueries&&C1(t,e),t.staticViewQueries&&ew(2,t.viewQuery,n);const s=t.components;null!==s&&function x9(t,e){for(let n=0;n<e.length;n++)A9(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,e_()}}function Oa(t,e){return!e||null===e.firstChild||Sf(t)}function al(t,e,n,r=!0){const i=e[A];if(function K6(t,e,n,r){const i=ot+r,s=n.length;r>0&&(n[i-1][wr]=e),r<s-ot?(e[wr]=n[i],zx(n,ot+r,e)):(n.push(e),e[wr]=null),e[st]=n;const o=e[Oc];null!==o&&n!==o&&function Q6(t,e){const n=t[_a];e[Qe]!==e[st][st][Qe]&&(t[q]|=Lv.HasTransplantedViews),null===n?t[_a]=[e]:n.push(e)}(o,e);const a=e[Di];null!==a&&a.insertView(t),qv(e),e[q]|=128}(i,e,t,n),r){const o=z_(n,t),a=e[J],u=zf(a,t[Ur]);null!==u&&function q6(t,e,n,r,i,s){r[We]=i,r[nn]=e,qf(t,r,n,1,i,s)}(i,t[nn],a,e,u,o)}const s=e[Wn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function ul(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Re(s)),sn(s)&&N1(s,r);const o=n.type;if(8&o)ul(t,e,n.child,r);else if(32&o){const a=V_(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=l1(e,n);if(Array.isArray(a))r.push(...a);else{const u=no(e[Qe]);ul(u[A],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function N1(t,e){for(let n=ot;n<t.length;n++){const r=t[n],i=r[A].firstChild;null!==i&&ul(r[A],r,i,e)}t[Ur]!==t[We]&&e.push(t[Ur])}let k1=[];const P9={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bc(t.lView)},consumerOnSignalRead(){this.lView[Zs]=this}},R1=100;function Yf(t,e=!0,n=0){const r=t[Er],i=r.rendererFactory;i.begin?.();try{!function O9(t,e){iw(t,e);let n=0;for(;Gv(t);){if(n===R1)throw new b(103,!1);n++,iw(t,1)}}(t,n)}catch(o){throw e&&Qf(t,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function F9(t,e,n,r){const i=e[q];if(!(256&~i))return;e[Er].inlineEffectRunner?.flush(),Zv(e);let o=null,a=null;(function L9(t){return 2!==t.type})(t)&&(a=function N9(t){return t[Zs]??function k9(t){const e=k1.pop()??Object.create(P9);return e.lView=t,e}(t)}(e),o=function gx(t){return t&&(t.nextProducerIndex=0),le(t)}(a));try{EN(e),function SN(t){return Z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&v1(t,e,n,2,r);const u=!(3&~i);if(u){const d=t.preOrderCheckHooks;null!==d&&wf(e,d,null)}else{const d=t.preOrderHooks;null!==d&&Ef(e,d,0,null),t_(e,0)}if(function V9(t){for(let e=fk(t);null!==e;e=pk(e)){if(!(e[q]&Lv.HasTransplantedViews))continue;const n=e[_a];for(let r=0;r<n.length;r++){kq(n[r])}}}(e),P1(e,0),null!==t.contentQueries&&C1(t,e),u){const d=t.contentCheckHooks;null!==d&&wf(e,d)}else{const d=t.contentHooks;null!==d&&Ef(e,d,1),t_(e,1)}!function i9(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ro(~i);else{const s=i,o=n[++r],a=n[++r];Gq(o,s),a(2,e[s])}}}finally{ro(-1)}}(t,e);const c=t.components;null!==c&&F1(e,c,0);const l=t.viewQuery;if(null!==l&&ew(2,l,r),u){const d=t.viewCheckHooks;null!==d&&wf(e,d)}else{const d=t.viewHooks;null!==d&&Ef(e,d,2),t_(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[pf]){for(const d of e[pf])d();e[pf]=null}e[q]&=-73}catch(u){throw Bc(e),u}finally{null!==a&&(function mx(t,e){if(le(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Sc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$h(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function R9(t){t.lView[Zs]!==t&&(t.lView=null,k1.push(t))}(a)),e_()}}function P1(t,e){for(let n=fk(t);null!==n;n=pk(n))for(let r=ot;r<n.length;r++)O1(n[r],e)}function U9(t,e,n){O1(Kn(e,t),n)}function O1(t,e){zv(t)&&iw(t,e)}function iw(t,e){const r=t[A],i=t[q],s=t[Zs];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!Xy(s)),s&&(s.dirty=!1),t[q]&=-9217,o)F9(r,t,r.template,t[Fe]);else if(8192&i){P1(t,1);const a=r.components;null!==a&&F1(t,a,1)}}function F1(t,e,n){for(let r=0;r<e.length;r++)U9(t,e[r],n)}function cl(t){for(t[Er].changeDetectionScheduler?.notify();t;){t[q]|=64;const e=no(t);if(Uv(t)&&!e)return t;t=e}return null}class ll{get rootNodes(){const e=this._lView,n=e[A];return ul(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fe]}set context(e){this._lView[Fe]=e}get destroyed(){return!(256&~this._lView[q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[st];if(sn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(nl(e,r),tf(n,r))}this._attachedToViewContainer=!1}Hf(this._lView[A],this._lView)}onDestroy(e){yf(this._lView,e)}markForCheck(){cl(this._cdRefInjectingView||this._lView)}detach(){this._lView[q]&=-129}reattach(){qv(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,Yf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,t1(this._lView[A],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,qv(this._lView)}}let xi=(()=>{class t{static{this.__NG_ELEMENT_ID__=$9}}return t})();const B9=xi,j9=class extends B9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function ol(t,e,n,r){const i=le(null);try{const s=e.tView,u=Wf(t,s,n,4096&t[q]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[Oc]=t[e.index];const l=t[Di];return null!==l&&(u[Di]=l.createEmbeddedView(s)),nw(s,u,n),u}finally{le(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ll(i)}};function $9(){return function Xf(t,e){return 4&t.type?new j9(e,t,Ca(t,e)):null}(xe(),I())}class np{}class hW{}class H1{}class pW{resolveComponentFactory(e){throw function fW(t){const e=Error(`No component factory found for ${It(t)}.`);return e.ngComponent=t,e}(e)}}let rp=(()=>{class t{static{this.NULL=new pW}}return t})();class lw{}let mW=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();const dw={},G1=new Set;function Wr(t){G1.has(t)||(G1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function q1(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bn(!1),this.onMicrotaskEmpty=new bn(!1),this.onStable=new bn(!1),this.onError=new bn(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yW(){const t="function"==typeof Ae.requestAnimationFrame;let e=Ae[t?"requestAnimationFrame":"setTimeout"],n=Ae[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function wW(t){const e=()=>{!function _W(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fw(t),t.isCheckStableRunning=!0,hw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function EW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return W1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),K1(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return W1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),K1(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,fw(t),hw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,vW,q1,q1);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const vW={};function hw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function W1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function K1(t){t._nesting--,hw(t)}class Q1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bn,this.onMicrotaskEmpty=new bn,this.onStable=new bn,this.onError=new bn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var oo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(oo||{});const Y1={destroy(){}};function gw(t,e){!e&&function hf(t){if(!aN())throw new b(-203,!1)}();const n=e?.injector??S(an);if(!function Dr(t){return"browser"===(t??S(an)).get(Si)}(n))return Y1;Wr("NgAfterNextRender");const r=n.get(gl),i=r.handler??=new J1,s=e?.phase??oo.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Ta).onDestroy(o),u=bi(n,()=>new X1(s,()=>{o(),t()}));return i.register(u),{destroy:o}}class X1{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=S(Ee),this.errorHandler=S(Gr,{optional:!0}),S(np,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class J1{constructor(){this.executingCallbacks=!1,this.buckets={[oo.EarlyRead]:new Set,[oo.Write]:new Set,[oo.MixedReadWrite]:new Set,[oo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let gl=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();function op(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=cv(i,a):2==s&&(r=cv(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class tR extends rp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new vl(n,this.ngModule)}}function nR(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class ap{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zh(r);const i=this.injector.get(e,dw,r);return i!==dw||n===dw?i:this.parentInjector.get(e,n,r)}}class vl extends H1{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=nR(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function YG(t){return t.map(QG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const s=le(null);try{let o=(i=i||this.ngModule)instanceof On?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new ap(e,o):e,u=a.get(lw,null);if(null===u)throw new b(407,!1);const c=a.get(mW,null),h={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(gl,null),changeDetectionScheduler:a.get(np,null)},f=u.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?function o9(t,e,n,r){const s=r.get(Nk,!1)||n===yr.ShadowDom,o=t.selectRootElement(e,s);return function a9(t){w1(t)}(o),o}(f,r,this.componentDef.encapsulation,a):$f(f,p,function CW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;null!==g&&(v=D_(g,a,!0));const _=Y_(0,null,null,1,0,null,null,null,null,null,null),D=Wf(null,_,null,y,null,null,h,f,a,null,v);let N,V;Zv(D);try{const B=this.componentDef;let te,Ce=null;B.findHostDirectiveDefs?(te=[],Ce=new Map,B.findHostDirectiveDefs(B,te,Ce),te.push(B)):te=[B];const en=function AW(t,e){const n=t[A],r=se;return t[r]=e,Pa(n,r,2,"#host",null)}(D,g),_i=function MW(t,e,n,r,i,s,o){const a=i[A];!function xW(t,e,n,r){for(const i of t)e.mergedAttrs=kc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(op(e,e.mergedAttrs,!0),null!==n&&p1(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=D_(e,i[mt]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Wf(i,_1(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&J_(a,t,r.length-1),Kf(i,d),i[t.index]=d}(en,g,B,te,D,h,f);V=Uc(_,se),g&&function kW(t,e,n,r){if(r)Cv(t,n,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function XG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Cv(t,n,i),s&&s.length>0&&f1(t,n,s.join(" "))}}(f,B,g,r),void 0!==n&&function RW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(V,this.ngContentSelectors,n),N=function NW(t,e,n,r,i,s){const o=xe(),a=i[A],u=En(o,i);b1(a,i,o,n,null,r);for(let l=0;l<n.length;l++)un(io(i,a,o.directiveStart+l,o),i);D1(a,i,o),u&&un(u,i);const c=io(i,a,o.directiveStart+o.componentOffset,o);if(t[Fe]=i[Fe]=c,null!==s)for(const l of s)l(c,e);return W_(a,o,i),c}(_i,B,te,Ce,D,[PW]),nw(_,D,null)}finally{e_()}return new SW(this.componentType,N,Ca(V,D),D,V)}finally{le(s)}}}class SW extends hW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ll(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;tw(s[A],s,i,e,n),this.previousInputValues.set(e,n),cl(Kn(this._tNode.index,s))}}get injector(){return new Tt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function PW(){const t=xe();_f(I()[A],t)}let Tr=(()=>{class t{static{this.__NG_ELEMENT_ID__=OW}}return t})();function OW(){return function sR(t,e){let n;const r=e[t.index];return sn(r)?n=r:(n=T1(r,e,null,t),e[t.index]=n,Kf(e,n)),oR(n,e,t,r),new rR(n,t,e)}(xe(),I())}const FW=Tr,rR=class extends FW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new Tt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Df(this._hostTNode,this._hostLView);if(r_(e)){const n=Gc(e,this._hostLView),r=zc(e);return new Tt(n[A].data[r+8],n)}return new Tt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=iR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,Oa(this._hostTNode,null)),a}createComponent(e,n,r,i,s){const o=e&&!function Rc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const u=o?e:new vl(de(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const g=(o?c:this.parentInjector).get(On,null);g&&(s=g)}de(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,Oa(this._hostTNode,null)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function Nq(t){return sn(t[st])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[st],c=new rR(u,u[nn],u[st]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;return al(o,i,s,r),e.attachToViewContainerRef(),zx(vw(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=iR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=nl(this._lContainer,n);r&&(tf(vw(this._lContainer),n),Hf(r[A],r))}detach(e){const n=this._adjustIndex(e,-1),r=nl(this._lContainer,n);return r&&null!=tf(vw(this._lContainer),n)?new ll(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iR(t){return t[8]}function vw(t){return t[8]||(t[8]=[])}let oR=function uR(t,e,n,r){if(t[Ur])return;let i;i=8&n.type?Re(r):function LW(t,e){const n=t[J],r=n.createComment(""),i=En(e,t);return so(n,zf(n,i),r,function Z6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ur]=i},_w=()=>!1;class ao{}class OR{}class Aw extends ao{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tR(this);const i=tn(e);this._bootstrapComponents=Qn(i.bootstrap),this._r3Injector=ZN(e,n,[{provide:ao,useValue:this},{provide:rp,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Mw extends OR{constructor(e){super(),this.moduleType=e}create(e){return new Aw(this.moduleType,e,[])}}class FR extends ao{constructor(e){super(),this.componentFactoryResolver=new tR(this),this.instance=null;const n=new fa([...e.providers,{provide:ao,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],e.parent||df(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function lp(t,e,n=null){return new FR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Va=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ar(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hp(t){return!!function xw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function at(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qr(t,e,n,r,i,s,o,a){const u=I(),c=fe(),l=t+se,d=c.firstCreatePass?function w7(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Pa(e,t,4,o||null,jr(c,a));X_(e,n,l,jr(c,u)),_f(e,l);const d=l.tView=Y_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];$r(d,!1);const h=LR(c,u,d,t);$c()&&Gf(c,u,h,d),un(h,u);const f=T1(h,u,h,d);return u[l]=f,Kf(u,f),function aR(t,e,n){return _w(t,e,n)}(f,d,u),mf(d)&&K_(c,u,d),null!=o&&Q_(u,d,a),Qr}let LR=function VR(t,e,n,r){return Hr(!0),e[J].createComment("")};function kt(t,e,n){const r=I();return at(r,br(),e)&&function Ln(t,e,n,r,i,s,o,a){const u=En(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(tw(t,n,l,r,i),eo(e)&&function p9(t,e){const n=Kn(e,t);16&n[q]||(n[q]|=64)}(n,e.index)):3&e.type&&(r=function f9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(fe(),function Le(){const t=Z.lFrame;return Uc(t.tView,t.selectedIndex)}(),r,t,e,r[J],n,!1),kt}function zw(t,e,n,r,i){const o=i?"class":"style";tw(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=I(),s=fe(),o=se+t,a=i[J],u=s.firstCreatePass?function G8(t,e,n,r,i,s){const o=e.consts,u=Pa(e,t,2,r,jr(o,i));return X_(e,n,u,jr(o,s)),null!==u.attrs&&op(u,u.attrs,!1),null!==u.mergedAttrs&&op(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=RP(s,i,u,a,e,t);i[o]=c;const l=mf(u);return $r(u,!0),p1(a,c,u),!function El(t){return!(32&~t.flags)}(u)&&$c()&&Gf(s,i,c,u),0===function Rq(){return Z.lFrame.elementDepthCount}()&&un(c,i),function Pq(){Z.lFrame.elementDepthCount++}(),l&&(K_(s,i,u),W_(s,u,i)),null!==r&&Q_(i,u),M}function x(){let t=xe();Kv()?function Qv(){Z.lFrame.isParent=!1}():(t=t.parent,$r(t,!1));const e=t;(function Fq(t){return Z.skipHydrationRootTNode===t})(e)&&function Bq(){Z.skipHydrationRootTNode=null}(),function Oq(){Z.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(_f(n,t),Vv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function r5(t){return!!(8&t.flags)}(e)&&zw(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function i5(t){return!!(16&t.flags)}(e)&&zw(n,e,I(),e.stylesWithoutHost,!1),x}function Ze(t,e,n,r){return M(t,e,n,r),x(),Ze}let RP=(t,e,n,r,i,s)=>(Hr(!0),$f(r,i,function PN(){return Z.lFrame.currentNamespace}()));const nu="en-US";let BP=nu;function zt(t,e,n,r){const i=I(),s=fe(),o=xe();return function eE(t,e,n,r,i,s,o){const a=mf(r),c=t.firstCreatePass&&function A1(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Fe],d=function S1(t){return t[ma]||(t[ma]=[])}(e);let h=!0;if(3&r.type||o){const g=En(r,e),y=o?o(g):g,v=d.length,_=o?N=>o(Re(N[r.index])):r.index;let D=null;if(!o&&a&&(D=function YK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ma],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,h=!1;else{s=pO(r,e,l,s,!1);const N=n.listen(y,i,s);d.push(s,N),c&&c.push(i,_,v,v+1)}}else s=pO(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),B=d.length;d.push(s,V),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[J],o,t,e,r),zt}function fO(t,e,n,r){const i=le(null);try{return Br(6,e,n),!1!==n(r)}catch(s){return Qf(t,s),!1}finally{Br(7,e,n),le(i)}}function pO(t,e,n,r,i){return function s(o){if(o===Function)return r;cl(t.componentOffset>-1?Kn(t.index,e):e);let u=fO(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=fO(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function F(t,e=""){const n=I(),r=fe(),i=t+se,s=r.firstCreatePass?Pa(r,i,1,e,null):r.data[i],o=FO(r,n,s,e,t);n[i]=o,$c()&&Gf(r,n,o,s),$r(s,!1)}let FO=(t,e,n,r,i)=>(Hr(!0),function U_(t,e){return t.createText(e)}(e[J],r));function ru(t){return nE("",t,""),ru}function nE(t,e,n){const r=I(),i=function qa(t,e,n,r){return at(t,br(),n)?e+ie(n)+r:ae}(r,t,e,n);return i!==ae&&Mi(r,on(),i),nE}let DQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Av(0,n.type),i=r.length>0?lp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(W(On))})}}return t})();function iu(t){Wr("NgStandalone"),t.getStandaloneInjector=e=>e.get(DQ).getOrCreateStandaloneInjector(t)}class Ol{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const hY=new Ol("17.3.12");let gF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const wF=new U(""),Ap=new U("");let pE,hE=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,pE||(function VY(t){pE=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(W(Ee),W(fE),W(Ap))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),fE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return pE?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Mp(t){return!!t&&"function"==typeof t.then}function EF(t){return!!t&&"function"==typeof t.subscribe}const gE=new U("");let mE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=S(gE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Mp(s))n.push(s);else if(EF(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const yE=new U("");function DF(t,e){return Array.isArray(e)?e.reduce(DF,t):{...t,...e}}let gs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(tk),this.afterRenderEffectManager=S(gl),this.externalTestViews=new Set,this.beforeRender=new or,this.afterTick=new or,this.componentTypes=[],this.components=[],this.isStable=S(Va).hasPendingTasks.pipe(Se(n=>!n)),this._injector=S(On)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof H1;if(!this._injector.get(mE).done)throw!i&&function ss(t){const e=de(t)||bt(t)||Ht(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(rp).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function UY(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ao),c=o.create(an.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(wF,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),xp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new b(101,!1);const r=le(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,le(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===R1)throw new b(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)jY(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>vE(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>vE(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;xp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(yE,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function jY(t,e,n){!e&&!vE(t)||function $Y(t,e,n){let r;n?(r=0,t[q]|=1024):r=64&t[q]?0:1,Yf(t,e,r)}(t,n,e)}function vE(t){return Gv(t)}class HY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let TF=(()=>{class t{compileModuleSync(n){return new Mw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Qn(tn(n).declarations).reduce((o,a)=>{const u=de(a);return u&&o.push(new vl(u)),o},[]);return new HY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qY=(()=>{class t{constructor(){this.zone=S(Ee),this.applicationRef=S(gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WY(){const t=S(Ee),e=S(Gr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let QY=(()=>{class t{constructor(){this.subscription=new _n,this.initialized=!1,this.zone=S(Ee),this.pendingTasks=S(Va)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Ni=new U("",{providedIn:"root",factory:()=>S(Ni,he.Optional|he.SkipSelf)||function YY(){return typeof $localize<"u"&&$localize.locale||nu}()}),_E=new U("");let MF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function IW(t="zone.js",e){return"noop"===t?new Q1:"zone.js"===t?new Ee(e):t}(r?.ngZone,function AF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function p7(t,e,n){return new Aw(t,e,n)}(n.moduleType,this.injector,function SF(t){return[{provide:Ee,useFactory:t},{provide:Xs,multi:!0,useFactory:()=>{const e=S(qY,{optional:!0});return()=>e.initialize()}},{provide:Xs,multi:!0,useFactory:()=>{const e=S(QY);return()=>{e.initialize()}}},{provide:tk,useFactory:WY}]}(()=>i)),o=s.injector.get(Gr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{xp(this._modules,s),a.unsubscribe()})}),function bF(t,e,n){try{const r=n();return Mp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(mE);return a.runInitializers(),a.donePromise.then(()=>(function jP(t){"string"==typeof t&&(BP=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ni,nu)||nu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=DF({},r);return function GY(t,e,n){const r=new Mw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(_E,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(W(an))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),ms=null;const xF=new U("");function NF(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=wE();if(!o||o.injector.get(xF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function ZY(t){if(ms&&!ms.get(xF,!1))throw new b(400,!1);(function IF(){!function J3(t){wx=t}(()=>{throw new b(600,!1)})})(),ms=t;const e=t.get(MF);(function RF(t){t.get(bk,null)?.forEach(n=>n())})(t)}(function kF(t=[],e){return an.create({name:e,providers:[{provide:Nv,useValue:"platform"},{provide:_E,useValue:new Set([()=>ms=null])},...t]})}(a,r))}return function eX(t){const e=wE();if(!e)throw new b(401,!1);return e}()}}function wE(){return ms?.get(MF)??null}let kp=(()=>{class t{static{this.__NG_ELEMENT_ID__=nX}}return t})();function nX(t){return function rX(t,e,n){if(eo(t)&&!n){const r=Kn(t.index,e);return new ll(r,r)}return 47&t.type?new ll(e[Qe],e):null}(xe(),I(),!(16&~t))}class VF{constructor(){}supports(e){return hp(e)}create(e){return new uX(e)}}const aX=(t,e)=>e;class uX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<BF(r,i,s)?n:r,a=BF(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!hp(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function v7(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new cX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new UF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class UF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new lX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function $F(){return new TE([new VF])}let TE=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:$F})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||$F()),deps:[[t,new ef,new kn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new b(901,!1)}}return t})();const gX=NF(null,"core",[]);let mX=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(W(gs))}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=mr({})}}return t})(),hL=null;function uu(){return hL}class ZX{}const Xn=new U("");let ME=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>S(tJ),providedIn:"platform"})}}return t})();const eJ=new U("");let tJ=(()=>{class t extends ME{constructor(){super(),this._doc=S(Xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uu().getBaseHref(this._doc)}onPopState(n){const r=uu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=uu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function xE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ki(t){return t&&"?"!==t[0]?"?"+t:t}let po=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>S(gL),providedIn:"root"})}}return t})();const pL=new U("");let gL=(()=>{class t extends po{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ki(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ki(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(ME),W(pL,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nJ=(()=>{class t extends po{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=xE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ki(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(W(ME),W(pL,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Ul=(()=>{class t{constructor(n){this._subject=new bn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function sJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(fL(mL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ki(r))}normalize(n){return t.stripTrailingSlash(function iJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,mL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ki(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ki(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ki}static{this.joinWithSlash=xE}static{this.stripTrailingSlash=fL}static{this.\u0275fac=function(r){return new(r||t)(W(po))}}static{this.\u0275prov=$({token:t,factory:()=>function rJ(){return new Ul(W(po))}(),providedIn:"root"})}}return t})();function mL(t){return t.replace(/\/index.html$/,"")}class qJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jl=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),SL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{SL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(G(Tr),G(xi),G(TE))}}static{this.\u0275dir=wn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function SL(t,e){t.context.$implicit=e.item}let AL=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new WJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ML("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ML("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(G(Tr),G(xi))}}static{this.\u0275dir=wn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class WJ{constructor(){this.$implicit=null,this.ngIf=null}}function ML(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${It(e)}'.`)}let lu=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=mr({})}}return t})();const kL="browser";function RL(t){return"server"===t}let bZ=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>function IZ(t){return t===kL}(S(Si))?new DZ(S(Xn),window):new CZ})}}return t})();class DZ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function TZ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class CZ{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class tee extends ZX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qE extends tee{static makeCurrent(){!function JX(t){hL??=t}(new qE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function nee(){return zl=zl||document.querySelector("base"),zl?zl.getAttribute("href"):null}();return null==n?null:function ree(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function HJ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let zl=null,see=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();const WE=new U("");let $L=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(W(WE),W(Ee))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();class HL{constructor(e){this._doc=e}}const KE="ng-app-id";let zL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=RL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${KE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(KE),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(KE,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(W(Xn),W(xf),W(Tk,8),W(Si))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();const QE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},YE=/%COMP%/g,cee=new U("",{providedIn:"root",factory:()=>!0});function qL(t,e){return e.map(n=>n.replace(YE,t))}let XE=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=RL(a),this.defaultRenderer=new JE(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yr.ShadowDom&&(r={...r,encapsulation:yr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof KL?i.applyToHost(n):i instanceof ZE&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case yr.Emulated:s=new KL(u,c,r,this.appId,l,o,a,d);break;case yr.ShadowDom:return new fee(u,c,n,r,o,a,this.nonce,d);default:s=new ZE(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(W($L),W(zL),W(xf),W(cee),W(Xn),W(Si),W(Ee),W(Tk))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();class JE{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(QE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=QE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=QE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ls.DashCase|ls.Important)?e.style.setProperty(n,r,i&ls.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ls.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=uu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function WL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class fee extends JE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=qL(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ZE extends JE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KL extends ZE{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function lee(t){return"_ngcontent-%COMP%".replace(YE,t)}(c),this.hostAttr=function dee(t){return"_nghost-%COMP%".replace(YE,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let pee=(()=>{class t extends HL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(W(Xn))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();const QL=["alt","control","meta","shift"],gee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yee=(()=>{class t extends HL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uu().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),QL.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=gee[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QL.forEach(o=>{o!==i&&(0,mee[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(W(Xn))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();const XL=[{provide:Si,useValue:kL},{provide:bk,useValue:function vee(){qE.makeCurrent()},multi:!0},{provide:Xn,useFactory:function wee(){return function G5(t){m_=t}(document),document},deps:[]}],Eee=NF(gX,"browser",XL),Iee=new U(""),JL=[{provide:Ap,useClass:class iee{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?uu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:wF,useClass:hE,deps:[Ee,fE,Ap]},{provide:hE,useClass:hE,deps:[Ee,fE,Ap]}],ZL=[{provide:Nv,useValue:"root"},{provide:Gr,useFactory:function _ee(){return new Gr},deps:[]},{provide:WE,useClass:pee,multi:!0,deps:[Xn,Ee,Si]},{provide:WE,useClass:yee,multi:!0,deps:[Xn]},XE,zL,$L,{provide:lw,useExisting:XE},{provide:class SZ{},useClass:see,deps:[]},[]];let e2=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:xf,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(W(Iee,12))}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=mr({providers:[...ZL,...JL],imports:[lu,mX]})}}return t})(),bee=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(W(Xn))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ee=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ee||{});const Oi="*";function du(t,e){return{type:ee.Trigger,name:t,definitions:e,options:{}}}function hu(t,e=null){return{type:ee.Animate,styles:e,timings:t}}function Un(t){return{type:ee.Style,styles:t,offset:null}}function fu(t,e,n=null){return{type:ee.Transition,expr:t,animation:e,options:n}}class ql{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class i2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function s2(t){return new b(3e3,!1)}function ys(t){switch(t.length){case 0:return new ql;case 1:return t[0];default:return new i2(t)}}function o2(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case Oi:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=c}),i.length)throw function ete(t){return new b(3502,!1)}();return s}function tI(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&nI(n,"start",t)));break;case"done":t.onDone(()=>r(n&&nI(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&nI(n,"destroy",t)))}}function nI(t,e,n){const s=rI(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function rI(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function a2(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const hte=typeof document>"u"?null:document.documentElement;function iI(t){const e=t.parentNode||t.host||null;return e===hte?null:e}let go=null,u2=!1;function c2(t,e){for(;e;){if(e===t)return!0;e=iI(e)}return!1}function l2(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let sI=(()=>{class t{validateStyleProperty(n){return function pte(t){go||(go=function gte(){return typeof document<"u"?document.body:null}()||{},u2=!!go.style&&"WebkitAppearance"in go.style);let e=!0;return go.style&&!function fte(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in go.style,!e&&u2&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in go.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return c2(n,r)}getParentElement(n){return iI(n)}query(n,r,i){return l2(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new ql(i,s)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();class oI{static{this.NOOP=new sI}}class aI{}const yte=1e3,uI="ng-enter",tg="ng-leave",ng="ng-trigger",rg=".ng-trigger",h2="ng-animating",cI=".ng-animating";function Fi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lI(parseFloat(e[1]),e[2])}function lI(t,e){return"s"===e?t*yte:t}function ig(t,e,n){return t.hasOwnProperty("duration")?t:function _te(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(s2()),{duration:0,delay:0,easing:""};i=lI(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=lI(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function kee(){return new b(3100,!1)}()),a=!0),s<0&&(e.push(function Ree(){return new b(3101,!1)}()),a=!0),a&&e.splice(u,0,s2())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Jr(t,e,n){e.forEach((r,i)=>{const s=hI(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function mo(t,e){e.forEach((n,r)=>{const i=hI(r);t.style[i]=""})}function Wl(t){return Array.isArray(t)?1==t.length?t[0]:function See(t,e=null){return{type:ee.Sequence,steps:t,options:e}}(t):t}const dI=new RegExp("{{\\s*(.+?)\\s*}}","g");function p2(t){let e=[];if("string"==typeof t){let n;for(;n=dI.exec(t);)e.push(n[1]);dI.lastIndex=0}return e}function Kl(t,e,n){const r=`${t}`,i=r.replace(dI,(s,o)=>{let a=e[o];return null==a&&(n.push(function Oee(t){return new b(3003,!1)}()),a=""),a.toString()});return i==r?t:i}const Ite=/-+([a-z0-9])/g;function hI(t){return t.replace(Ite,(...e)=>e[1].toUpperCase())}function er(t,e,n){switch(e.type){case ee.Trigger:return t.visitTrigger(e,n);case ee.State:return t.visitState(e,n);case ee.Transition:return t.visitTransition(e,n);case ee.Sequence:return t.visitSequence(e,n);case ee.Group:return t.visitGroup(e,n);case ee.Animate:return t.visitAnimate(e,n);case ee.Keyframes:return t.visitKeyframes(e,n);case ee.Style:return t.visitStyle(e,n);case ee.Reference:return t.visitReference(e,n);case ee.AnimateChild:return t.visitAnimateChild(e,n);case ee.AnimateRef:return t.visitAnimateRef(e,n);case ee.Query:return t.visitQuery(e,n);case ee.Stagger:return t.visitStagger(e,n);default:throw function Fee(t){return new b(3004,!1)}()}}function fI(t,e){return window.getComputedStyle(t)[e]}const Tte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class g2 extends aI{normalizePropertyName(e,n){return hI(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(Tte.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Lee(t,e){return new b(3005,!1)}())}return o+s}}const sg="*";const og=new Set(["true","1"]),ag=new Set(["false","0"]);function m2(t,e){const n=og.has(t)||ag.has(t),r=og.has(e)||ag.has(e);return(i,s)=>{let o=t==sg||t==i,a=e==sg||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?og.has(t):ag.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?og.has(e):ag.has(e)),o&&a}}const Mte=new RegExp("s*:selfs*,?","g");function pI(t,e,n,r){return new xte(t).build(e,n,r)}class xte{constructor(e){this._driver=e}build(e,n,r){const i=new Rte(n);return this._resetContextStyleTimingState(i),er(this,Wl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function Vee(){return new b(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==ee.State){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(a.type==ee.Transition){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function Uee(){return new b(3007,!1)}())}),{type:ee.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{p2(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(function Bee(t,e){return new b(3008,!1)}(0,s.values()))}return{type:ee.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=er(this,Wl(e.animation),n),i=function Cte(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Ste(t,e,n){if(":"==t[0]){const u=function Ate(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Yee(t){return new b(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function Qee(t){return new b(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(m2(i,o)),"<"==s[0]&&(i!=sg||o!=sg)&&e.push(m2(o,i))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:ee.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:yo(e.options)}}visitSequence(e,n){return{type:ee.Sequence,steps:e.steps.map(r=>er(this,r,n)),options:yo(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=er(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:ee.Group,steps:s,options:yo(e.options)}}visitAnimate(e,n){const r=function Ote(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return gI(ig(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=gI(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=ig(n,e);return gI(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Un({});if(s.type==ee.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Un(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:ee.Animate,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Oi?r.push(a):n.errors.push(new b(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:ee.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function $ee(t,e,n,r,i){return new b(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function Ete(t,e,n){const r=e.params||{},i=p2(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Pee(t){return new b(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:ee.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Hee(){return new b(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(v=>{const _=this._makeStyleAst(v,n);let D=null!=_.offset?_.offset:function Pte(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(_.styles),N=0;return null!=D&&(s++,N=_.offset=D),u=u||N<0||N>1,a=a||N<c,c=N,o.push(N),_});u&&n.errors.push(function zee(){return new b(3012,!1)}()),a&&n.errors.push(function Gee(){return new b(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function qee(){return new b(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,y=g.duration;return l.forEach((v,_)=>{const D=h>0?_==f?1:h*_:o[_],N=D*y;n.currentTime=p+g.delay+N,g.duration=N,this._validateStyleAst(v,n),v.offset=D,r.styles.push(v)}),r}visitReference(e,n){return{type:ee.Reference,animation:er(this,Wl(e.animation),n),options:yo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ee.AnimateChild,options:yo(e.options)}}visitAnimateRef(e,n){return{type:ee.AnimateRef,animation:this.visitReference(e.animation,n),options:yo(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function Nte(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Mte,"")),t=t.replace(/@\*/g,rg).replace(/@\w+/g,n=>rg+"-"+n.slice(1)).replace(/:animating/g,cI),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Zn(n.collectedStyles,n.currentQuerySelector,new Map);const a=er(this,Wl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:ee.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:yo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Wee(){return new b(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ig(e.timings,n.errors,!0);return{type:ee.Stagger,animation:er(this,Wl(e.animation),n),timings:r,options:null}}}class Rte{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yo(t){return t?(t={...t}).params&&(t.params=function kte(t){return t?{...t}:null}(t.params)):t={},t}function gI(t,e,n){return{duration:t,delay:e,easing:n}}function mI(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ug{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Vte=new RegExp(":enter","g"),Bte=new RegExp(":leave","g");function yI(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new jte).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class jte{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new ug;const d=new vI(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?Fi(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),er(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const y=f[g];if(y.element===n){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[mI(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Fi(Kl(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Fi(r.duration):null,a=null!=r.delay?Fi(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),er(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==ee.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=cg);const o=Fi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>er(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Fi(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),er(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return ig(n.params?Kl(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==ee.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Fi(i.delay):0;s&&(n.previousNode.type===ee.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cg);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),er(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;er(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const cg={};class vI{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new lg(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Fi(r.duration)),null!=r.delay&&(i.delay=Fi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Kl(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new vI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=cg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new $te(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Vte,"."+this._enterClassName)).replace(Bte,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Kee(t){return new b(3014,!1)}()),a}}class lg{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new lg(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Oi),this._currentKeyframe.set(n,Oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function Hte(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)n.set(s,Oi)}else for(let[s,o]of i)n.set(s,o)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Kl(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=new Map([...this._backFill,...a]);c.forEach((l,d)=>{"!"===l?e.add(d):l===Oi&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=[...e.values()],o=[...n.values()];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return mI(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class $te extends lg{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=new Map(e[0]);u.set("offset",0),s.push(u);const c=new Map(e[0]);c.set("offset",_2(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",_2((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return mI(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function _2(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function w2(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const _I={};class E2{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function zte(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||_I,p=this.buildStyles(r,a&&a.params||_I,d),g=u&&u.params||_I,y=this.buildStyles(i,g,d),v=new Set,_=new Map,D=new Map,N="void"===i,V={params:I2(g,h),delay:this.ast.options?.delay},B=l?[]:yI(e,n,this.ast.animation,s,o,p,y,V,c,d);let te=0;return B.forEach(Ce=>{te=Math.max(Ce.duration+Ce.delay,te)}),d.length?w2(n,this._triggerName,r,i,N,p,y,[],[],_,D,te,d):(B.forEach(Ce=>{const en=Ce.element,_i=Zn(_,en,new Set);Ce.preStyleProps.forEach(na=>_i.add(na));const j3=Zn(D,en,new Set);Ce.postStyleProps.forEach(na=>j3.add(na)),en!==n&&v.add(en)}),w2(n,this._triggerName,r,i,N,p,y,B,[...v.values()],_,D,te))}}function I2(t,e){const n={...e};return Object.entries(t).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class Gte{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=I2(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Kl(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class Wte{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Gte(i.style,i.options&&i.options.params||{},r))}),b2(this.states,"true","1"),b2(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new E2(e,i,this.states))}),this.fallbackTransition=function Kte(t,e,n){return new E2(t,{type:ee.Transition,animation:{type:ee.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function b2(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Qte=new ug;class Yte{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=pI(this._driver,n,r,[]);if(r.length)throw function tte(t){return new b(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=o2(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=yI(this._driver,n,s,uI,tg,new Map,new Map,r,Qte,i),o.forEach(l=>{const d=Zn(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function nte(){return new b(3300,!1)}()),o=[]),i.length)throw function rte(t){return new b(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Oi))})});const c=ys(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function ite(t){return new b(3301,!1)}();return n}listen(e,n,r,i){const s=rI(n,"","","");return tI(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const D2="ng-animate-queued",wI="ng-animate-disabled",tne=[],T2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xr="__ng_removed";class EI{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function one(t){return t??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Ql="void",II=new EI(Ql);class rne{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,dr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function ste(t,e){return new b(3302,!1)}();if(null==r||0==r.length)throw function ote(t){return new b(3303,!1)}();if(!function ane(t){return"start"==t||"done"==t}(r))throw function ate(t,e){return new b(3400,!1)}();const s=Zn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Zn(this._engine.statesByElement,e,new Map);return a.has(n)||(dr(e,ng),dr(e,ng+"-"+n),a.set(n,II)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function ute(t){return new b(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new bI(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(dr(e,ng),dr(e,ng+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new EI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=II),c.value!==Ql&&u.value===c.value){if(!function lne(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const g=[],y=s.matchStyles(u.value,u.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{mo(e,y),Jr(e,v)})}return}const h=Zn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(dr(e,D2),o.onStart(()=>{pu(e,D2)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const y=this._engine.playersByElement.get(e);if(y){let v=y.indexOf(o);v>=0&&y.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,rg,!0);r.forEach(i=>{if(i[xr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Ql,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ys(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||II,l=new EI(Ql),d=new bI(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[xr];(!s||s===T2)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){dr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=rI(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,tI(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class ine{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new rne(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(dg(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!dg(n))return;const s=n[xr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),dr(e,wI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pu(e,wI))}removeNode(e,n,r){if(dg(n)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[xr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return dg(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,rg,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,cI,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ys(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[xr];if(n&&n.setForRemoval){if(e[xr]=T2,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(wI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)dr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?ys(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function cte(t){return new b(3402,!1)}()}_flushAnimations(e,n){const r=new ug,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(j=>{l.add(j);const K=this.driver.query(j,".ng-animate-queued",!0);for(let X=0;X<K.length;X++)l.add(K[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=A2(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((j,K)=>{const X=uI+g++;p.set(K,X),j.forEach(Ie=>dr(Ie,X))});const y=[],v=new Set,_=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const K=this.collectedLeaveElements[j],X=K[xr];X&&X.setForRemoval&&(y.push(K),v.add(K),X.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(Ie=>v.add(Ie)):_.add(K))}const D=new Map,N=A2(h,Array.from(v));N.forEach((j,K)=>{const X=tg+g++;D.set(K,X),j.forEach(Ie=>dr(Ie,X))}),e.push(()=>{f.forEach((j,K)=>{const X=p.get(K);j.forEach(Ie=>pu(Ie,X))}),N.forEach((j,K)=>{const X=D.get(K);j.forEach(Ie=>pu(Ie,X))}),y.forEach(j=>{this.processLeaveNode(j)})});const V=[],B=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(n).forEach(X=>{const Ie=X.player,jt=X.element;if(V.push(Ie),this.collectedEnterElements.length){const vn=jt[xr];if(vn&&vn.setForMove){if(vn.previousTriggersValues&&vn.previousTriggersValues.has(X.triggerName)){const ra=vn.previousTriggersValues.get(X.triggerName),gr=this.statesByElement.get(X.element);if(gr&&gr.has(X.triggerName)){const Qy=gr.get(X.triggerName);Qy.value=ra,gr.set(X.triggerName,Qy)}}return void Ie.destroy()}}const wi=!d||!this.driver.containsElement(d,jt),sr=D.get(jt),Gs=p.get(jt),Je=this._buildInstruction(X,r,Gs,sr,wi);if(Je.errors&&Je.errors.length)return void B.push(Je);if(wi)return Ie.onStart(()=>mo(jt,Je.fromStyles)),Ie.onDestroy(()=>Jr(jt,Je.toStyles)),void i.push(Ie);if(X.isFallbackTransition)return Ie.onStart(()=>mo(jt,Je.fromStyles)),Ie.onDestroy(()=>Jr(jt,Je.toStyles)),void i.push(Ie);const z3=[];Je.timelines.forEach(vn=>{vn.stretchStartingKeyframe=!0,this.disabledNodes.has(vn.element)||z3.push(vn)}),Je.timelines=z3,r.append(jt,Je.timelines),o.push({instruction:Je,player:Ie,element:jt}),Je.queriedElements.forEach(vn=>Zn(a,vn,[]).push(Ie)),Je.preStyleProps.forEach((vn,ra)=>{if(vn.size){let gr=u.get(ra);gr||u.set(ra,gr=new Set),vn.forEach((Qy,lx)=>gr.add(lx))}}),Je.postStyleProps.forEach((vn,ra)=>{let gr=c.get(ra);gr||c.set(ra,gr=new Set),vn.forEach((Qy,lx)=>gr.add(lx))})});if(B.length){const j=[];B.forEach(K=>{j.push(function lte(t,e){return new b(3505,!1)}())}),V.forEach(K=>K.destroy()),this.reportError(j)}const te=new Map,Ce=new Map;o.forEach(j=>{const K=j.element;r.has(K)&&(Ce.set(K,K),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,te))}),i.forEach(j=>{const K=j.element;this._getPreviousPlayers(K,!1,j.namespaceId,j.triggerName,null).forEach(Ie=>{Zn(te,K,[]).push(Ie),Ie.destroy()})});const en=y.filter(j=>x2(j,u,c)),_i=new Map;S2(_i,this.driver,_,c,Oi).forEach(j=>{x2(j,u,c)&&en.push(j)});const na=new Map;f.forEach((j,K)=>{S2(na,this.driver,new Set(j),u,"!")}),en.forEach(j=>{const K=_i.get(j),X=na.get(j);_i.set(j,new Map([...K?.entries()??[],...X?.entries()??[]]))});const cx=[],$3=[],H3={};o.forEach(j=>{const{element:K,player:X,instruction:Ie}=j;if(r.has(K)){if(l.has(K))return X.onDestroy(()=>Jr(K,Ie.toStyles)),X.disabled=!0,X.overrideTotalTime(Ie.totalTime),void i.push(X);let jt=H3;if(Ce.size>1){let sr=K;const Gs=[];for(;sr=sr.parentNode;){const Je=Ce.get(sr);if(Je){jt=Je;break}Gs.push(sr)}Gs.forEach(Je=>Ce.set(Je,jt))}const wi=this._buildAnimation(X.namespaceId,Ie,te,s,na,_i);if(X.setRealPlayer(wi),jt===H3)cx.push(X);else{const sr=this.playersByElement.get(jt);sr&&sr.length&&(X.parentPlayer=ys(sr)),i.push(X)}}else mo(K,Ie.fromStyles),X.onDestroy(()=>Jr(K,Ie.toStyles)),$3.push(X),l.has(K)&&i.push(X)}),$3.forEach(j=>{const K=s.get(j.element);if(K&&K.length){const X=ys(K);j.setRealPlayer(X)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<y.length;j++){const K=y[j],X=K[xr];if(pu(K,tg),X&&X.hasAnimation)continue;let Ie=[];if(a.size){let wi=a.get(K);wi&&wi.length&&Ie.push(...wi);let sr=this.driver.query(K,cI,!0);for(let Gs=0;Gs<sr.length;Gs++){let Je=a.get(sr[Gs]);Je&&Je.length&&Ie.push(...Je)}}const jt=Ie.filter(wi=>!wi.destroyed);jt.length?une(this,K,jt):this.processLeaveNode(K)}return y.length=0,cx.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const K=this.players.indexOf(j);this.players.splice(K,1)}),j.play()}),cx}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Ql;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=Zn(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}mo(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;l.add(g);const y=g[xr];if(y&&y.removedBeforeQueried)return new ql(p.duration,p.delay);const v=g!==u,_=function cne(t){const e=[];return M2(t,e),e}((r.get(g)||tne).map(te=>te.getRealPlayer())).filter(te=>!!te.element&&te.element===g),D=s.get(g),N=o.get(g),V=o2(this._normalizer,p.keyframes,D,N),B=this._buildPlayer(p,V,_);if(p.subTimeline&&i&&d.add(g),v){const te=new bI(e,a,g);te.setRealPlayer(B),c.push(te)}return B});c.forEach(p=>{Zn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function sne(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>dr(p,h2));const f=ys(h);return f.onDestroy(()=>{l.forEach(p=>pu(p,h2)),Jr(u,n.toStyles)}),d.forEach(p=>{Zn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new ql(e.duration,e.delay)}}class bI{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new ql,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>tI(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Zn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function dg(t){return t&&1===t.nodeType}function C2(t,e){const n=t.style.display;return t.style.display=e??"none",n}function S2(t,e,n,r,i){const s=[];n.forEach(u=>s.push(C2(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[xr]=nne,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>C2(u,s[a++])),o}function A2(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function dr(t,e){t.classList?.add(e)}function pu(t,e){t.classList?.remove(e)}function une(t,e,n){ys(n).onDone(()=>t.processLeaveNode(e))}function M2(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof i2?M2(r.players,e):e.push(r)}}function x2(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class Yl{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new ine(e.body,n,r,i),this._timelineEngine=new Yte(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=pI(this._driver,s,u,[]);if(u.length)throw function Zee(t,e){return new b(3404,!1)}();a=function qte(t,e,n){return new Wte(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=a2(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=a2(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Xl{static{this.initialStylesByElement=new WeakMap}constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Xl.initialStylesByElement.get(e);i||Xl.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Jr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jr(this._element,this._initialStyles),this._endStyles&&(Jr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xl.initialStylesByElement.delete(this._element),this._startStyles&&(mo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),Jr(this._element,this._initialStyles),this._state=3)}}function DI(t){let e=null;return t.forEach((n,r)=>{(function hne(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class N2{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:fI(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class k2{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return c2(e,n)}getParentElement(e){return iI(e)}query(e,n,r){return l2(e,n,r)}computeStyle(e,n,r){return fI(e,n)}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof N2);(function bte(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function wte(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(f=>new Map(f));d=function Dte(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,fI(t,a)))}}return e}(e,d,c);const h=function dne(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=DI(e[0]),e.length>1&&(r=DI(e[e.length-1]))):e instanceof Map&&(n=DI(e)),n||r?new Xl(t,n,r):null}(e,d);return new N2(e,d,u,h)}}const R2="@.disabled";class P2{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==R2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class fne extends P2{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==R2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function pne(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function gne(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class mne{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){const i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){const c=this._rendererCache;let l=c.get(i);return l||(l=new P2("",i,this.engine,()=>c.delete(i)),c.set(i,l)),l}const s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new fne(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let yne=(()=>{class t extends Yl{constructor(n,r,i){super(n,r,i,S(np,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||t)(W(Xn),W(oI),W(aI))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();const O2=[{provide:aI,useFactory:function vne(){return new g2}},{provide:Yl,useClass:yne},{provide:lw,useFactory:function _ne(t,e,n){return new mne(t,e,n)},deps:[XE,Yl,Ee]}],TI=[{provide:oI,useFactory:()=>new k2},{provide:Dk,useValue:"BrowserAnimations"},...O2],F2=[{provide:oI,useClass:sI},{provide:Dk,useValue:"NoopAnimations"},...O2];let wne=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?F2:TI}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=mr({providers:TI,imports:[e2]})}}return t})();function fg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function vs(t){return this instanceof vs?(this.v=t,this):new vs(t)}function B2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function MI(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const j2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $2(t){return $e(t?.then)}function H2(t){return $e(t[av])}function z2(t){return Symbol.asyncIterator&&$e(t?.[Symbol.asyncIterator])}function G2(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const q2=function Wne(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function W2(t){return $e(t?.[q2])}function K2(t){return function U2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(y,v){s.push([f,g,y,v])>1||u(f,g)})},p&&(i[f]=p(i[f])))}function u(f,p){try{!function c(f){f.value instanceof vs?Promise.resolve(f.value.v).then(l,d):h(s[0][2],f)}(r[f](p))}catch(g){h(s[0][3],g)}}function l(f){u("next",f)}function d(f){u("throw",f)}function h(f,p){f(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vs(n.read());if(i)return yield vs(void 0);yield yield vs(r)}}finally{n.releaseLock()}})}function Q2(t){return $e(t?.getReader)}function Li(t){if(t instanceof gt)return t;if(null!=t){if(H2(t))return function Kne(t){return new gt(e=>{const n=t[av]();if($e(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(j2(t))return function Qne(t){return new gt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($2(t))return function Yne(t){return new gt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cx)})}(t);if(z2(t))return Y2(t);if(W2(t))return function Xne(t){return new gt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Q2(t))return function Jne(t){return Y2(K2(t))}(t)}throw G2(t)}function Y2(t){return new gt(e=>{(function Zne(t,e){var n,r,i,s;return function L2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=B2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Vi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function pg(t,e=0){return $t((n,r)=>{n.subscribe(Nt(r,i=>Vi(r,t,()=>r.next(i),e),()=>Vi(r,t,()=>r.complete(),e),i=>Vi(r,t,()=>r.error(i),e)))})}function gg(t,e=0){return $t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function X2(t,e){if(!t)throw new Error("Iterable cannot be null");return new gt(n=>{Vi(n,e,()=>{const r=t[Symbol.asyncIterator]();Vi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gt(t,e){return e?function sre(t,e){if(null!=t){if(H2(t))return function ere(t,e){return Li(t).pipe(gg(e),pg(e))}(t,e);if(j2(t))return function nre(t,e){return new gt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($2(t))return function tre(t,e){return Li(t).pipe(gg(e),pg(e))}(t,e);if(z2(t))return X2(t,e);if(W2(t))return function rre(t,e){return new gt(n=>{let r;return Vi(n,e,()=>{r=t[q2](),Vi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>$e(r?.return)&&r.return()})}(t,e);if(Q2(t))return function ire(t,e){return X2(K2(t),e)}(t,e)}throw G2(t)}(t,e):Li(t)}function NI(t){return t[t.length-1]}function mg(t){return function ore(t){return t&&$e(t.schedule)}(NI(t))?t.pop():void 0}function ne(...t){return Gt(t,mg(t))}const{isArray:ure}=Array,{getPrototypeOf:cre,prototype:lre,keys:dre}=Object;const{isArray:pre}=Array;function kI(...t){const e=mg(t),n=function are(t){return $e(NI(t))?t.pop():void 0}(t),{args:r,keys:i}=function hre(t){if(1===t.length){const e=t[0];if(ure(e))return{args:e,keys:null};if(function fre(t){return t&&"object"==typeof t&&cre(t)===lre}(e)){const n=dre(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Gt([],e);const s=new gt(function vre(t,e,n=Qs){return r=>{J2(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)J2(e,()=>{const c=Gt(t[u],e);let l=!1;c.subscribe(Nt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function yre(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Qs));return n?s.pipe(function mre(t){return Se(e=>function gre(t,e){return pre(e)?t(...e):t(e)}(t,e))}(n)):s}function J2(t,e,n){t?Vi(n,t,e):e()}const yg=Zy(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cn(t,e,n=1/0){return $e(e)?cn((r,i)=>Se((s,o)=>e(r,s,i,o))(Li(t(r,i))),n):("number"==typeof e&&(n=e),$t((r,i)=>function _re(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Li(n(g,l++)).subscribe(Nt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?Vi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Nt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Jl(t=1/0){return cn(Qs,t)}function RI(...t){return function wre(){return Jl(1)}()(Gt(t,mg(t)))}function Z2(t){return new gt(e=>{Li(t()).subscribe(e)})}function vg(t,e){const n=$e(t)?t:()=>t,r=i=>i.error(n());return new gt(e?i=>e.schedule(r,0,i):r)}const Zr=new gt(t=>t.complete());function PI(){return $t((t,e)=>{let n=null;t._refCount++;const r=Nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class eV extends gt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xx(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _n;const n=this.getSubject();e.add(this.source.subscribe(Nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_n.EMPTY)}return e}refCount(){return PI()(this)}}function ei(t,e){return $t((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Nt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Li(t(u,l)).subscribe(i=Nt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gu(t){return t<=0?()=>Zr:$t((e,n)=>{let r=0;e.subscribe(Nt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ui(t,e){return $t((n,r)=>{let i=0;n.subscribe(Nt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function _g(t){return $t((e,n)=>{let r=!1;e.subscribe(Nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tV(t=bre){return $t((e,n)=>{let r=!1;e.subscribe(Nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bre(){return new yg}function vo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ui((i,s)=>t(i,s,r)):Qs,gu(1),n?_g(e):tV(()=>new yg))}function Zl(t,e){return $e(e)?cn(t,e,1):cn(t,1)}function ln(t,e,n){const r=$e(t)||e||n?{next:t,error:e,complete:n}:t;return r?$t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Nt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Qs}function mu(t){return $t((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Nt(n,void 0,void 0,o=>{s=Li(t(o,mu(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function OI(t){return t<=0?()=>Zr:$t((e,n)=>{let r=[];e.subscribe(Nt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function FI(t){return $t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",ed=Symbol("RouteTitle");class Mre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function yu(t){return new Mre(t)}function xre(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ti(t,e){const n=t?LI(t):void 0,r=e?LI(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nV(t[i],e[i]))return!1;return!0}function LI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function rV(t){return t.length>0?t[t.length-1]:null}function _s(t){return function Ene(t){return!!t&&(t instanceof gt||$e(t.lift)&&$e(t.subscribe))}(t)?t:Mp(t)?Gt(Promise.resolve(t)):ne(t)}const kre={exact:function oV(t,e,n){if(!_o(t.segments,e.segments)||!wg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!oV(t.children[r],e.children[r],n))return!1;return!0},subset:aV},iV={exact:function Rre(t,e){return ti(t,e)},subset:function Pre(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nV(t[n],e[n]))},ignored:()=>!0};function sV(t,e,n){return kre[n.paths](t.root,e.root,n.matrixParams)&&iV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function aV(t,e,n){return uV(t,e,e.segments,n)}function uV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_o(i,n)||e.hasChildren()||!wg(i,n,r))}if(t.segments.length===n.length){if(!_o(t.segments,n)||!wg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!aV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(_o(t.segments,i)&&wg(t.segments,i,r)&&t.children[ce])&&uV(t.children[ce],e,s,r)}}function wg(t,e,n){return e.every((r,i)=>iV[n](t[i].parameters,r.parameters))}class vu{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yu(this.queryParams),this._queryParamMap}toString(){return Lre.serialize(this)}}class Pe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eg(this)}}class td{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=yu(this.parameters),this._parameterMap}toString(){return dV(this)}}function _o(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let _u=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new VI,providedIn:"root"})}}return t})();class VI{parse(e){const n=new Kre(e);return new vu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nd(e.root,!0)}`,r=function Bre(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ig(n)}=${Ig(i)}`).join("&"):`${Ig(n)}=${Ig(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Vre(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Lre=new VI;function Eg(t){return t.segments.map(e=>dV(e)).join("/")}function nd(t,e){if(!t.hasChildren())return Eg(t);if(e){const n=t.children[ce]?nd(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${nd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Fre(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[nd(t.children[ce],!1)]:[`${i}:${nd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${Eg(t)}/${n[0]}`:`${Eg(t)}/(${n.join("//")})`}}function cV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ig(t){return cV(t).replace(/%3B/gi,";")}function UI(t){return cV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bg(t){return decodeURIComponent(t)}function lV(t){return bg(t.replace(/\+/g,"%20"))}function dV(t){return`${UI(t.path)}${function Ure(t){return Object.entries(t).map(([e,n])=>`;${UI(e)}=${UI(n)}`).join("")}(t.parameters)}`}const jre=/^[^\/()?;#]+/;function BI(t){const e=t.match(jre);return e?e[0]:""}const $re=/^[^\/()?;=#]+/,zre=/^[^=?&#]+/,qre=/^[^&#]+/;class Kre{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Pe(e,n)),r}parseSegment(){const e=BI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new td(bg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Hre(t){const e=t.match($re);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=BI(this.remaining);i&&(r=i,this.capture(r))}e[bg(n)]=bg(r)}parseQueryParam(e){const n=function Gre(t){const e=t.match(zre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Wre(t){const e=t.match(qre);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lV(n),s=lV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=BI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ce]:new Pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function hV(t){return t.segments.length>0?new Pe([],{[ce]:t}):t}function fV(t){const e={};for(const[r,i]of Object.entries(t.children)){const s=fV(i);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Qre(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new Pe(t.segments.concat(e.segments),e.children)}return t}(new Pe(t.segments,e))}function wu(t){return t instanceof vu}function pV(t){let e;const i=hV(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Pe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function gV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return jI(i,i,i,n,r);const s=function Xre(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new yV(n,e,r)}(e);if(s.toRoot())return jI(i,i,new Pe([],{}),n,r);const o=function Jre(t,e,n){if(t.isAbsolute)return new Tg(e,!0,0);if(!n)return new Tg(e,!1,NaN);if(null===n.parent)return new Tg(n,!0,0);const r=Dg(t.commands[0])?0:1;return function Zre(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Tg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?id(o.segmentGroup,o.index,s.commands):vV(o.segmentGroup,o.index,s.commands);return jI(i,o.segmentGroup,a,n,r)}function Dg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rd(t){return"object"==typeof t&&null!=t&&t.outlets}function jI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:mV(t,e,n);const a=hV(fV(o));return new vu(a,s,i)}function mV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:mV(s,e,n)}),new Pe(t.segments,r)}class yV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dg(r[0]))throw new b(4003,!1);const i=r.find(rd);if(i&&i!==rV(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function vV(t,e,n){if(t??=new Pe([],{}),0===t.segments.length&&t.hasChildren())return id(t,e,n);const r=function tie(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(rd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!wV(u,c,o))return s;r+=2}else{if(!wV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Pe(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Pe(t.segments.slice(r.pathIndex),t.children),id(s,0,i)}return r.match&&0===i.length?new Pe(t.segments,{}):r.match&&!t.hasChildren()?$I(t,e,n):r.match?id(t,0,i):$I(t,e,n)}function id(t,e,n){if(0===n.length)return new Pe(t.segments,{});{const r=function eie(t){return rd(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const s=id(t.children[ce],e,n);return new Pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=vV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Pe(t.segments,i)}}function $I(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(rd(s)){const u=nie(s.outlets);return new Pe(r,u)}if(0===i&&Dg(n[0])){r.push(new td(t.segments[e].path,_V(n[0]))),i++;continue}const o=rd(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dg(a)?(r.push(new td(o,_V(a))),i+=2):(r.push(new td(o,{})),i++)}return new Pe(r,{})}function nie(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=$I(new Pe([],{}),0,r))}),e}function _V(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wV(t,e,n){return t==n.path&&ti(e,n.parameters)}const sd="imperative";var ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ge||{});class ni{constructor(e,n){this.id=e,this.url=n}}class Cg extends ni{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ge.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends ni{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var tr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tr||{}),Sg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sg||{});class Eu extends ni{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Iu extends ni{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ge.NavigationSkipped}}class Ag extends ni{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EV extends ni{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rie extends ni{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iie extends ni{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sie extends ni{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oie extends ni{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aie{constructor(e){this.route=e,this.type=ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uie{constructor(e){this.route=e,this.type=ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cie{constructor(e){this.snapshot=e,this.type=ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lie{constructor(e){this.snapshot=e,this.type=ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class die{constructor(e){this.snapshot=e,this.type=ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hie{constructor(e){this.snapshot=e,this.type=ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ge.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class HI{}class zI{constructor(e){this.url=e}}class fie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new od,this.attachRef=null}}let od=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new fie,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class bV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=GI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=GI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=qI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qI(e,this._root).map(n=>n.value)}}function GI(t,e){if(t===e.value)return e;for(const n of e.children){const r=GI(t,n);if(r)return r}return null}function qI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qI(t,n);if(r.length)return r.unshift(e),r}return[]}class Nr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function bu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class DV extends bV{constructor(e,n){super(e),this.snapshot=n,QI(this,e)}toString(){return this.snapshot.toString()}}function TV(t){const e=function pie(t){const s=new KI([],{},{},"",{},ce,t,null,{});return new CV("",new Nr(s,[]))}(t),n=new ar([new td("",{})]),r=new ar({}),i=new ar({}),s=new ar({}),o=new ar(""),a=new Du(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new DV(new Nr(a,[]),e)}class Du{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Se(c=>c[ed]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(e=>yu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(e=>yu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WI(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&AV(i)&&(r.resolve[ed]=i.title),r}class KI{get title(){return this.data?.[ed]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CV extends bV{constructor(e,n){super(n),this.url=e,QI(this,n)}toString(){return SV(this._root)}}function QI(t,e){e.value._routerState=t,e.children.forEach(n=>QI(t,n))}function SV(t){const e=t.children.length>0?` { ${t.children.map(SV).join(", ")} } `:"";return`${t.value}${e}`}function YI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ti(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ti(e.params,n.params)||t.paramsSubject.next(n.params),function Nre(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ti(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ti(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function XI(t,e){const n=ti(t.params,e.params)&&function Ore(t,e){return _o(t,e)&&t.every((n,r)=>ti(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||XI(t.parent,e.parent))}function AV(t){return"string"==typeof t.title||null===t.title}let JI=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new bn,this.deactivateEvents=new bn,this.attachEvents=new bn,this.detachEvents=new bn,this.parentContexts=S(od),this.location=S(Tr),this.changeDetector=S(kp),this.environmentInjector=S(On),this.inputBinder=S(Mg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ZI(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=wn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[to]})}}return t})();class ZI{__ngOutletInjector(e){return new ZI(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Du?this.route:e===od?this.childContexts:this.parent.get(e,n)}}const Mg=new U("");let MV=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=kI([r.queryParams,r.params,r.data]).pipe(ei(([s,o,a],u)=>(a={...s,...o,...a},0===u?ne(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function XX(t){const e=de(t);if(!e)return null;const n=new vl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function ad(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function mie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ad(t,r,i);return ad(t,r)})}(t,e,n);return new Nr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ad(t,a)),o}}const r=function yie(t){return new Du(new ar(t.url),new ar(t.params),new ar(t.queryParams),new ar(t.fragment),new ar(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ad(t,s));return new Nr(r,i)}}const xV="ngNavigationCancelingError";function NV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=wu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kV(!1,tr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function kV(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[xV]=!0,n.cancellationCode=e,n}function RV(t){return!!t&&t[xV]}let PV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Lr({type:t,selectors:[["ng-component"]],standalone:!0,features:[iu],decls:1,vars:0,template:function(r,i){1&r&&Ze(0,"router-outlet")},dependencies:[JI],encapsulation:2})}}return t})();function e0(t){const e=t.children&&t.children.map(e0),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=PV),n}function ii(t){return t.outlet||ce}function ud(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Tie{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),YI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=bu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bu(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bu(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=bu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new hie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lie(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(YI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),YI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ud(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class OV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xg{constructor(e,n){this.component=e,this.route=n}}function Cie(t,e,n){const r=t._root;return cd(r,e?e._root:null,n,[r.value])}function Tu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function EG(t){return null!==Qh(t)}(t)?e.get(t):t:r}function cd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=bu(e);return t.children.forEach(o=>{(function Aie(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Mie(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(t.url,e.url)||!ti(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XI(t,e)||!ti(t.queryParams,e.queryParams);default:return!XI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new OV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cd(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xg(a.outlet.component,o))}else o&&ld(e,a,i),i.canActivateChecks.push(new OV(r)),cd(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ld(a,n.getContext(o),i)),i}function ld(t,e,n){const r=bu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ld(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new xg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function dd(t){return"function"==typeof t}function FV(t){return t instanceof yg||"EmptyError"===t?.name}const Ng=Symbol("INITIAL_VALUE");function Cu(){return ei(t=>kI(t.map(e=>e.pipe(gu(1),function Ire(...t){const e=mg(t);return $t((n,r)=>{(e?RI(t,n,e):RI(t,n)).subscribe(r)})}(Ng)))).pipe(Se(e=>{for(const n of e)if(!0!==n){if(n===Ng)return Ng;if(!1===n||n instanceof vu)return n}return!0}),Ui(e=>e!==Ng),gu(1)))}function LV(t){return function dG(...t){return Sx(t)}(ln(e=>{if(wu(e))throw NV(0,e)}),Se(e=>!0===e))}class t0{constructor(e){this.segmentGroup=e||null}}class n0 extends Error{constructor(e){super(),this.urlTree=e}}function Su(t){return vg(new t0(t))}class Kie{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[ce])return vg(new b(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new n0(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new vu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const r0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qie(t,e,n,r,i){const s=s0(t,e,n);return s.matched?(r=function _ie(t,e){return t.providers&&!t._injector&&(t._injector=lp(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Gie(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ne(i.map(o=>{const a=Tu(o,t);return _s(function Oie(t){return t&&dd(t.canMatch)}(a)?a.canMatch(e,n):bi(t,()=>a(e,n)))})).pipe(Cu(),LV()):ne(!0)}(r,e,n).pipe(Se(o=>!0===o?s:{...r0}))):ne(s)}function s0(t,e,n){if("**"===e.path)return function Yie(t){return{matched:!0,parameters:t.length>0?rV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...r0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xre)(n,t,e);if(!i)return{...r0};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VV(t,e,n,r){return n.length>0&&function Zie(t,e,n){return n.some(r=>kg(t,e,r)&&ii(r)!==ce)}(t,n,r)?{segmentGroup:new Pe(e,Jie(r,new Pe(n,t.children))),slicedSegments:[]}:0===n.length&&function ese(t,e,n){return n.some(r=>kg(t,e,r))}(t,n,r)?{segmentGroup:new Pe(t.segments,Xie(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function Xie(t,e,n,r){const i={};for(const s of n)if(kg(t,e,s)&&!r[ii(s)]){const o=new Pe([],{});i[ii(s)]=o}return{...r,...i}}function Jie(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&ii(r)!==ce){const i=new Pe([],{});n[ii(r)]=i}return n}function kg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class rse{}class ose{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Kie(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){const e=VV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Se(n=>{const r=new KI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new Nr(r,n),s=new CV("",i),o=function Yre(t,e,n=null,r=null){return gV(pV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(mu(r=>{if(r instanceof n0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof t0?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=WI(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Se(s=>s instanceof Nr?[s]:[]))}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Gt(i).pipe(Zl(s=>{const o=r.children[s],a=function bie(t,e){const n=t.filter(r=>ii(r)===e);return n.push(...t.filter(r=>ii(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Tre(t,e){return $t(function Dre(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Nt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),_g(null),function Cre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ui((i,s)=>t(i,s,r)):Qs,OI(1),n?_g(e):tV(()=>new yg))}(),cn(s=>{if(null===s)return Su(r);const o=UV(s);return function ase(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ne(o)}))}processSegment(e,n,r,i,s,o){return Gt(n).pipe(Zl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(mu(u=>{if(u instanceof t0)return ne(null);throw u}))),vo(a=>!!a),mu(a=>{if(FV(a))return function nse(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ne(new rse):Su(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function tse(t,e,n,r){return!!(ii(t)===r||r!==ce&&kg(e,n,t))&&s0(e,t,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Su(i):Su(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=s0(n,i,s);if(!a)return Su(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(cn(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){const o=Qie(n,r,i,e);return"**"===r.path&&(n.children={}),o.pipe(ei(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(ei(({routes:u})=>{const c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new KI(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function cse(t){return t.data||{}}(r),ii(r),r.component??r._loadedComponent??null,r,function lse(t){return t.resolve||{}}(r)),{segmentGroup:p,slicedSegments:g}=VV(n,l,d,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(Se(v=>null===v?null:new Nr(f,v)));if(0===u.length&&0===g.length)return ne(new Nr(f,[]));const y=ii(r)===s;return this.processSegment(c,u,p,g,y?ce:s,!0).pipe(Se(v=>new Nr(f,v instanceof Nr?[v]:[])))})):Su(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function zie(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ne(!0):ne(i.map(o=>{const a=Tu(o,t);return _s(function Nie(t){return t&&dd(t.canLoad)}(a)?a.canLoad(e,n):bi(t,()=>a(e,n)))})).pipe(Cu(),LV())}(e,n,r).pipe(cn(i=>i?this.configLoader.loadChildren(e,n).pipe(ln(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Wie(t){return vg(kV(!1,tr.GuardRejected))}())):ne({routes:[],injector:e})}}function use(t){const e=t.value.routeConfig;return e&&""===e.path}function UV(t){const e=[],n=new Set;for(const r of t){if(!use(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=UV(r.children);e.push(new Nr(r.value,i))}return e.filter(r=>!n.has(r))}function BV(t){const e=t.children.map(n=>BV(n)).flat();return[t,...e]}function o0(t){return ei(e=>{const n=t(e);return n?Gt(n).pipe(Se(()=>e)):ne(e)})}let jV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[ed]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>S(mse),providedIn:"root"})}}return t})(),mse=(()=>{class t extends jV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(W(bee))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Au=new U("",{providedIn:"root",factory:()=>({})}),Mu=new U("");let a0=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(TF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=_s(n.loadComponent()).pipe(Se($V),ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),FI(()=>{this.componentLoaders.delete(n)})),i=new eV(r,()=>new or).pipe(PI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function yse(t,e,n,r){return _s(t.loadChildren()).pipe(Se($V),cn(i=>i instanceof OR||Array.isArray(i)?ne(i):Gt(e.compileModuleAsync(i))),Se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Mu,[],{optional:!0,self:!0}).flat()),{routes:o.map(e0),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(FI(()=>{this.childrenLoaders.delete(r)})),o=new eV(s,()=>new or).pipe(PI());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $V(t){return function vse(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let u0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>S(_se),providedIn:"root"})}}return t})(),_se=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const HV=new U(""),zV=new U("");function wse(t,e,n){const r=t.get(zV),i=t.get(Xn);return t.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function Ese(t){return new Promise(e=>{gw(e,{injector:t})})}(t))),{onViewTransitionCreated:u}=r;return u&&bi(t,()=>u({transition:a,from:e,to:n})),o})}let Rg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new or,this.transitionAbortSubject=new or,this.configLoader=S(a0),this.environmentInjector=S(On),this.urlSerializer=S(_u),this.rootContexts=S(od),this.location=S(Ul),this.inputBindingEnabled=null!==S(Mg,{optional:!0}),this.titleStrategy=S(jV),this.options=S(Au,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=S(u0),this.createViewTransition=S(HV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new uie(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new aie(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new ar({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ui(s=>0!==s.id),Se(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ei(s=>{let o=!1,a=!1;return ne(s).pipe(ei(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",tr.SupersededByNewNavigation),Zr;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new Iu(u.id,this.urlSerializer.serialize(u.rawUrl),d,Sg.IgnoredSameUrlNavigation)),u.resolve(null),Zr}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ne(u).pipe(ei(d=>{const h=this.transitions?.getValue();return this.events.next(new Cg(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Zr:Promise.resolve(d)}),function dse(t,e,n,r,i,s){return cn(o=>function ise(t,e,n,r,i,s,o="emptyOnly"){return new ose(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Se(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ln(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new EV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=u,y=new Cg(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);const v=TV(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,ne(s)}{const d="";return this.events.next(new Iu(u.id,this.urlSerializer.serialize(u.extractedUrl),d,Sg.IgnoredByUrlHandlingStrategy)),u.resolve(null),Zr}}),ln(u=>{const c=new rie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Se(u=>(this.currentTransition=s={...u,guards:Cie(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function Fie(t,e){return cn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ne({...n,guardsResult:!0}):function Lie(t,e,n,r){return Gt(t).pipe(cn(i=>function Hie(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const u=ud(e)??i,c=Tu(a,u);return _s(function Pie(t){return t&&dd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):bi(u,()=>c(t,e,n,r))).pipe(vo())})).pipe(Cu()):ne(!0)}(i.component,i.route,n,e,r)),vo(i=>!0!==i,!0))}(o,r,i,t).pipe(cn(a=>a&&function xie(t){return"boolean"==typeof t}(a)?function Vie(t,e,n,r){return Gt(e).pipe(Zl(i=>RI(function Bie(t,e){return null!==t&&e&&e(new cie(t)),ne(!0)}(i.route.parent,r),function Uie(t,e){return null!==t&&e&&e(new die(t)),ne(!0)}(i.route,r),function $ie(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Sie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Z2(()=>ne(o.guards.map(u=>{const c=ud(o.node)??n,l=Tu(u,c);return _s(function Rie(t){return t&&dd(t.canActivateChild)}(l)?l.canActivateChild(r,t):bi(c,()=>l(r,t))).pipe(vo())})).pipe(Cu())));return ne(s).pipe(Cu())}(t,i.path,n),function jie(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(s=>Z2(()=>{const o=ud(e)??n,a=Tu(s,o);return _s(function kie(t){return t&&dd(t.canActivate)}(a)?a.canActivate(e,t):bi(o,()=>a(e,t))).pipe(vo())}));return ne(i).pipe(Cu())}(t,i.route,n))),vo(i=>!0!==i,!0))}(r,s,t,e):ne(a)),Se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),ln(u=>{if(s.guardsResult=u.guardsResult,wu(u.guardsResult))throw NV(0,u.guardsResult);const c=new iie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Ui(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",tr.GuardRejected),!1)),o0(u=>{if(u.guards.canActivateChecks.length)return ne(u).pipe(ln(c=>{const l=new sie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ei(c=>{let l=!1;return ne(c).pipe(function hse(t,e){return cn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);const s=new Set(i.map(u=>u.route)),o=new Set;for(const u of s)if(!o.has(u))for(const c of BV(u))o.add(c);let a=0;return Gt(o).pipe(Zl(u=>s.has(u)?function fse(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!AV(i)&&(s[ed]=i.title),function pse(t,e,n,r){const i=LI(t);if(0===i.length)return ne({});const s={};return Gt(i).pipe(cn(o=>function gse(t,e,n,r){const i=ud(e)??r,s=Tu(t,i);return _s(s.resolve?s.resolve(e,n):bi(i,()=>s(e,n)))}(t[o],e,n,r).pipe(vo(),ln(a=>{s[o]=a}))),OI(1),function Sre(t){return Se(()=>t)}(s),mu(o=>FV(o)?Zr:vg(o)))}(s,t,e,r).pipe(Se(o=>(t._resolvedData=o,t.data=WI(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=WI(u,u.parent,t).resolve,ne(void 0))),ln(()=>a++),OI(1),cn(u=>a===o.size?ne(n):Zr))})}(this.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",tr.NoDataFromResolver)}}))}),ln(c=>{const l=new oie(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),o0(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(ln(h=>{l.component=h}),Se(()=>{})));for(const h of l.children)d.push(...c(h));return d};return kI(c(u.targetSnapshot.root)).pipe(_g(null),gu(1))}),o0(()=>this.afterPreactivation()),ei(()=>{const{currentSnapshot:u,targetSnapshot:c}=s,l=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return l?Gt(l).pipe(Se(()=>s)):ne(s)}),Se(u=>{const c=function gie(t,e,n){const r=ad(t,e._root,n?n._root:void 0);return new DV(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),ln(()=>{this.events.next(new HI)}),((t,e,n,r)=>Se(i=>(new Tie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),gu(1),ln({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function Are(t){return $t((e,n)=>{Li(t).subscribe(Nt(n,()=>n.complete(),tv)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(ln(u=>{throw u}))),FI(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",tr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),mu(u=>{if(a=!0,RV(u))this.events.next(new Eu(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function vie(t){return RV(t)&&wu(t.url)}(u)?this.events.next(new zI(u.url)):s.resolve(!1);else{this.events.next(new Ag(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Zr}))}))}cancelNavigationTransition(n,r,i){const s=new Eu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ise(t){return t!==sd}let bse=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>S(Tse),providedIn:"root"})}}return t})();class Dse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Tse=(()=>{class t extends Dse{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=a_(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>S(Cse),providedIn:"root"})}}return t})(),Cse=(()=>{class t extends GV{constructor(){super(...arguments),this.location=S(Ul),this.urlSerializer=S(_u),this.options=S(Au,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=S(u0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=TV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Cg)this.stateMemento=this.createStateMemento();else if(n instanceof Iu)this.rawUrlTree=r.initialUrl;else if(n instanceof EV){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof HI?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Eu&&(n.code===tr.GuardRejected||n.code===tr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ag?this.restoreHistory(r,!0):n instanceof ri&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=a_(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(hd||{});function qV(t,e){t.events.pipe(Ui(n=>n instanceof ri||n instanceof Eu||n instanceof Ag||n instanceof Iu),Se(n=>n instanceof ri||n instanceof Iu?hd.COMPLETE:n instanceof Eu&&(n.code===tr.Redirect||n.code===tr.SupersededByNewNavigation)?hd.REDIRECTING:hd.FAILED),Ui(n=>n!==hd.REDIRECTING),gu(1)).subscribe(()=>{e()})}function Sse(t){throw t}const Ase={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=S(gF),this.stateManager=S(GV),this.options=S(Au,{optional:!0})||{},this.pendingTasks=S(Va),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=S(Rg),this.urlSerializer=S(_u),this.location=S(Ul),this.urlHandlingStrategy=S(u0),this._events=new or,this.errorHandler=this.options.errorHandler||Sse,this.navigated=!1,this.routeReuseStrategy=S(bse),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=S(Mu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!S(Mg,{optional:!0}),this.eventsSubscription=new _n,this.isNgZoneEnabled=S(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Eu&&r.code!==tr.Redirect&&r.code!==tr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ri)this.navigated=!0;else if(r instanceof zI){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ise(i.source)};this.scheduleNavigation(o,sd,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Nse(t){return!(t instanceof HI||t instanceof zI)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(e0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=pV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return gV(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=wu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,sd,null,r)}navigate(n,r={skipLocationChange:!1}){return function xse(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Ase}:!1===r?{...Mse}:r,wu(n))return sV(this.currentUrlTree,n,i);const s=this.parseUrl(n);return sV(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return qV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class WV{}let Pse=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(n=>n instanceof ri),Zl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=lp(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Gt(i).pipe(Jl())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ne(null);const s=i.pipe(cn(o=>null===o?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Gt([s,this.loader.loadComponent(r)]).pipe(Jl()):s})}static{this.\u0275fac=function(r){return new(r||t)(W(Rt),W(TF),W(On),W(WV),W(a0))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const l0=new U("");let KV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=S(On),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ri?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Iu&&n.code===Sg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof IV&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var i=this;this.zone.runOutsideAngular(m(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),gw(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new IV(n,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function m1(){throw new Error("invalid")}()}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function si(t,e){return{\u0275kind:t,\u0275providers:e}}function YV(){const t=S(an);return e=>{const n=t.get(gs);if(e!==n.components[0])return;const r=t.get(Rt),i=t.get(XV);1===t.get(d0)&&r.initialNavigation(),t.get(JV,null,he.Optional)?.setUpPreloading(),t.get(l0,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const XV=new U("",{factory:()=>new or}),d0=new U("",{providedIn:"root",factory:()=>1}),JV=new U("");function Vse(t){return si(0,[{provide:JV,useExisting:Pse},{provide:WV,useExisting:t}])}function Bse(t){return si(9,[{provide:HV,useValue:wse},{provide:zV,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const ZV=new U("ROUTER_FORROOT_GUARD"),jse=[Ul,{provide:_u,useClass:VI},Rt,od,{provide:Du,useFactory:function QV(t){return t.routerState.root},deps:[Rt]},a0,[]];let eU=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[jse,[],{provide:Mu,multi:!0,useValue:n},{provide:ZV,useFactory:Gse,deps:[[Rt,new kn,new ef]]},{provide:Au,useValue:r||{}},r?.useHash?{provide:po,useClass:nJ}:{provide:po,useClass:gL},{provide:l0,useFactory:()=>{const t=S(bZ),e=S(Ee),n=S(Au),r=S(Rg),i=S(_u);return n.scrollOffset&&t.setOffset(n.scrollOffset),new KV(i,r,t,e,n)}},r?.preloadingStrategy?Vse(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qse(r):[],r?.bindToComponentInputs?si(8,[MV,{provide:Mg,useExisting:MV}]).\u0275providers:[],r?.enableViewTransitions?Bse().\u0275providers:[],[{provide:tU,useFactory:YV},{provide:yE,multi:!0,useExisting:tU}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Mu,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(W(ZV,8))}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=mr({})}}return t})();function Gse(t){return"guarded"}function qse(t){return["disabled"===t.initialNavigation?si(3,[{provide:gE,multi:!0,useFactory:()=>{const e=S(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:d0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?si(2,[{provide:d0,useValue:0},{provide:gE,multi:!0,deps:[an],useFactory:e=>{const n=e.get(eJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Rt),s=e.get(XV);qV(i,()=>{r(!0)}),e.get(Rg).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const tU=new U("");let nU=(()=>{class t{constructor(n){this.router=n,this.audio=new Audio("../../../assets/click-21156.mp3")}ngOnInit(){}goToStart(){this.playSound(),this.router.navigate(["/inicio"])}playSound(){this.audio.currentTime=0,this.audio.play()}static{this.\u0275fac=function(r){return new(r||t)(G(Rt))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-home"]],decls:18,vars:1,consts:[["id","content"],[1,"uk-container","uk-flex","uk-flex-center"],["uk-grid","","uk-height-match","target: > div",1,"uk-card","uk-card-default","uk-grid-collapse","uk-child-width-1-2@s","uk-margin","uk-width-1-1",2,"max-width","1000px"],[1,"uk-card-media-left","uk-cover-container","uk-width-1-1@s"],["src","../../../assets/1000258473.png","alt","",1,"uk-responsive-width","img-half"],[1,"uk-width-1-1@s"],[1,"uk-card-body"],[1,"uk-card-title","ubuntu-bold"],[1,"ubuntu-medium"],[1,"ubuntu-regular"],[1,"ubuntu-medium-italic"],[1,"uk-button","uk-button-primary","uk-width-1-1","uk-margin-small-bottom",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ze(4,"img",4),x(),M(5,"div",5)(6,"div",6)(7,"h3",7),F(8,"Bem vindo ao Fantasia Kids"),x(),M(9,"h4",8),F(10,"Leve seu filho para um mundo m\xe1gico com o Fantasia Kids!"),x(),M(11,"h5",9),F(12," Descubra um universo encantado de hist\xf3rias infantis cuidadosamente organizadas por categorias como "),M(13,"strong",10),F(14,"A\xe7\xe3o, Aventura, Esporte e Fantasia"),x(),F(15," \u2014 cada uma criada para entreter, ensinar valores e transformar momentos em fam\xedlia em experi\xeancias inesquec\xedveis. Prepare-se para explorar mundos incr\xedveis, conhecer personagens corajosos e viver emo\xe7\xf5es que s\xf3 o Fantasia Kids pode proporcionar. "),x(),M(16,"button",11),zt("click",function(){return i.goToStart()}),F(17," Come\xe7ar "),x()()()()()()),2&r&&kt("@fadeIn",void 0)},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}#content[_ngcontent-%COMP%]{background-image:url(bg.3404ff43db14c26a.avif);background-size:cover;background-position:center;background-repeat:no-repeat;height:100vh}.img-half[_ngcontent-%COMP%]{width:50%;height:200px;object-fit:contain;margin-top:-20px}.uk-card[_ngcontent-%COMP%]{margin-top:100px;height:auto}.uk-card-media-left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.uk-button[_ngcontent-%COMP%]{border:none;background:linear-gradient(45deg,#ff6b6b,#feca57,#ff9ff3,#48dbfb,#1dd1a1,#54a0ff,#5f27cd,#222f3e);border-radius:10px;box-shadow:5px 5px 8px #0000004d}.uk-button[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 13px #0009;cursor:pointer;transition:all .3s ease-in-out}.uk-container[_ngcontent-%COMP%]{margin-top:-20px}@media (max-width: 640px){.uk-card[_ngcontent-%COMP%]{margin-top:30px;padding-top:-10px}h3.uk-card-title[_ngcontent-%COMP%]{font-size:20px;margin-top:-70px}h4.ubuntu-medium[_ngcontent-%COMP%]{font-size:16px}h5.ubuntu-regular[_ngcontent-%COMP%]{font-size:14px}}"]})}}return t})(),Kse=(()=>{class t{constructor(n){this.router=n,this.audio=new Audio("../../../assets/click-21156.mp3"),this.audio2=new Audio("../../../assets/menu-selection-102220.mp3")}goToAcao(){this.playSound(),this.router.navigateByUrl("acao")}goToAventura(){this.playSound(),this.router.navigateByUrl("aventura")}goToEsporte(){this.playSound(),this.router.navigateByUrl("esporte")}goToFantasia(){this.playSound(),this.router.navigateByUrl("fantasia")}goToHome(){this.playSound(),this.router.navigateByUrl("home")}voltar(){this.playSound(),this.router.navigateByUrl("start")}playSound(){this.audio.currentTime=0,this.audio.play()}playSound2(){this.audio2.currentTime=0,this.audio2.play()}static{this.\u0275fac=function(r){return new(r||t)(G(Rt))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-start"]],decls:77,vars:1,consts:[[1,"uk-navbar-container"],[1,"uk-container"],["uk-navbar",""],[1,"uk-navbar-left"],[1,"uk-navbar-nav"],[1,"uk-active"],["href","home"],["src","../../../assets/1000258473.png","alt","","width","200px","id","logo",1,"uk-responsive-width"],[1,"uk-navbar-right"],["id","uk-button",1,"uk-button","uk-button-primary","uk-margin-small-bottom",3,"click"],["id","content"],[1,"text"],["uk-grid","","id","main-cards",1,"uk-flex-center","uk-grid-collapse","uk-grid-match",2,"max-width","1000px","margin","0 auto","width","100%"],["id","my-card",1,"uk-width-1-2@m","uk-width-1-1@s"],[1,"uk-card","uk-card-default",3,"mouseenter"],[1,"uk-card-header"],["uk-grid","",1,"uk-grid-small","uk-flex-middle"],[1,"uk-width-auto"],["width","60","height","60","src","../../../assets/acao2.avif","alt","Avatar",1,"uk-border-circle"],[1,"uk-width-expand"],[1,"uk-card-title","uk-margin-remove-bottom","ubuntu-regular"],["id","uk-card-body",1,"uk-card-body"],[1,"ubuntu-light"],[1,"uk-card-footer"],[1,"uk-button","uk-button-text",3,"click"],["width","60","height","60","src","../../../assets/aventura1.avif","alt","Avatar",1,"uk-border-circle"],["width","60","height","60","src","../../../assets/esporte.jpg","alt","Avatar",1,"uk-border-circle"],["width","60","height","60","src","../../../assets/fantasaia.avif","alt","Avatar",1,"uk-border-circle"],["id","hoverSound","src","som.mp3","preload","auto"]],template:function(r,i){1&r&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),Ze(7,"img",7),x()()()(),M(8,"div",8)(9,"ul",4)(10,"li")(11,"button",9),zt("click",function(){return i.goToHome()}),F(12,"Voltar"),x()()()()()()(),M(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14),zt("mouseenter",function(){return i.playSound2()}),M(18,"div",15)(19,"div",16)(20,"div",17),Ze(21,"img",18),x(),M(22,"div",19)(23,"h3",20),F(24,"A\xe7\xe3o"),x()()()(),M(25,"div",21)(26,"p",22),F(27,"Hist\xf3rias eletrizantes que colocam nossos pequenos her\xf3is em movimento! Com miss\xf5es ousadas, desafios inesperados e muita coragem, essas aventuras ensinam sobre bravura, determina\xe7\xe3o e nunca desistir diante dos obst\xe1culos."),x()(),M(28,"div",23)(29,"button",24),zt("click",function(){return i.goToAcao()}),F(30,"Ouvir Hist\xf3rias"),x()()()(),M(31,"div",13)(32,"div",14),zt("mouseenter",function(){return i.playSound2()}),M(33,"div",15)(34,"div",16)(35,"div",17),Ze(36,"img",25),x(),M(37,"div",19)(38,"h3",20),F(39,"Aventura"),x()()()(),M(40,"div",21)(41,"p",22),F(42,"Prepare-se para explorar mundos misteriosos, mapas escondidos e criaturas fant\xe1sticas! As hist\xf3rias de aventura convidam as crian\xe7as a viverem jornadas incr\xedveis que despertam a imagina\xe7\xe3o e a sede por descobertas."),x()(),M(43,"div",23)(44,"button",24),zt("click",function(){return i.goToAventura()}),F(45,"Ouvir Hist\xf3rias"),x()()()(),M(46,"div",13)(47,"div",14),zt("mouseenter",function(){return i.playSound2()}),M(48,"div",15)(49,"div",16)(50,"div",17),Ze(51,"img",26),x(),M(52,"div",19)(53,"h3",20),F(54,"Esporte"),x()()()(),M(55,"div",21)(56,"p",22),F(57,"Aqui a divers\xe3o corre, salta e marca muitos pontos! As hist\xf3rias de esporte celebram o trabalho em equipe, a supera\xe7\xe3o e a import\xe2ncia de acreditar em si mesmo \u2014 tudo isso com muito movimento e energia positiva.."),x()(),M(58,"div",23)(59,"button",24),zt("click",function(){return i.goToEsporte()}),F(60,"Ouvir Hist\xf3rias"),x()()()(),M(61,"div",13)(62,"div",14),zt("mouseenter",function(){return i.playSound2()}),M(63,"div",15)(64,"div",16)(65,"div",17),Ze(66,"img",27),x(),M(67,"div",19)(68,"h3",20),F(69,"Fantasia"),x()()()(),M(70,"div",21)(71,"p",22),F(72,"Um universo m\xe1gico repleto de fadas, drag\xf5es, reinos encantados e muita imagina\xe7\xe3o! As hist\xf3rias de fantasia transportam os pequenos leitores para lugares onde tudo \xe9 poss\xedvel e cada p\xe1gina revela um novo encantamento."),x()(),M(73,"div",23)(74,"button",24),zt("click",function(){return i.goToFantasia()}),F(75,"Ouvir Hist\xf3rias"),x()()()()(),Ze(76,"audio",28),x()()),2&r&&(Ct(13),kt("@fadeIn",void 0))},styles:[".uk-navbar-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:1000;top:0;left:0;margin:0;padding:0;background-color:#48dbfb;height:130px}.uk-card[_ngcontent-%COMP%]{margin-top:100px;height:350px}#content[_ngcontent-%COMP%]{padding:30px}.space[_ngcontent-%COMP%]{height:70px;width:100%}#main-cards[_ngcontent-%COMP%]{padding-bottom:50px}#main-cards[_ngcontent-%COMP%]   .uk-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000000d;border-radius:12px;width:100%;max-width:500px;height:400px;margin:10px}#main-cards[_ngcontent-%COMP%]   .uk-card-header[_ngcontent-%COMP%], #main-cards[_ngcontent-%COMP%]   .uk-card-footer[_ngcontent-%COMP%]{border:none}#main-cards[_ngcontent-%COMP%]   .uk-card-body[_ngcontent-%COMP%]   .uk-container[_ngcontent-%COMP%]{padding-top:5px}#uk-card-media-left[_ngcontent-%COMP%]{margin-bottom:50px}.text[_ngcontent-%COMP%]{text-align:center;margin-top:120px}#uk-button[_ngcontent-%COMP%]{border:none;background:#ff9ff3;border-radius:10px;box-shadow:5px 5px 8px #0000004d}#uk-button[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 13px #0009;cursor:pointer;transition:all .3s ease-in-out}#my-card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:10px 10px 13px #ff9ff3e6;transition:all .3s ease-in-out;cursor:pointer;transform:translateY(-10px);border-radius:10px}@media (min-width: 640px){.uk-container[_ngcontent-%COMP%]   #main-cards[_ngcontent-%COMP%]   .uk-width-1-2\\@m[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}}"],data:{animation:[du("fadeIn",[fu(":enter",[Un({opacity:0,transform:"translateY(20px)"}),hu("1000ms ease-out",Un({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})();const rU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Jse;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pg=function(t){return function(t){const e=rU(t);return f0.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Og=function(t){try{return f0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Fg=()=>{try{return function toe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Og(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},sU=()=>{var t;return null===(t=Fg())||void 0===t?void 0:t.config};class Lg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function dn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p0(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ws(){try{return"object"==typeof indexedDB}catch{return!1}}function fd(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function g0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oi.prototype.create)}}class oi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function poe(t,e){return t.replace(goe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new hr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const goe=/\{\$([^}]+)}/g;function m0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aU(s)&&aU(o)){if(!m0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aU(t){return null!==t&&"object"==typeof t}function y0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class yoe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function voe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=v0),void 0===i.error&&(i.error=v0),void 0===i.complete&&(i.complete=v0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v0(){}const _oe=1e3,woe=2,Eoe=144e5,Ioe=.5;function w0(t,e=_oe,n=woe){const r=e*Math.pow(n,t),i=Math.round(Ioe*r*(Math.random()-.5)*2);return Math.min(Eoe,r+i)}function qt(t){return t&&t._delegate?t._delegate:t}class hn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wo="[DEFAULT]";class Doe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Coe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===wo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Soe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Doe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const E0=[];var ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{});const uU={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Aoe=ye.INFO,Moe={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},xoe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Moe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class xu{constructor(e){this.name=e,this._logLevel=Aoe,this._logHandler=xoe,this._userLogHandler=null,E0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?uU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const Noe=(t,e)=>e.some(n=>t instanceof n);let cU,lU;const dU=new WeakMap,I0=new WeakMap,hU=new WeakMap,b0=new WeakMap,D0=new WeakMap;let T0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return I0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||hU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Voe(t){return"function"==typeof t?function Loe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Roe(){return lU||(lU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(C0(this),e),Es(dU.get(this))}:function(...e){return Es(t.apply(C0(this),e))}:function(e,...n){const r=t.call(C0(this),e,...n);return hU.set(r,e.sort?e.sort():[e]),Es(r)}}(t):(t instanceof IDBTransaction&&function Ooe(t){if(I0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});I0.set(t,e)}(t),Noe(t,function koe(){return cU||(cU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,T0):t)}function Es(t){if(t instanceof IDBRequest)return function Poe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dU.set(n,t)}).catch(()=>{}),D0.set(e,t),e}(t);if(b0.has(t))return b0.get(t);const e=Voe(t);return e!==t&&(b0.set(t,e),D0.set(e,t)),e}const C0=t=>D0.get(t),Boe=["get","getKey","getAll","getAllKeys","count"],joe=["put","add","delete","clear"],S0=new Map;function fU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(S0.get(e))return S0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=joe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Boe.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return S0.set(e,s),s}!function Foe(t){T0=t(T0)}(t=>({...t,get:(e,n,r)=>fU(e,n)||t.get(e,n,r),has:(e,n)=>!!fU(e,n)||t.has(e,n)}));class $oe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Hoe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const A0="@firebase/app",Eo=new xu("@firebase/app"),Ug="[DEFAULT]",gae={[A0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Io=new Map,Bg=new Map;function mae(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sn(t){const e=t.name;if(Bg.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,t);for(const n of Io.values())mae(n,t);return!0}function jg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Bi=new oi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vae{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}const pd="9.22.2";function gU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=sU()),!n)throw Bi.create("no-options");const s=Io.get(i);if(s){if(m0(n,s.options)&&m0(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new Soe(i);for(const u of Bg.values())o.addComponent(u);const a=new vae(n,r,o);return Io.set(i,a),a}function mU(t=Ug){const e=Io.get(t);if(!e&&t===Ug&&sU())return gU();if(!e)throw Bi.create("no-app",{appName:t});return e}function yU(){return Array.from(Io.values())}function lt(t,e,n){var r;let i=null!==(r=gae[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Eo.warn(a.join(" "))}Sn(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const _ae="firebase-heartbeat-database",wae=1,gd="firebase-heartbeat-store";let x0=null;function vU(){return x0||(x0=function Uoe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Es(o.result),u.oldVersion,u.newVersion,Es(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(_ae,wae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gd)}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),x0}function N0(){return(N0=m(function*(t){try{return yield(yield vU()).transaction(gd).objectStore(gd).get(wU(t))}catch(e){if(e instanceof hr)Eo.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e?.message});Eo.warn(n.message)}}})).apply(this,arguments)}function _U(t,e){return k0.apply(this,arguments)}function k0(){return(k0=m(function*(t,e){try{const r=(yield vU()).transaction(gd,"readwrite");yield r.objectStore(gd).put(e,wU(t)),yield r.done}catch(n){if(n instanceof hr)Eo.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n?.message});Eo.warn(r.message)}}})).apply(this,arguments)}function wU(t){return`${t.name}!${t.options.appId}`}class Dae{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=EU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=EU(),{heartbeatsToSend:r,unsentEntries:i}=function Tae(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IU(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Pg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function EU(){return(new Date).toISOString().substring(0,10)}class Cae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!ws()&&fd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Eae(t){return N0.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _U(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _U(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function IU(t){return Pg(JSON.stringify({version:2,heartbeats:t})).length}!function Sae(t){Sn(new hn("platform-logger",e=>new $oe(e),"PRIVATE")),Sn(new hn("heartbeat",e=>new Dae(e),"PRIVATE")),lt(A0,"0.9.12",t),lt(A0,"0.9.12","esm2017"),lt("fire-js","")}(""),lt("firebase","9.22.2","app");const xae=(t,e)=>e.some(n=>t instanceof n);let bU,DU;const TU=new WeakMap,R0=new WeakMap,CU=new WeakMap,P0=new WeakMap,O0=new WeakMap;let F0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return R0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||CU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Lae(t){return"function"==typeof t?function Fae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kae(){return DU||(DU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(L0(this),e),Is(TU.get(this))}:function(...e){return Is(t.apply(L0(this),e))}:function(e,...n){const r=t.call(L0(this),e,...n);return CU.set(r,e.sort?e.sort():[e]),Is(r)}}(t):(t instanceof IDBTransaction&&function Pae(t){if(R0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});R0.set(t,e)}(t),xae(t,function Nae(){return bU||(bU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,F0):t)}function Is(t){if(t instanceof IDBRequest)return function Rae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Is(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TU.set(n,t)}).catch(()=>{}),O0.set(e,t),e}(t);if(P0.has(t))return P0.get(t);const e=Lae(t);return e!==t&&(P0.set(t,e),O0.set(e,t)),e}const L0=t=>O0.get(t),Uae=["get","getKey","getAll","getAllKeys","count"],Bae=["put","add","delete","clear"],V0=new Map;function SU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(V0.get(e))return V0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Uae.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return V0.set(e,s),s}!function Oae(t){F0=t(F0)}(t=>({...t,get:(e,n,r)=>SU(e,n)||t.get(e,n,r),has:(e,n)=>!!SU(e,n)||t.has(e,n)}));const AU="@firebase/installations",U0="0.6.4",MU=1e4,xU=`w:${U0}`,NU="FIS_v2",jae="https://firebaseinstallations.googleapis.com/v1",$ae=36e5,ji=new oi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kU(t){return t instanceof hr&&t.code.includes("request-failed")}function B0({projectId:t}){return`${jae}/projects/${t}/installations`}function RU(t){return{token:t.token,requestStatus:2,expiresIn:qae(t.expiresIn),creationTime:Date.now()}}function j0(t,e){return $0.apply(this,arguments)}function $0(){return($0=m(function*(t,e){const r=(yield e.json()).error;return ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function PU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function H0(t){return z0.apply(this,arguments)}function z0(){return(z0=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function qae(t){return Number(t.replace("s","000"))}function G0(){return(G0=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=B0(t),i=PU(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:NU,appId:t.appId,sdkVersion:xU})},u=yield H0(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:RU(c.authToken)}}throw yield j0("Create Installation",u)})).apply(this,arguments)}function FU(t){return new Promise(e=>{setTimeout(e,t)})}const Yae=/^[cdef][\w-]{21}$/,q0="";function Xae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Jae(t){return function Qae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Yae.test(n)?n:q0}catch{return q0}}function Nu(t){return`${t.appName}!${t.appId}`}const ku=new Map;function LU(t,e){const n=Nu(t);VU(n,e),function tue(t,e){const n=function UU(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=t=>{VU(t.data.key,t.data.fid)}),bo}();n&&n.postMessage({key:t,fid:e}),function BU(){0===ku.size&&bo&&(bo.close(),bo=null)}()}(n,e)}function VU(t,e){const n=ku.get(t);if(n)for(const r of n)r(e)}let bo=null;const nue="firebase-installations-database",rue=1,Do="firebase-installations-store";let W0=null;function K0(){return W0||(W0=function Vae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Is(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Is(o.result),u.oldVersion,u.newVersion,Is(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(nue,rue,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Do)}})),W0}function $g(t,e){return Q0.apply(this,arguments)}function Q0(){return(Q0=m(function*(t,e){const n=Nu(t),i=(yield K0()).transaction(Do,"readwrite"),s=i.objectStore(Do),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&LU(t,e.fid),e})).apply(this,arguments)}function Y0(t){return X0.apply(this,arguments)}function X0(){return(X0=m(function*(t){const e=Nu(t),r=(yield K0()).transaction(Do,"readwrite");yield r.objectStore(Do).delete(e),yield r.done})).apply(this,arguments)}function md(t,e){return J0.apply(this,arguments)}function J0(){return(J0=m(function*(t,e){const n=Nu(t),i=(yield K0()).transaction(Do,"readwrite"),s=i.objectStore(Do),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&LU(t,a.fid),a})).apply(this,arguments)}function Z0(t){return eb.apply(this,arguments)}function eb(){return eb=m(function*(t){let e;const n=yield md(t.appConfig,r=>{const i=function iue(t){return $U(t||{fid:Xae(),registrationStatus:0})}(r),s=function sue(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ji.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function oue(t,e){return tb.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:aue(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===q0?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),eb.apply(this,arguments)}function tb(){return tb=m(function*(t,e){try{const n=yield function Kae(t,e){return G0.apply(this,arguments)}(t,e);return $g(t.appConfig,n)}catch(n){throw kU(n)&&409===n.customData.serverCode?yield Y0(t.appConfig):yield $g(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),tb.apply(this,arguments)}function aue(t){return nb.apply(this,arguments)}function nb(){return(nb=m(function*(t){let e=yield jU(t.appConfig);for(;1===e.registrationStatus;)yield FU(100),e=yield jU(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Z0(t);return r||n}return e})).apply(this,arguments)}function jU(t){return md(t,e=>{if(!e)throw ji.create("installation-not-found");return $U(e)})}function $U(t){return function uue(t){return 1===t.registrationStatus&&t.registrationTime+MU<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function rb(){return(rb=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function lue(t,{fid:e}){return`${B0(t)}/${e}/authTokens:generate`}(t,n),i=function OU(t,{refreshToken:e}){const n=PU(t);return n.append("Authorization",function Wae(t){return`${NU} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:xU,appId:t.appId}})},u=yield H0(()=>fetch(r,a));if(u.ok)return RU(yield u.json());throw yield j0("Generate Auth Token",u)})).apply(this,arguments)}function ib(t){return sb.apply(this,arguments)}function sb(){return sb=m(function*(t,e=!1){let n;const r=yield md(t.appConfig,s=>{if(!zU(s))throw ji.create("not-registered");const o=s.authToken;if(!e&&function fue(t){return 2===t.requestStatus&&!function pue(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$ae}(t)}(o))return s;if(1===o.requestStatus)return n=function due(t,e){return ob.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ji.create("app-offline");const a=function gue(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function hue(t,e){return ab.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),sb.apply(this,arguments)}function ob(){return(ob=m(function*(t,e){let n=yield HU(t.appConfig);for(;1===n.authToken.requestStatus;)yield FU(100),n=yield HU(t.appConfig);const r=n.authToken;return 0===r.requestStatus?ib(t,e):r})).apply(this,arguments)}function HU(t){return md(t,e=>{if(!zU(e))throw ji.create("not-registered");return function mue(t){return 1===t.requestStatus&&t.requestTime+MU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ab(){return ab=m(function*(t,e){try{const n=yield function cue(t,e){return rb.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield $g(t.appConfig,r),n}catch(n){if(!kU(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield $g(t.appConfig,r)}else yield Y0(t.appConfig);throw n}}),ab.apply(this,arguments)}function zU(t){return void 0!==t&&2===t.registrationStatus}function ub(){return(ub=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Z0(e);return r?r.catch(console.error):ib(e).catch(console.error),n.fid})).apply(this,arguments)}function cb(){return cb=m(function*(t,e=!1){const n=t;return yield function _ue(t){return lb.apply(this,arguments)}(n),(yield ib(n,e)).token}),cb.apply(this,arguments)}function lb(){return(lb=m(function*(t){const{registrationPromise:e}=yield Z0(t);e&&(yield e)})).apply(this,arguments)}function fb(t){return ji.create("missing-app-config-values",{valueName:t})}const GU="installations",Due=t=>{const e=t.getProvider("app").getImmediate(),n=function Iue(t){if(!t||!t.options)throw fb("App Configuration");if(!t.name)throw fb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:jg(e,"heartbeat"),_delete:()=>Promise.resolve()}},Tue=t=>{const n=jg(t.getProvider("app").getImmediate(),GU).getImmediate();return{getId:()=>function yue(t){return ub.apply(this,arguments)}(n),getToken:i=>function vue(t){return cb.apply(this,arguments)}(n,i)}};(function Cue(){Sn(new hn(GU,Due,"PUBLIC")),Sn(new hn("installations-internal",Tue,"PRIVATE"))})(),lt(AU,U0),lt(AU,U0,"esm2017");const pb="@firebase/remote-config",Bn=new oi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lue{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Vue(t=navigator){return t.languages&&t.languages[0]||t.language}class Uue{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Vue()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",_(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Bn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Bn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw Bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class $ue{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,n){var r=this;return m(function*(i,{throttleEndTimeMillis:s,backoffCount:o}){yield function Bue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i.signal,s);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function jue(t){if(!(t instanceof hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const u={throttleEndTimeMillis:Date.now()+w0(o),backoffCount:o+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(i,u)}}).apply(this,arguments)}}class Gue{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zg(t,e){const n=t.target.error||void 0;return Bn.create(e,{originalErrorMessage:n&&n?.message})}const To="app_namespace_store";class Que{constructor(e,n,r,i=function Kue(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(zg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(n){e(Bn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([To],"readonly").objectStore(To),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(zg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Bn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([To],"readwrite").objectStore(To),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(zg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Bn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([To],"readwrite").objectStore(To),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(zg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Bn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Yue{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Jue(){return _b.apply(this,arguments)}function _b(){return(_b=m(function*(){if(!ws())return!1;try{return yield fd()}catch{return!1}})).apply(this,arguments)}!function Xue(){Sn(new hn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!ws())throw Bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Bn.create("registration-project-id");if(!o)throw Bn.create("registration-api-key");if(!a)throw Bn.create("registration-app-id");const u=new Que(a,r.name,n=n||"firebase"),c=new Yue(u),l=new xu(pb);l.logLevel=ye.ERROR;const d=new Uue(i,pd,n,s,o,a),h=new $ue(d,u),f=new Lue(h,u,c,l),p=new Gue(r,f,c,u,l);return function Pue(t){const e=qt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),lt(pb,"0.4.4"),lt(pb,"0.4.4","esm2017")}();const Zue=(t,e)=>e.some(n=>t instanceof n);let QU,YU;const XU=new WeakMap,wb=new WeakMap,JU=new WeakMap,Eb=new WeakMap,Ib=new WeakMap;let bb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return wb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||JU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function oce(t){return"function"==typeof t?function sce(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tce(){return YU||(YU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Db(this),e),$i(XU.get(this))}:function(...e){return $i(t.apply(Db(this),e))}:function(e,...n){const r=t.call(Db(this),e,...n);return JU.set(r,e.sort?e.sort():[e]),$i(r)}}(t):(t instanceof IDBTransaction&&function rce(t){if(wb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wb.set(t,e)}(t),Zue(t,function ece(){return QU||(QU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,bb):t)}function $i(t){if(t instanceof IDBRequest)return function nce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XU.set(n,t)}).catch(()=>{}),Ib.set(e,t),e}(t);if(Eb.has(t))return Eb.get(t);const e=oce(t);return e!==t&&(Eb.set(t,e),Ib.set(e,t)),e}const Db=t=>Ib.get(t);function ZU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",u=>{r($i(o.result),u.oldVersion,u.newVersion,$i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Tb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),$i(n).then(()=>{})}const ace=["get","getKey","getAll","getAllKeys","count"],uce=["put","add","delete","clear"],Cb=new Map;function eB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Cb.get(e))return Cb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ace.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Cb.set(e,s),s}!function ice(t){bb=t(bb)}(t=>({...t,get:(e,n,r)=>eB(e,n)||t.get(e,n,r),has:(e,n)=>!!eB(e,n)||t.has(e,n)}));const cce="/firebase-messaging-sw.js",lce="/firebase-cloud-messaging-push-scope",tB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dce="https://fcmregistrations.googleapis.com/v1",nB="google.c.a.c_id",hce="google.c.a.c_l",fce="google.c.a.ts";var Gg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Gg||{});function Hi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mce(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Sb="fcm_token_details_db",yce=5,rB="fcm_token_object_Store";function Ab(){return Ab=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Sb))return null;let e=null;return(yield ZU(Sb,yce,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(rB))return;const c=a.objectStore(rB),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Hi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Hi(d.auth),p256dh:Hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Hi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Hi(d.auth),p256dh:Hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Hi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Tb(Sb),yield Tb("fcm_vapid_details_db"),yield Tb("undefined"),function _ce(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Ab.apply(this,arguments)}const wce="firebase-messaging-database",Ece=1,Co="firebase-messaging-store";let Mb=null;function xb(){return Mb||(Mb=ZU(wce,Ece,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Co)}})),Mb}function iB(t){return Nb.apply(this,arguments)}function Nb(){return Nb=m(function*(t){const e=Ob(t),r=yield(yield xb()).transaction(Co).objectStore(Co).get(e);if(r)return r;{const i=yield function vce(t){return Ab.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield kb(t,i),i}}),Nb.apply(this,arguments)}function kb(t,e){return Rb.apply(this,arguments)}function Rb(){return(Rb=m(function*(t,e){const n=Ob(t),i=(yield xb()).transaction(Co,"readwrite");return yield i.objectStore(Co).put(e,n),yield i.done,e})).apply(this,arguments)}function Pb(){return(Pb=m(function*(t){const e=Ob(t),r=(yield xb()).transaction(Co,"readwrite");yield r.objectStore(Co).delete(e),yield r.done})).apply(this,arguments)}function Ob({appConfig:t}){return t.appId}const Wt=new oi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dce(t,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=m(function*(t,e){const n=yield Bb(t),r=oB(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Ub(t.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Lb(){return(Lb=m(function*(t,e){const n=yield Bb(t),r=oB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Ub(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function sB(t,e){return Vb.apply(this,arguments)}function Vb(){return(Vb=m(function*(t,e){const r={method:"DELETE",headers:yield Bb(t)};try{const s=yield(yield fetch(`${Ub(t.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Ub({projectId:t}){return`${dce}/projects/${t}/registrations`}function Bb(t){return jb.apply(this,arguments)}function jb(){return(jb=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function oB({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==tB&&(i.web.applicationPubKey=r),i}const Cce=6048e5;function $b(){return $b=m(function*(t){const e=yield function Mce(t,e){return qb.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Hi(e.getKey("auth")),p256dh:Hi(e.getKey("p256dh"))},r=yield iB(t.firebaseDependencies);if(r){if(function xce(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Cce?function Ace(t,e){return zb.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield sB(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uB(t.firebaseDependencies,n)}return uB(t.firebaseDependencies,n)}),$b.apply(this,arguments)}function Hb(){return Hb=m(function*(t){const e=yield iB(t.firebaseDependencies);e&&(yield sB(t.firebaseDependencies,e.token),yield function Ice(t){return Pb.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Hb.apply(this,arguments)}function zb(){return zb=m(function*(t,e){try{const n=yield function Tce(t,e){return Lb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield kb(t.firebaseDependencies,r),n}catch(n){throw yield function aB(t){return Hb.apply(this,arguments)}(t),n}}),zb.apply(this,arguments)}function uB(t,e){return Gb.apply(this,arguments)}function Gb(){return(Gb=m(function*(t,e){const r={token:yield Dce(t,e),createTime:Date.now(),subscriptionOptions:e};return yield kb(t,r),r.token})).apply(this,arguments)}function qb(){return(qb=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mce(e)})})).apply(this,arguments)}function cB(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Nce(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function kce(t,e){e.data&&(t.data=e.data)}(e,t),function Rce(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function lB(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Wb(t){return Wt.create("missing-app-config-values",{valueName:t})}lB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fce{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Oce(t){if(!t||!t.options)throw Wb("App Configuration Object");if(!t.name)throw Wb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Wb(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Kb(){return(Kb=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(cce,{scope:lce}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Qb(){return(Qb=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function dB(t){return Kb.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Yb(){return(Yb=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=tB)})).apply(this,arguments)}function Xb(){return Xb=m(function*(t,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield function Vce(t,e){return Yb.apply(this,arguments)}(t,e?.vapidKey),yield function Lce(t,e){return Qb.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Sce(t){return $b.apply(this,arguments)}(t)}),Xb.apply(this,arguments)}function Jb(){return(Jb=m(function*(t,e,n){const r=function Bce(t){switch(t){case Gg.NOTIFICATION_CLICKED:return"notification_open";case Gg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[nB],message_name:n[hce],message_time:n[fce],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zb(){return Zb=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Gg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(cB(n)):t.onMessageHandler.next(cB(n)));const r=n.data;(function Pce(t){return"object"==typeof t&&!!t&&nB in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Uce(t,e,n){return Jb.apply(this,arguments)}(t,n.messageType,r))}),Zb.apply(this,arguments)}const fB="@firebase/messaging",$ce=t=>{const e=new Fce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function jce(t,e){return Zb.apply(this,arguments)}(e,n)),e},Hce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function hB(t,e){return Xb.apply(this,arguments)}(e,r)}};function gB(){return eD.apply(this,arguments)}function eD(){return(eD=m(function*(){try{yield fd()}catch{return!1}return typeof window<"u"&&ws()&&g0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zce(){Sn(new hn("messaging",$ce,"PUBLIC")),Sn(new hn("messaging-internal",Hce,"PRIVATE")),lt(fB,"0.12.4"),lt(fB,"0.12.4","esm2017")}();const qg="analytics",Wce="firebase_id",Kce="origin",Qce=6e4,Yce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rD="https://www.googletagmanager.com/gtag/js",Pt=new xu("@firebase/analytics"),An=new oi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jce(t){if(!t.startsWith(rD)){const e=An.create("invalid-gtag-resource",{gtagURL:t});return Pt.warn(e.message),""}return t}function mB(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iD(){return(iD=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield mB(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Pt.error(a)}t("config",i,s)})).apply(this,arguments)}function sD(){return(sD=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield mB(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Pt.error(s)}})).apply(this,arguments)}const ale=30,yB=new class cle{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function lle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function oD(){return(oD=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:lle(r)},s=Yce.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function aD(){return(aD=m(function*(t,e=yB,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw An.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw An.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new gle;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Qce),vB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function vB(t,e,n){return uD.apply(this,arguments)}function uD(){return uD=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=yB){var s;const{appId:o,measurementId:a}=t;try{yield function fle(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function dle(t){return oD.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function ple(t){if(!(t instanceof hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?w0(n,i.intervalMillis,ale):w0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Pt.debug(`Calling attemptFetch again in ${l} millis`),vB(t,d,r,i)}}),uD.apply(this,arguments)}class gle{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cD,mD;function lD(){return(lD=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function yD(){return(yD=m(function*(){if(!ws())return Pt.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fd()}catch(t){return Pt.warn(An.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function vD(){return vD=m(function*(t,e,n,r,i,s,o){var a;const u=function hle(t){return aD.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Pt.error(f)),e.push(u);const c=function Ile(){return yD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function ole(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rD)&&n.src.includes(t))return n;return null})(s)||function ele(t,e){const n=function Zce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Jce}),r=document.createElement("script"),i=`${rD}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),mD&&(i("consent","default",mD),function _B(t){mD=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Kce]="firebase",h.update=!0,null!=d&&(h[Wce]=d),i("config",l.measurementId,h),cD&&(i("set",cD),function wB(t){cD=t}(void 0)),l.measurementId}),vD.apply(this,arguments)}class Dle{constructor(e){this.app=e}_delete(){return delete ai[this.app.options.appId],Promise.resolve()}}let ai={},EB=[];const IB={};let DB,ui,Wg="dataLayer",_D=!1;function Cle(t,e,n){!function Tle(){const t=[];if(p0()&&t.push("This is a browser extension environment."),g0()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});Pt.warn(n.message)}}();const r=t.options.appId;if(!r)throw An.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw An.create("no-api-key");Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ai[r])throw An.create("already-exists",{id:r});if(!_D){!function tle(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Wg);const{wrappedGtag:s,gtagCore:o}=function sle(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ile(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function rle(t,e,n,r,i){return sD.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function nle(t,e,n,r,i,s){return iD.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Pt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ai,EB,IB,Wg,"gtag");ui=s,DB=o,_D=!0}return ai[r]=function ble(t,e,n,r,i,s,o){return vD.apply(this,arguments)}(t,EB,IB,e,DB,Wg,n),new Dle(t)}function Ale(){return wD.apply(this,arguments)}function wD(){return(wD=m(function*(){if(p0()||!g0()||!ws())return!1;try{return yield fd()}catch{return!1}})).apply(this,arguments)}const TB="@firebase/analytics";!function xle(){Sn(new hn(qg,(e,{options:n})=>Cle(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Sn(new hn("analytics-internal",function t(e){try{const n=e.getProvider(qg).getImmediate();return{logEvent:(r,i,s)=>function Mle(t,e,n,r){t=qt(t),function mle(t,e,n,r,i){return lD.apply(this,arguments)}(ui,ai[t.app.options.appId],e,n,r).catch(i=>Pt.error(i))}(n,r,i,s)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),lt(TB,"0.10.0"),lt(TB,"0.10.0","esm2017")}();class Nle extends _n{constructor(e,n){super()}schedule(e,n=0){return this}}const Kg={setInterval(t,e,...n){const{delegate:r}=Kg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Kg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class SB extends Nle{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Kg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Kg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hh(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const AB={now:()=>(AB.delegate||Date).now(),delegate:void 0};class yd{constructor(e,n=yd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yd.now=AB.now;class MB extends yd{constructor(e,n=yd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Ple=new class Rle extends MB{}(class kle extends SB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Ole=new MB(SB),ID=new Ol("7.6.1"),bD="__angularfire_symbol__analyticsIsSupportedValue",DD="__angularfire_symbol__analyticsIsSupported",TD="__angularfire_symbol__remoteConfigIsSupportedValue",CD="__angularfire_symbol__remoteConfigIsSupported",SD="__angularfire_symbol__messagingIsSupportedValue",AD="__angularfire_symbol__messagingIsSupported";globalThis[DD]||(globalThis[DD]=Ale().then(t=>globalThis[bD]=t).catch(()=>globalThis[bD]=!1)),globalThis[AD]||(globalThis[AD]=gB().then(t=>globalThis[SD]=t).catch(()=>globalThis[SD]=!1)),globalThis[CD]||(globalThis[CD]=Jue().then(t=>globalThis[TD]=t).catch(()=>globalThis[TD]=!1));const ND=(t,e)=>{const n=e?[e]:yU(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ru(){}class xB{constructor(e,n=Ple){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Fle{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)),n.pipe(ln({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let NB=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new xB(Zone.current)),this.insideAngular=n.run(()=>new xB(Zone.current,Ole)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(Ee))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function So(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ao(t){return So().ngZone.run(()=>t())}function Vle(t){return So(),function Ule(t){return function(n){return(n=n.lift(new Fle(t.ngZone))).pipe(gg(t.outsideAngular),pg(t.insideAngular))}}(So())(t)}const Ble=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ao(()=>t.apply(void 0,r))},Pu=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)))),r[s]=Ble(r[s],n));const i=function Lle(t){return So().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof gt){const s=So();return i.pipe(gg(s.outsideAngular),pg(s.insideAngular))}return Ao(()=>i)}return i instanceof gt?i.pipe(Vle):i instanceof Promise?Ao(()=>new Promise((s,o)=>i.then(a=>Ao(()=>s(a)),a=>Ao(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ao(()=>i)};class Ou{constructor(e){return e}}class kB{constructor(){return yU()}}const kD=new U("angularfire2._apps"),$le={provide:Ou,useFactory:function jle(t){return t&&1===t.length?t[0]:new Ou(mU())},deps:[[new kn,kD]]},Hle={provide:kB,deps:[[new kn,kD]]};function zle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ou(r)}}let Gle=(()=>{class t{constructor(n){lt("angularfire",ID.full,"core"),lt("angularfire",ID.full,"app"),lt("angular",hY.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(Si))},t.\u0275mod=Vr({type:t}),t.\u0275inj=mr({providers:[$le,Hle]}),t})();function qle(t,...e){return{ngModule:Gle,providers:[{provide:kD,useFactory:zle(t),multi:!0,deps:[Ee,an,NB,...e]}]}}const Wle=Pu(gU,!0);const Kle=function RB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},PB=new oi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qg=new xu("@firebase/auth");function Yg(t,...e){Qg.logLevel<=ye.ERROR&&Qg.error(`Auth (${pd}): ${t}`,...e)}function jn(t,...e){throw RD(t,...e)}function ci(t,...e){return RD(t,...e)}function RD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PB.create(t,...e)}function k(t,e,...n){if(!t)throw RD(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yg(e),new Error(e)}function bs(t,e){t||li(e)}function FB(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _d{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=function coe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}()||function doe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Yle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function PD(){return"http:"===FB()||"https:"===FB()}()||p0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class LB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zle=new _d(3e4,6e4);function et(t,e,n,r){return FD.apply(this,arguments)}function FD(){return(FD=m(function*(t,e,n,r,i={}){return VB(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=y0(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),LB.fetch()(UB(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function VB(t,e,n){return LD.apply(this,arguments)}function LD(){return(LD=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jle),e);try{const i=new ede(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw wd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function OB(t,e,n){const r=Object.assign(Object.assign({},Kle()),{[e]:n});return new oi("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);jn(t,l)}}catch(i){if(i instanceof hr)throw i;jn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function UB(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function OD(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class ede{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),Zle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(t,e,r);return i.customData._tokenResponse=n,i}function UD(){return(UD=m(function*(t,e){return et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function jD(){return(jD=m(function*(t,e){return et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $D(){return($D=m(function*(t,e=!1){const n=qt(t),r=yield n.getIdToken(e),i=Xg(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ed(HD(i.auth_time)),issuedAtTime:Ed(HD(i.iat)),expirationTime:Ed(HD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function HD(t){return 1e3*Number(t)}function Xg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Og(n);return i?JSON.parse(i):(Yg("Failed to decode base64 JWT payload"),null)}catch(i){return Yg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Gi(t,e){return zD.apply(this,arguments)}function zD(){return(zD=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof hr&&function ode({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ade{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class BB{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Id(t){return GD.apply(this,arguments)}function GD(){return GD=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Gi(t,function rde(t,e){return jD.apply(this,arguments)}(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lde(t){return t.map(e=>{var{providerId:n}=e,r=fg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function cde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new BB(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),GD.apply(this,arguments)}function qD(){return(qD=m(function*(t){const e=qt(t);yield Id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function WD(){return(WD=m(function*(t,e){const n=yield VB(t,{},m(function*(){const r=y0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UB(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class bd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function sde(t){const e=Xg(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e){var n=this;return m(function*(r,i=!1){return k(!n.accessToken||n.refreshToken,r,"user-token-expired"),i||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null:n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function dde(t,e){return WD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bd;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bd,this.toJSON())}_performRefresh(){return li("not implemented")}}function Ds(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Mo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ade(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Gi(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ide(t){return $D.apply(this,arguments)}(this,e)}reload(){return function ude(t){return qD.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var n=this;return m(function*(r,i=!1){let s=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),s=!0),i&&(yield Id(n)),yield n.auth._persistUserIfCurrent(n),s&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Gi(e,function tde(t,e){return UD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:N,isAnonymous:V,providerData:B,stsTokenManager:te}=n;k(D&&te,e,"internal-error");const Ce=bd.fromJSON(this.name,te);k("string"==typeof D,e,"internal-error"),Ds(d,e.name),Ds(h,e.name),k("boolean"==typeof N,e,"internal-error"),k("boolean"==typeof V,e,"internal-error"),Ds(f,e.name),Ds(p,e.name),Ds(g,e.name),Ds(y,e.name),Ds(v,e.name),Ds(_,e.name);const en=new Mo({uid:D,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ce,createdAt:v,lastLoginAt:_});return B&&Array.isArray(B)&&(en.providerData=B.map(_i=>Object.assign({},_i))),y&&(en._redirectEventId=y),en}static _fromIdTokenResponse(e,n){return m(function*(r,i,s=!1){const o=new bd;o.updateFromServerResponse(i);const a=new Mo({uid:i.localId,auth:r,stsTokenManager:o,isAnonymous:s});return yield Id(a),a}).apply(this,arguments)}}const jB=new Map;function qi(t){bs(t instanceof Function,"Expected a class definition");let e=jB.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jB.set(t,e),e)}const $B=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Jg(t,e,n){return`firebase:${t}:${e}:${n}`}class Lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Mo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n){return m(function*(r,i,s="authUser"){if(!i.length)return new Lu(qi($B),r,s);const o=(yield Promise.all(i.map(function(){var d=m(function*(h){if(yield h._isAvailable())return h});return function(h){return d.apply(this,arguments)}}()))).filter(d=>d);let a=o[0]||qi($B);const u=Jg(s,r.config.apiKey,r.name);let c=null;for(const d of i)try{const h=yield d._get(u);if(h){const f=Mo._fromJSON(r,h);d!==a&&(c=f),a=d;break}}catch{}const l=o.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(i.map(function(){var d=m(function*(h){if(h!==a)try{yield h._remove(u)}catch{}});return function(h){return d.apply(this,arguments)}}())),new Lu(a,r,s)):new Lu(a,r,s)}).apply(this,arguments)}}function HB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function qB(t=dn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function zB(t=dn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function KB(t=dn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function QB(t=dn()){return/webos/i.test(t)}(e))return"Webos";if(function KD(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function GB(t=dn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function WB(t=dn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function YB(t,e=[]){let n;switch(t){case"Browser":n=HB(dn());break;case"Worker":n=`${HB(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pd}/${r}`}function XB(t,e){return YD.apply(this,arguments)}function YD(){return(YD=m(function*(t,e){return et(t,"GET","/v2/recaptchaConfig",function Ye(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function ZB(t){return void 0!==t&&void 0!==t.enterprise}class ej{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class nj{constructor(e){this.type="recaptcha-enterprise",this.auth=Ot(e)}verify(){var e=this;return m(function*(n="verify",r=!1){function s(){return s=m(function*(a){if(!r){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){XB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new ej(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;ZB(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:n}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(e.auth).then(c=>{if(!r&&ZB(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function XD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function gde(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})}).apply(this,arguments)}}class _de{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class wde{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rj(this),this.idTokenSubscription=new rj(this),this.beforeStateQueue=new _de(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Lu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Id(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Xle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?qt(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return m(function*(r,i=!1){if(!n._deleted)return r&&k(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue(m(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(qi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield XB(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ej(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new nj(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&qi(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield Lu.create(n,[qi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Qle(t,...e){Qg.logLevel<=ye.WARN&&Qg.warn(`Auth (${pd}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ot(t){return qt(t)}class rj{constructor(e){this.auth=e,this.observer=null,this.addObserver=function moe(t,e){const n=new yoe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function tj(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new _d(3e4,6e4),new _d(2e3,1e4),new _d(3e4,6e4),new _d(5e3,15e3),encodeURIComponent("fac");var Pj="@firebase/auth";class ffe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Fg(),function gfe(t){Sn(new hn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YB(t)},c=new wde(r,i,s,u);return function Ide(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new hn("auth-internal",e=>{const n=Ot(e.getProvider("auth").getImmediate());return new ffe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(Pj,"0.23.2",function pfe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),lt(Pj,"0.23.2","esm2017")}("Browser");class Vj{constructor(){return ND("auth")}}const LC=new Map,Uj={activated:!1,tokenObservers:[]},Ife={initialized:!1,enabled:!1};function tt(t){return LC.get(t)||Object.assign({},Uj)}function dm(){return Ife}const VC="https://content-firebaseappcheck.googleapis.com/v1",Cfe="exchangeDebugToken",Bj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Afe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Lg,yield function Mfe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Lg,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Kt=new oi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function UC(t){if(!tt(t).activated)throw Kt.create("use-before-activation",{appName:t.name})}function pm(t,e){return jC.apply(this,arguments)}function jC(){return jC=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Kt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Kt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Kt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),jC.apply(this,arguments)}function jj(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${VC}/projects/${n}/apps/${r}:${Cfe}?key=${i}`,body:{debug_token:e}}}const Rfe="firebase-app-check-database",Pfe=1,xd="firebase-app-check-store";let gm=null;function $C(){return $C=m(function*(t,e){const r=(yield function Hj(){return gm||(gm=new Promise((t,e)=>{try{const n=indexedDB.open(Rfe,Pfe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Kt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xd,{keyPath:"compositeKey"})}}catch(n){e(Kt.create("storage-open",{originalErrorMessage:n?.message}))}}),gm)}()).transaction(xd,"readwrite"),s=r.objectStore(xd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Kt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),$C.apply(this,arguments)}const Nd=new xu("@firebase/app-check");function GC(t,e){return ws()?function Ffe(t,e){return function zj(t,e){return $C.apply(this,arguments)}(function qj(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Nd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function WC(){return dm().enabled}function KC(){return QC.apply(this,arguments)}function QC(){return QC=m(function*(){const t=dm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QC.apply(this,arguments)}const $fe={error:"UNKNOWN_ERROR"};function Hfe(t){return f0.encodeString(JSON.stringify(t),!1)}function mm(t){return YC.apply(this,arguments)}function YC(){return YC=m(function*(t,e=!1){const n=t.app;UC(n);const r=tt(n);let s,i=r.token;if(i&&!Bu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Bu(u)?i=u:yield GC(n,void 0))}if(!e&&i&&Bu(i))return{token:i.token};let a,o=!1;if(WC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pm(jj(n,yield KC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield GC(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield tt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Nd.warn(u.message):Nd.error(u),s=u}return i?s?a=Bu(i)?{token:i.token,internalError:s}:Yj(s):(a={token:i.token},r.token=i,yield GC(n,i)):a=Yj(s),o&&function Qj(t,e){const n=tt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),YC.apply(this,arguments)}function XC(){return XC=m(function*(t){const e=t.app;UC(e);const{provider:n}=tt(e);if(WC()){const r=yield KC(),{token:i}=yield pm(jj(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),XC.apply(this,arguments)}function ZC(t,e){const n=tt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Kj(t){const{app:e}=t,n=tt(e);let r=n.tokenRefresher;r||(r=function zfe(t){const{app:e}=t;return new Afe(m(function*(){let r;if(r=tt(e).token?yield mm(t,!0):yield mm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=tt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Bj.RETRIAL_MIN_WAIT,Bj.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Bu(t){return t.expireTimeMillis-Date.now()>0}function Yj(t){return{token:Hfe($fe),error:t}}class Gfe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=tt(this.app);for(const n of e)ZC(this.app,n.next);return Promise.resolve()}}const i$="app-check-internal";!function spe(){Sn(new hn("app-check",t=>function qfe(t,e){return new Gfe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(i$).initialize()})),Sn(new hn(i$,t=>function Wfe(t){return{getToken:e=>mm(t,e),getLimitedUseToken:()=>function Wj(t){return XC.apply(this,arguments)}(t),addTokenListener:e=>function JC(t,e,n,r){const{app:i}=t,s=tt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Bu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Kj(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Kj(t))}(t,"INTERNAL",e),removeTokenListener:e=>ZC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),lt("@firebase/app-check","0.8.0")}();class o${constructor(){return ND("app-check")}}typeof window<"u"&&window;var O,lpe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={},iS=iS||{},oe=lpe||self;function vm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function kd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sS="closure_uid_"+(1e9*Math.random()>>>0),hpe=0;function fpe(t,e,n){return t.call.apply(t.bind,arguments)}function ppe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function fn(t,e,n){return(fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fpe:ppe).apply(null,arguments)}function _m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Cs(){this.s=this.s,this.o=this.o}Cs.prototype.s=!1,Cs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function dpe(t){Object.prototype.hasOwnProperty.call(t,sS)&&t[sS]||(t[sS]=++hpe)}(this)},Cs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a$=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function u$(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var mpe=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}function wm(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function di(t){return-1!=wm().indexOf(t)}function aS(t){return aS[" "](t),t}aS[" "]=function(){};var cS,vpe=di("Opera"),ju=di("Trident")||di("MSIE"),c$=di("Edge"),uS=c$||ju,l$=di("Gecko")&&!(-1!=wm().toLowerCase().indexOf("webkit")&&!di("Edge"))&&!(di("Trident")||di("MSIE"))&&!di("Edge"),_pe=-1!=wm().toLowerCase().indexOf("webkit")&&!di("Edge");function d$(){var t=oe.document;return t?t.documentMode:void 0}e:{var lS="",dS=function(){var t=wm();return l$?/rv:([^\);]+)(\)|;)/.exec(t):c$?/Edge\/([\d\.]+)/.exec(t):ju?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_pe?/WebKit\/(\S+)/.exec(t):vpe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(dS&&(lS=dS?dS[1]:""),ju){var hS=d$();if(null!=hS&&hS>parseFloat(lS)){cS=String(hS);break e}}cS=lS}var wpe=oe.document&&ju&&(d$()||parseInt(cS,10))||void 0;function Pd(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(l$){e:{try{aS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Epe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pd.$.h.call(this)}}Ft(Pd,pn);var Epe={2:"touch",3:"pen",4:"mouse"};Pd.prototype.h=function(){Pd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Od="closure_listenable_"+(1e6*Math.random()|0),Ipe=0;function bpe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Ipe,this.fa=this.ia=!1}function Em(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function pS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function f$(t){const e={};for(const n in t)e[n]=t[n];return e}const p$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g$(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<p$.length;s++)n=p$[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Im(t){this.src=t,this.g={},this.h=0}function gS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=a$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Em(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Im.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=mS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new bpe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var yS="closure_lm_"+(1e6*Math.random()|0),vS={};function m$(t,e,n,r,i){if(r&&r.once)return v$(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)m$(t,e[s],n,r,i);return null}return n=IS(n),t&&t[Od]?t.O(e,n,kd(r)?!!r.capture:!!r,i):y$(t,e,n,!1,r,i)}function y$(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=kd(i)?!!i.capture:!!i,a=wS(t);if(a||(t[yS]=a=new Im(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Tpe(){const e=Cpe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mpe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(w$(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function v$(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)v$(t,e[s],n,r,i);return null}return n=IS(n),t&&t[Od]?t.P(e,n,kd(r)?!!r.capture:!!r,i):y$(t,e,n,!0,r,i)}function _$(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_$(t,e[s],n,r,i);else r=kd(r)?!!r.capture:!!r,n=IS(n),t&&t[Od]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=mS(s=t.g[e],n,r,i))&&(Em(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=wS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mS(e,n,r,i)),(n=-1<t?e[t]:null)&&_S(n))}function _S(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Od])gS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(w$(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wS(e))?(gS(n,t),0==n.h&&(n.src=null,e[yS]=null)):Em(t)}}}function w$(t){return t in vS?vS[t]:vS[t]="on"+t}function Cpe(t,e){if(t.fa)t=!0;else{e=new Pd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&_S(t),t=n.call(r,e)}return t}function wS(t){return(t=t[yS])instanceof Im?t:null}var ES="__closure_events_fn_"+(1e9*Math.random()>>>0);function IS(t){return"function"==typeof t?t:(t[ES]||(t[ES]=function(e){return t.handleEvent(e)}),t[ES])}function Lt(){Cs.call(this),this.i=new Im(this),this.S=this,this.J=null}function Qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new pn(e,t);else if(e instanceof pn)e.target=e.target||t;else{var i=e;g$(e=new pn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bm(o,r,!0,e)&&i}if(i=bm(o=e.g=t,r,!0,e)&&i,i=bm(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=bm(o=e.g=n[s],r,!1,e)&&i}function bm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&gS(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ft(Lt,Cs),Lt.prototype[Od]=!0,Lt.prototype.removeEventListener=function(t,e,n,r){_$(this,t,e,n,r)},Lt.prototype.N=function(){if(Lt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Em(n[r]);delete t.g[e],t.h--}}this.J=null},Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var bS=oe.JSON.stringify;function Ape(){var t=DS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var E$=new class Spe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xpe,t=>t.reset());class xpe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Npe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kpe(t){oe.setTimeout(()=>{throw t},0)}let Fd,Ld=!1,DS=new class Mpe{constructor(){this.h=this.g=null}add(e,n){const r=E$.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},I$=()=>{const t=oe.Promise.resolve(void 0);Fd=()=>{t.then(Rpe)}};var Rpe=()=>{for(var t;t=Ape();){try{t.h.call(t.g)}catch(n){kpe(n)}var e=E$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ld=!1};function Dm(t,e){Lt.call(this),this.h=t||1,this.g=e||oe,this.j=fn(this.qb,this),this.l=Date.now()}function TS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function CS(t,e,n){if("function"==typeof t)n&&(t=fn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=fn(t.handleEvent,t)}return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function b$(t){t.g=CS(()=>{t.g=null,t.i&&(t.i=!1,b$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ft(Dm,Lt),(O=Dm.prototype).ga=!1,O.T=null,O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(TS(this),this.start()))}},O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.N=function(){Dm.$.N.call(this),TS(this),delete this.g};class Ppe extends Cs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b$(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vd(t){Cs.call(this),this.h=t,this.g={}}Ft(Vd,Cs);var D$=[];function T$(t,e,n,r){Array.isArray(n)||(n&&(D$[0]=n.toString()),n=D$);for(var i=0;i<n.length;i++){var s=m$(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function C$(t){pS(t.g,function(e,n){this.g.hasOwnProperty(n)&&_S(e)},t),t.g={}}function Tm(){this.g=!0}function $u(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vpe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return bS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Vd.prototype.N=function(){Vd.$.N.call(this),C$(this)},Vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tm.prototype.Ea=function(){this.g=!1},Tm.prototype.info=function(){};var ko={},S$=null;function Cm(){return S$=S$||new Lt}function A$(t){pn.call(this,ko.Ta,t)}function Ud(t){const e=Cm();Qt(e,new A$(e))}function M$(t,e){pn.call(this,ko.STAT_EVENT,t),this.stat=e}function Mn(t){const e=Cm();Qt(e,new M$(e,t))}function x$(t,e){pn.call(this,ko.Ua,t),this.size=e}function Bd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}ko.Ta="serverreachability",Ft(A$,pn),ko.STAT_EVENT="statevent",Ft(M$,pn),ko.Ua="timingevent",Ft(x$,pn);var Sm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},N$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function SS(){}function R$(){}SS.prototype.h=null;var xS,jd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AS(){pn.call(this,"d")}function MS(){pn.call(this,"c")}function Am(){}function $d(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vd(this),this.P=Upe,this.V=new Dm(t=uS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new P$}function P$(){this.i=null,this.g="",this.h=!1}Ft(AS,pn),Ft(MS,pn),Ft(Am,SS),Am.prototype.g=function(){return new XMLHttpRequest},Am.prototype.i=function(){return{}},xS=new Am;var Upe=45e3,NS={},Mm={};function kS(t,e,n){t.L=1,t.v=Rm(Qi(e)),t.s=n,t.S=!0,O$(t,null)}function O$(t,e){t.G=Date.now(),Hd(t),t.A=Qi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),G$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new P$,t.g=gH(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ppe(fn(t.Pa,t,t.g),t.O)),T$(t.U,t.g,"readystatechange",t.nb),e=t.I?f$(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ud(),function Ope(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function F$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function L$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Bpe(t,n),i==Mm){4==e&&(t.o=4,Mn(14),r=!1),$u(t.j,t.m,null,"[Incomplete Response]");break}if(i==NS){t.o=4,Mn(15),$u(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}$u(t.j,t.m,i,null),RS(t,i)}F$(t)&&i!=Mm&&i!=NS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),BS(e),e.M=!0,Mn(11))):($u(t.j,t.m,n,"[Invalid Chunked Response]"),Ro(t),zd(t))}function Bpe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Mm:(n=Number(e.substring(n,r)),isNaN(n)?NS:(r+=1)+n>e.length?Mm:(e=e.slice(r,r+n),t.C=r+n,e))}function Hd(t){t.Y=Date.now()+t.P,V$(t,t.P)}function V$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Bd(fn(t.lb,t),e)}function xm(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}function zd(t){0==t.l.H||t.J||dH(t.l,t)}function Ro(t){xm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TS(t.V),C$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function RS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||PS(n.i,t)))if(!t.K&&PS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Um(n),Lm(n)}US(n),Mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bd(fn(n.ib,n),6e3));if(1>=K$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Oo(n,11)}else if((t.K||n.g==t)&&Um(n),!Rd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(OS(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,He(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=pH(r,r.J?r.pa:null,r.Y),o.K){Q$(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(xm(a),Hd(a)),r.g=o}else cH(r);0<n.j.length&&Vm(n)}else"stop"!=c[0]&&"close"!=c[0]||Oo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Oo(n,7):VS(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ud()}catch{}}function U$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function $pe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function jpe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(vm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(O=$d.prototype).setTimeout=function(t){this.P=t},O.nb=function(t){t=t.target;const e=this.M;e&&3==hi(t)?e.l():this.Pa(t)},O.Pa=function(t){try{if(t==this.g)e:{const l=hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||uS||this.g&&(this.h.h||this.g.ja()||rH(this.g)))){this.J||4!=l||7==e||Ud(),xm(this);var n=this.g.da();this.ca=n;t:if(F$(this)){var r=rH(this.g);t="";var i=r.length,s=4==hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),zd(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Fpe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Mn(12),Ro(this),zd(this);break e}$u(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RS(this,n)}this.S?(L$(this,l,o),uS&&this.i&&3==l&&(T$(this.U,this.V,"tick",this.mb),this.V.start())):($u(this.j,this.m,o,null),RS(this,o)),4==l&&Ro(this),this.i&&!this.J&&(4==l?dH(this.l,this):(this.i=!1,Hd(this)))}else(function oge(t){const e={};t=(t.g&&2<=hi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Rd(t[r]))continue;var n=Npe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Dpe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Mn(12)):(this.o=0,Mn(13)),Ro(this),zd(this)}}}catch{}},O.mb=function(){if(this.g){var t=hi(this.g),e=this.g.ja();this.C<e.length&&(xm(this),L$(this,t,e),this.i&&4!=t&&Hd(this))}},O.cancel=function(){this.J=!0,Ro(this)},O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Lpe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ud(),Mn(17)),Ro(this),this.o=2,zd(this)):V$(this,this.Y-t)};var B$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Po){this.h=t.h,Nm(this,t.j),this.s=t.s,this.g=t.g,km(this,t.m),this.l=t.l;var e=t.i,n=new Wd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),j$(this,n),this.o=t.o}else t&&(e=String(t).match(B$))?(this.h=!1,Nm(this,e[1]||"",!0),this.s=Gd(e[2]||""),this.g=Gd(e[3]||"",!0),km(this,e[4]),this.l=Gd(e[5]||"",!0),j$(this,e[6]||"",!0),this.o=Gd(e[7]||"")):(this.h=!1,this.i=new Wd(null,this.h))}function Qi(t){return new Po(t)}function Nm(t,e,n){t.j=n?Gd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function km(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function j$(t,e,n){e instanceof Wd?(t.i=e,function Qpe(t,e){e&&!t.j&&(Ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(H$(this,r),G$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=qd(e,Wpe)),t.i=new Wd(e,t.h))}function He(t,e,n){t.i.set(e,n)}function Rm(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zpe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zpe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Po.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qd(e,$$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(qd(e,$$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(qd(n,"/"==n.charAt(0)?qpe:Gpe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qd(n,Kpe)),t.join("")};var $$=/[#\/\?@]/g,Gpe=/[#\?:]/g,qpe=/[#\?]/g,Wpe=/[#\?@]/g,Kpe=/#/g;function Wd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ss(t){t.g||(t.g=new Map,t.h=0,t.i&&function Hpe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function H$(t,e){Ss(t),e=Hu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function z$(t,e){return Ss(t),e=Hu(t,e),t.g.has(e)}function G$(t,e,n){H$(t,e),0<n.length&&(t.i=null,t.g.set(Hu(t,e),oS(n)),t.h+=n.length)}function Hu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(O=Wd.prototype).add=function(t,e){Ss(this),this.i=null,t=Hu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},O.forEach=function(t,e){Ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},O.ta=function(){Ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},O.Z=function(t){Ss(this);let e=[];if("string"==typeof t)z$(this,t)&&(e=e.concat(this.g.get(Hu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},O.set=function(t,e){return Ss(this),this.i=null,z$(this,t=Hu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},O.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Ype=class{constructor(t,e){this.g=t,this.map=e}};function q$(t){this.l=t||Xpe,t=oe.PerformanceNavigationTiming?0<(t=oe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xpe=10;function W$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function K$(t){return t.h?1:t.g?t.g.size:0}function PS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function OS(t,e){t.g?t.g.add(e):t.h=e}function Q$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Y$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return oS(t.i)}q$.prototype.cancel=function(){if(this.i=Y$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Jpe=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function Zpe(){this.g=new Jpe}function ege(t,e,n){const r=n||"";try{U$(t,function(i,s){let o=i;kd(i)&&(o=bS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kd(t){this.l=t.fc||null,this.j=t.ob||!1}function Om(t,e){Lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=FS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(Kd,SS),Kd.prototype.g=function(){return new Om(this.l,this.j)},Kd.prototype.i=function(t){return function(){return t}}({}),Ft(Om,Lt);var FS=0;function X$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Qd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yd(t)}function Yd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=Om.prototype).open=function(t,e){if(this.readyState!=FS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yd(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qd(this)),this.readyState=FS},O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;X$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qd(this):Yd(this),3==this.readyState&&X$(this)}},O.Za=function(t){this.g&&(this.response=this.responseText=t,Qd(this))},O.Ya=function(t){this.g&&(this.response=t,Qd(this))},O.ka=function(){this.g&&Qd(this)},O.setRequestHeader=function(t,e){this.v.append(t,e)},O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Om.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var nge=oe.JSON.parse;function nt(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J$,this.L=this.M=!1}Ft(nt,Lt);var J$="",rge=/^https?$/i,ige=["POST","PUT"];function Z$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eH(t),Fm(t)}function eH(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}function tH(t){if(t.h&&typeof iS<"u"&&(!t.C[1]||4!=hi(t)||2!=t.da()))if(t.v&&4==hi(t))CS(t.La,0,t);else if(Qt(t,"readystatechange"),4==hi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(B$)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!rge.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var s=2<hi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eH(t)}}finally{Fm(t)}}}function Fm(t,e){if(t.g){nH(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nH(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}function hi(t){return t.g?t.g.readyState:0}function rH(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case J$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iH(t){let e="";return pS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function LS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iH(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):He(t,e,n))}function Xd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sH(t){this.Ga=0,this.j=[],this.l=new Tm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xd("baseRetryDelayMs",5e3,t),this.hb=Xd("retryDelaySeedMs",1e4,t),this.eb=Xd("forwardChannelMaxRetries",2,t),this.xa=Xd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new q$(t&&t.concurrentRequestLimit),this.Ja=new Zpe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VS(t){if(oH(t),3==t.H){var e=t.W++,n=Qi(t.I);if(He(n,"SID",t.K),He(n,"RID",e),He(n,"TYPE","terminate"),Jd(t,n),(e=new $d(t,t.l,e)).L=2,e.v=Rm(Qi(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&oe.Image&&((new Image).src=e.v,n=!0),n||(e.g=gH(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hd(e)}fH(t)}function Lm(t){t.g&&(BS(t),t.g.cancel(),t.g=null)}function oH(t){Lm(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Um(t),t.i.cancel(),t.m&&("number"==typeof t.m&&oe.clearTimeout(t.m),t.m=null)}function Vm(t){if(!W$(t.i)&&!t.m){t.m=!0;var e=t.Na;Fd||I$(),Ld||(Fd(),Ld=!0),DS.add(e,t),t.C=0}}function aH(t,e){var n;n=e?e.m:t.W++;const r=Qi(t.I);He(r,"SID",t.K),He(r,"RID",n),He(r,"AID",t.V),Jd(t,r),t.o&&t.s&&LS(r,t.o,t.s),n=new $d(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uH(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),OS(t.i,n),kS(n,r,e)}function Jd(t,e){t.na&&pS(t.na,function(n,r){He(e,r,n)}),t.h&&U$({},function(n,r){He(e,r,n)})}function uH(t,e,n){n=Math.min(t.j.length,n);var r=t.h?fn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{ege(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cH(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fd||I$(),Ld||(Fd(),Ld=!0),DS.add(e,t),t.A=0}}function US(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Bd(fn(t.Ma,t),hH(t,t.A)),t.A++,0))}function BS(t){null!=t.B&&(oe.clearTimeout(t.B),t.B=null)}function lH(t){t.g=new $d(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Qi(t.wa);He(e,"RID","rpc"),He(e,"SID",t.K),He(e,"AID",t.V),He(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&He(e,"TO",t.qa),He(e,"TYPE","xmlhttp"),Jd(t,e),t.o&&t.s&&LS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Rm(Qi(e)),n.s=null,n.S=!0,O$(n,t)}function Um(t){null!=t.v&&(oe.clearTimeout(t.v),t.v=null)}function dH(t,e){var n=null;if(t.g==e){Um(t),BS(t),t.g=null;var r=2}else{if(!PS(t.i,e))return;n=e.F,Q$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Qt(r=Cm(),new x$(r,n)),Vm(t)}else cH(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function age(t,e){return!(K$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Bd(fn(t.Na,t,e),hH(t,t.C)),t.C++,0)))}(t,e)||2==r&&US(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Oo(t,5);break;case 4:Oo(t,10);break;case 3:Oo(t,6);break;default:Oo(t,2)}}function hH(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Oo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=fn(t.pb,t);n||(n=new Po("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Nm(n,"https"),Rm(n)),function tge(t,e){const n=new Tm;if(oe.Image){const r=new Image;r.onload=_m(Pm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_m(Pm,n,r,"TestLoadImage: error",!1,e),r.onabort=_m(Pm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_m(Pm,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Mn(2);t.H=0,t.h&&t.h.za(e),fH(t),oH(t)}function fH(t){if(t.H=0,t.ma=[],t.h){const e=Y$(t.i);(0!=e.length||0!=t.j.length)&&(u$(t.ma,e),u$(t.ma,t.j),t.i.i.length=0,oS(t.j),t.j.length=0),t.h.ya()}}function pH(t,e,n){var r=n instanceof Po?Qi(n):new Po(n);if(""!=r.g)e&&(r.g=e+"."+r.g),km(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Po(null);r&&Nm(s,r),e&&(s.g=e),i&&km(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&He(r,n,e),He(r,"VER",t.ra),Jd(t,r),r}function gH(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(n&&t.Ha&&!t.va?new Kd({ob:!0}):t.va)).Oa(t.J),e}function mH(){}function Bm(){if(ju&&!(10<=Number(wpe)))throw Error("Environmental error: no available transport.")}function nr(t,e){Lt.call(this),this.g=new sH(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new zu(this)}function yH(t){AS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vH(){MS.call(this),this.status=1}function zu(t){this.g=t}function Rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jS(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(O=nt.prototype).Oa=function(t){this.M=t},O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xS.g(),this.C=function k$(t){return t.h||(t.h=t.i())}(this.u?this.u:xS),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Z$(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=oe.FormData&&t instanceof oe.FormData,!(0<=a$(ige,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nH(this),0<this.B&&((this.L=function sge(t){return ju&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=CS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Z$(this,s)}},O.ua=function(){typeof iS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),Fm(this))},O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fm(this,!0)),nt.$.N.call(this)},O.La=function(){this.s||(this.G||this.v||this.l?tH(this):this.kb())},O.kb=function(){tH(this)},O.isActive=function(){return!!this.g},O.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nge(e)}},O.Ia=function(){return this.m},O.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=sH.prototype).ra=8,O.H=1,O.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new $d(this,this.l,t);let s=this.s;if(this.U&&(s?(s=f$(s),g$(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uH(this,i,e),He(n=Qi(this.I),"RID",t),He(n,"CVER",22),this.F&&He(n,"X-HTTP-Session-Id",this.F),Jd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(iH(s)))+"&"+e:this.o&&LS(n,this.o,s)),OS(this.i,i),this.bb&&He(n,"TYPE","init"),this.P?(He(n,"$req",e),He(n,"SID","null"),i.aa=!0,kS(i,n,null)):kS(i,n,e),this.H=2}}else 3==this.H&&(t?aH(this,t):0==this.j.length||W$(this.i)||aH(this))},O.Ma=function(){if(this.u=null,lH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bd(fn(this.jb,this),t)}},O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mn(10),Lm(this),lH(this))},O.ib=function(){null!=this.v&&(this.v=null,Lm(this),US(this),Mn(19))},O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Mn(2)):(this.l.info("Failed to ping google.com"),Mn(1))},O.isActive=function(){return!!this.h&&this.h.isActive(this)},(O=mH.prototype).Ba=function(){},O.Aa=function(){},O.za=function(){},O.ya=function(){},O.isActive=function(){return!0},O.Va=function(){},Bm.prototype.g=function(t,e){return new nr(t,e)},Ft(nr,Lt),nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pH(t,null,t.Y),Vm(t)},nr.prototype.close=function(){VS(this.g)},nr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=bS(t),t=n);e.j.push(new Ype(e.fb++,t)),3==e.H&&Vm(e)},nr.prototype.N=function(){this.g.h=null,delete this.j,VS(this.g),delete this.g,nr.$.N.call(this)},Ft(yH,AS),Ft(vH,MS),Ft(zu,mH),zu.prototype.Ba=function(){Qt(this.g,"a")},zu.prototype.Aa=function(t){Qt(this.g,new yH(t))},zu.prototype.za=function(t){Qt(this.g,new vH)},zu.prototype.ya=function(){Qt(this.g,"b")},Ft(Rr,function uge(){this.blockSize=-1}),Rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)jS(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jS(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jS(this,r),i=0;break}}this.h=i,this.i+=e},Rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var cge={};function $S(t){return-128<=t&&128>t?function ype(t,e){var n=cge;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ne([0|e],0>e?-1:0)}):new Ne([0|t],0>t?-1:0)}function fi(t){if(isNaN(t)||!isFinite(t))return Gu;if(0>t)return Yt(fi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=HS;return new Ne(e,0)}var HS=4294967296,Gu=$S(0),zS=$S(1),wH=$S(16777216);function Yi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pr(t){return-1==t.h}function Yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(zS)}function jm(t,e){return t.add(Yt(e))}function $m(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zd(t,e){this.g=t,this.h=e}function Hm(t,e){if(Yi(e))throw Error("division by zero");if(Yi(t))return new Zd(Gu,Gu);if(pr(t))return e=Hm(Yt(t),e),new Zd(Yt(e.g),Yt(e.h));if(pr(e))return e=Hm(t,Yt(e)),new Zd(Yt(e.g),e.h);if(30<t.g.length){if(pr(t)||pr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zS,r=e;0>=r.X(t);)n=EH(n),r=EH(r);var i=qu(n,1),s=qu(r,1);for(r=qu(r,2),n=qu(n,2);!Yi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=qu(r,1),n=qu(n,1)}return e=jm(t,i.R(e)),new Zd(i,e)}for(i=Gu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=fi(n)).R(e);pr(o)||0<o.X(t);)o=(s=fi(n-=r)).R(e);Yi(s)&&(s=zS),i=i.add(s),t=jm(t,o)}return new Zd(i,t)}function EH(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function qu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ne(i,t.h)}(O=Ne.prototype).ea=function(){if(pr(this))return-Yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:HS+r)*e,e*=HS}return t},O.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Yi(this))return"0";if(pr(this))return"-"+Yt(this).toString(t);for(var e=fi(Math.pow(t,6)),n=this,r="";;){var i=Hm(n,e).g,s=((0<(n=jm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Yi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},O.X=function(t){return pr(t=jm(this,t))?-1:Yi(t)?0:1},O.abs=function(){return pr(this)?Yt(this):this},O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ne(n,-2147483648&n[n.length-1]?-1:0)},O.R=function(t){if(Yi(this)||Yi(t))return Gu;if(pr(this))return pr(t)?Yt(this).R(Yt(t)):Yt(Yt(this).R(t));if(pr(t))return Yt(this.R(Yt(t)));if(0>this.X(wH)&&0>t.X(wH))return fi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,$m(n,2*r+2*i),n[2*r+2*i+1]+=s*u,$m(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,$m(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,$m(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)},O.gb=function(t){return Hm(this,t).h},O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)},O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)},O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)},Bm.prototype.createWebChannel=Bm.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,Sm.NO_ERROR=0,Sm.TIMEOUT=8,Sm.HTTP_ERROR=6,N$.COMPLETE="complete",R$.EventType=jd,jd.OPEN="a",jd.CLOSE="b",jd.ERROR="c",jd.MESSAGE="d",Lt.prototype.listen=Lt.prototype.O,nt.prototype.listenOnce=nt.prototype.P,nt.prototype.getLastError=nt.prototype.Sa,nt.prototype.getLastErrorCode=nt.prototype.Ia,nt.prototype.getStatus=nt.prototype.da,nt.prototype.getResponseJson=nt.prototype.Wa,nt.prototype.getResponseText=nt.prototype.ja,nt.prototype.send=nt.prototype.ha,nt.prototype.setWithCredentials=nt.prototype.Oa,Rr.prototype.digest=Rr.prototype.l,Rr.prototype.reset=Rr.prototype.reset,Rr.prototype.update=Rr.prototype.j,Ne.prototype.add=Ne.prototype.add,Ne.prototype.multiply=Ne.prototype.R,Ne.prototype.modulo=Ne.prototype.gb,Ne.prototype.compare=Ne.prototype.X,Ne.prototype.toNumber=Ne.prototype.ea,Ne.prototype.toString=Ne.prototype.toString,Ne.prototype.getBits=Ne.prototype.D,Ne.fromNumber=fi,Ne.fromString=function _H(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Yt(_H(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fi(Math.pow(e,8)),r=Gu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fi(Math.pow(e,s)),r=r.R(s).add(fi(o))):r=(r=r.R(n)).add(fi(o))}return r};var lge=kr.createWebChannelTransport=function(){return new Bm},dge=kr.getStatEventTarget=function(){return Cm()},GS=kr.ErrorCode=Sm,hge=kr.EventType=N$,fge=kr.Event=ko,IH=kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pge=kr.FetchXmlHttpFactory=Kd,zm=kr.WebChannel=R$,gge=kr.XhrIo=nt,mge=kr.Md5=Rr,Wu=kr.Integer=Ne;const bH="@firebase/firestore";class Vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let Ku="9.22.2";const As=new xu("@firebase/firestore");function qS(){return As.logLevel}function C(t,...e){if(As.logLevel<=ye.DEBUG){const n=e.map(WS);As.debug(`Firestore (${Ku}): ${t}`,...n)}}function dt(t,...e){if(As.logLevel<=ye.ERROR){const n=e.map(WS);As.error(`Firestore (${Ku}): ${t}`,...n)}}function Pr(t,...e){if(As.logLevel<=ye.WARN){const n=e.map(WS);As.warn(`Firestore (${Ku}): ${t}`,...n)}}function WS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function H(t,e){t||L()}function P(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class DH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class vge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _ge{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new DH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new Vt(e)}}class wge{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ege{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new wge(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ige{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(H("string"==typeof n.token),this.T=n.token,new TH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CH{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=bge(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Qu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Xe(0,0))}static max(){return new z(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eh{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===eh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends eh{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const Dge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends eh{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return Dge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(ve.fromString(e))}static fromName(e){return new R(ve.fromString(e).popFirst(5))}static empty(){return new R(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new ve(e.slice()))}}function MH(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(z.min(),R.empty(),-1)}static max(){return new rr(z.max(),R.empty(),-1)}}function QS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:re(t.largestBatchId,e.largestBatchId))}const xH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ms(t){return YS.apply(this,arguments)}function YS(){return YS=m(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==xH)throw t;C("LocalStore","Unexpectedly lost primary lease")}),YS.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function xs(t){return"IndexedDbTransactionError"===t.name}let ir=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function rh(t){return null==t}function ih(t){return 0===t&&1/t==-1/0}function BH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class je{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qm(this.root,e,this.comparator,!0)}}class Qm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=s??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1,Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $H(this.data.getIterator())}getIteratorFrom(e){return new $H(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class $H{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new $n([])}unionWith(e){let n=new ze(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class HH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HH("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Qge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(H(!!t),"string"==typeof t){let e=0;const n=Qge.exec(t);if(H(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xi(t){return"string"==typeof t?xt.fromBase64String(t):xt.fromUint8Array(t)}function Ym(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xm(t){const e=t.mapValue.fields.__previous_value__;return Ym(e)?Xm(e):e}function sh(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}class Yge{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Vo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const Rs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ym(t)?4:WH(t)?9007199254740991:10:L()}function gi(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ks(r.timestampValue),o=ks(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Xi(t.bytesValue).isEqual(Xi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rt(r.doubleValue),o=rt(i.doubleValue);return s===o?ih(s)===ih(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Qu(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(BH(s)!==BH(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!gi(s[a],o[a])))return!1;return!0}(t,e);default:return L()}var i}function oh(t,e){return void 0!==(t.values||[]).find(n=>gi(n,e))}function Os(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rt(i.integerValue||i.doubleValue),a=rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return zH(t.timestampValue,e.timestampValue);case 4:return zH(sh(t),sh(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Xi(i),a=Xi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=re(o[u],a[u]);if(0!==c)return c}return re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(rt(i.latitude),rt(s.latitude));return 0!==o?o:re(rt(i.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Os(o[u],a[u]);if(c)return c}return re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Rs.mapValue&&s===Rs.mapValue)return 0;if(i===Rs.mapValue)return 1;if(s===Rs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=re(a[l],c[l]);if(0!==d)return d;const h=Os(o[a[l]],u[c[l]]);if(0!==h)return h}return re(a.length,c.length)}(t.mapValue,e.mapValue);default:throw L()}}function zH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return re(t,e);const n=ks(t),r=ks(e),i=re(n.seconds,r.seconds);return 0!==i?i:re(n.nanos,r.nanos)}function Xu(t){return ZS(t)}function ZS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ks(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xi(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ZS(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ZS(r.fields[a])}`;return s+"}"}(t.mapValue):L();var e}function Uo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eA(t){return!!t&&"integerValue"in t}function ah(t){return!!t&&"arrayValue"in t}function GH(t){return!!t&&"nullValue"in t}function qH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ey(t){return!!t&&"mapValue"in t}function uh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ey(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uh(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ey(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ey(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(uh(this.value))}}class Ge{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,z.min(),z.min(),z.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ge(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new Ge(e,2,n,z.min(),z.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,z.min(),z.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fs{constructor(e,n){this.position=e,this.inclusive=n}}function XH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):Os(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function JH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}class Ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ZH{}class pe extends ZH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new eme(e,n,r):"array-contains"===n?new rme(e,r):"in"===n?new sz(e,r):"not-in"===n?new ime(e,r):"array-contains-any"===n?new sme(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new tme(e,r):new nme(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Os(n,this.value)):null!==n&&Ps(this.value)===Ps(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ke extends ZH{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ke(e,n)}matches(e){return Zu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Zu(t){return"and"===t.op}function nA(t){return function ez(t){for(const e of t.filters)if(e instanceof ke)return!1;return!0}(t)&&Zu(t)}function rA(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+Xu(t.value);if(nA(t))return t.filters.map(e=>rA(e)).join(",");{const e=t.filters.map(n=>rA(n)).join(",");return`${t.op}(${e})`}}function tz(t,e){return t instanceof pe?(n=t,(r=e)instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&gi(n.value,r.value)):t instanceof ke?function(n,r){return r instanceof ke&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&tz(s,r.filters[o]),!0)}(t,e):void L();var n,r}function rz(t){return t instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${Xu(e.value)}`}(t):t instanceof ke?function(e){return e.op.toString()+" {"+e.getFilters().map(rz).join(" ,")+"}"}(t):"Filter"}class eme extends pe{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class tme extends pe{constructor(e,n){super(e,"in",n),this.keys=iz(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nme extends pe{constructor(e,n){super(e,"not-in",n),this.keys=iz(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iz(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class rme extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ah(n)&&oh(n.arrayValue,this.value)}}class sz extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&oh(this.value.arrayValue,n)}}class ime extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!oh(this.value.arrayValue,n)}}class sme extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ah(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oh(this.value.arrayValue,r))}}class ome{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function iA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ome(t,e,n,r,i,s,o)}function Bo(t){const e=P(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xu(r)).join(",")),e.dt=n}return e.dt}function ch(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zge(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tz(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JH(t.startAt,e.startAt)&&JH(t.endAt,e.endAt)}function ty(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ji{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function ec(t){return new Ji(t)}function cz(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function sA(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ry(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function oA(t){return null!==t.collectionGroup}function jo(t){const e=P(t);if(null===e.wt){e.wt=[];const n=ry(e),r=sA(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ju(n)),e.wt.push(new Ju(ht.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ju(ht.keyField(),s))}}}return e.wt}function xn(t){const e=P(t);if(!e._t)if("F"===e.limitType)e._t=iA(e.path,e.collectionGroup,jo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of jo(e))n.push(new Ju(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Fs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fs(e.startAt.position,e.startAt.inclusive):null;e._t=iA(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function aA(t,e){e.getFirstInequalityField(),ry(t);const n=t.filters.concat([e]);return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iy(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return ch(xn(t),xn(e))&&t.limitType===e.limitType}function lz(t){return`${Bo(xn(t))}|lt:${t.limitType}`}function uA(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>rz(r)).join(", ")}]`),rh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xu(r)).join(",")),`Target(${n})`}(xn(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of jo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=XH(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,jo(n),r)||n.endAt&&!function(i,s,o){const a=XH(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,jo(n),r)));var n,r}function hz(t){return(e,n)=>{let r=!1;for(const i of jo(t)){const s=ame(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ame(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Os(a,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class Zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jH(this.inner)}size(){return this.innerSize}}const ume=new je(R.comparator);function Hn(){return ume}const fz=new je(R.comparator);function hh(...t){let e=fz;for(const n of t)e=e.insert(n.key,n);return e}function pz(t){let e=fz;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return fh()}function gz(){return fh()}function fh(){return new Zi(t=>t.toString(),(t,e)=>t.isEqual(e))}new je(R.comparator);const lme=new ze(R.comparator);function ue(...t){let e=lme;for(const n of t)e=e.add(n);return e}const dme=new ze(re);function mz(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function yz(t){return{integerValue:""+t}}function vz(t,e){return function RH(t){return"number"==typeof t&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?yz(e):mz(t,e)}class sy{constructor(){this._=void 0}}function hme(t,e,n){return t instanceof tc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ym(i)&&(i=Xm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof $o?wz(t,e):t instanceof Ho?Ez(t,e):function(r,i){const s=function _z(t,e){return t instanceof nc?eA(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=Iz(s)+Iz(r.gt);return eA(s)&&eA(r.gt)?yz(o):mz(r.serializer,o)}(t,e)}function fme(t,e,n){return t instanceof $o?wz(t,e):t instanceof Ho?Ez(t,e):n}class tc extends sy{}class $o extends sy{constructor(e){super(),this.elements=e}}function wz(t,e){const n=bz(e);for(const r of t.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends sy{constructor(e){super(),this.elements=e}}function Ez(t,e){let n=bz(e);for(const r of t.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class nc extends sy{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Iz(t){return rt(t.integerValue||t.doubleValue)}function bz(t){return ah(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ay{}function Dz(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ic(t.key,Ke.none()):new rc(t.key,t.data,Ke.none());{const n=t.data,r=Jt.empty();let i=new ze(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new es(t.key,r,new $n(i.toArray()),Ke.none())}}function mme(t,e,n){t instanceof rc?function(r,i,s){const o=r.value.clone(),a=Sz(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof es?function(r,i,s){if(!oy(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Sz(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Cz(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function gh(t,e,n,r){return t instanceof rc?function(i,s,o,a){if(!oy(i.precondition,s))return o;const u=i.value.clone(),c=Az(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(i,s,o,a){if(!oy(i.precondition,s))return o;const u=Az(i.fieldTransforms,a,s),c=s.data;return c.setAll(Cz(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,oy(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Tz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Qu(n,r,(i,s)=>function pme(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof $o&&r instanceof $o||n instanceof Ho&&r instanceof Ho?Qu(n.elements,r.elements,gi):n instanceof nc&&r instanceof nc?gi(n.gt,r.gt):n instanceof tc&&r instanceof tc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class rc extends ay{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends ay{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Cz(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sz(t,e,n){const r=new Map;H(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fme(o,a,n[i]))}return r}function Az(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hme(s,o,e))}return r}class ic extends ay{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mme(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gz();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Dz(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(n,r)=>Tz(n,r))&&Qu(this.baseMutations,e.baseMutations,(n,r)=>Tz(n,r))}}class fA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _me{constructor(e,n){this.count=e,this.unchangedNames=n}}var wt,_e;function xz(t){if(void 0===t)return dt("GRPC error has no .code"),E.UNKNOWN;switch(t){case wt.OK:return E.OK;case wt.CANCELLED:return E.CANCELLED;case wt.UNKNOWN:return E.UNKNOWN;case wt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case wt.INTERNAL:return E.INTERNAL;case wt.UNAVAILABLE:return E.UNAVAILABLE;case wt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case wt.NOT_FOUND:return E.NOT_FOUND;case wt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case wt.ABORTED:return E.ABORTED;case wt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case wt.DATA_LOSS:return E.DATA_LOSS;default:return L()}}(_e=wt||(wt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class pA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return uy}static getOrCreateInstance(){return null===uy&&(uy=new pA),uy}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let uy=null;const wme=new Wu([4294967295,4294967295],0);function kz(t){const e=function Nz(){return new TextEncoder}().encode(t),n=new mge;return n.update(e),new Uint8Array(n.digest())}function Rz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wu([n,r],0),new Wu([i,s],0)]}class gA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mh(`Invalid padding: ${n}`);if(r<0)throw new mh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new mh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new mh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Wu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Wu.fromNumber(r)));return 1===i.compare(wme)&&(i=new Wu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=kz(e),[r,i]=Rz(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new gA(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=kz(e),[r,i]=Rz(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yh(z.min(),i,new je(re),Hn(),ue())}}class vh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vh(r,n,ue(),ue(),ue())}}class cy{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Pz{constructor(e,n){this.targetId=e,this.Vt=n}}class Oz{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fz{constructor(){this.St=0,this.Dt=Vz(),this.Ct=xt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),n=ue(),r=ue();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new vh(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Vz()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Eme{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Hn(),this.zt=Lz(),this.Wt=new je(re)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(ty(o))if(0===i){const a=new R(o.path);this.Yt(r,a,Ge.newNoDocument(a,z.min()))}else H(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=pA.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},D=d.unchangedNames;return D&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=D?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=D?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(y=D?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Xi(s).toUint8Array()}catch(l){if(l instanceof HH)return Pr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new gA(u,o,a)}catch(l){return Pr(l instanceof mh?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ty(a.target)){const u=new R(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ge.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ue();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new yh(e,n,this.Wt,this.jt,r);return this.jt=Hn(),this.zt=Lz(),this.Wt=new je(re),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Fz,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ze(re),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fz),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Lz(){return new je(R.comparator)}function Vz(){return new je(R.comparator)}const Ime={asc:"ASCENDING",desc:"DESCENDING"},bme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dme={and:"AND",or:"OR"};class Tme{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mA(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ft(t){return H(!!t),z.fromTimestamp(function(e){const n=ks(e);return new Xe(n.seconds,n.nanos)}(t))}function yA(t,e){return(n=t,new ve(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Bz(t){const e=ve.fromString(t);return H(Qz(e)),e}function yi(t,e){const n=Bz(e);if(n.get(1)!==t.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R($z(n))}function vA(t,e){return yA(t.databaseId,e)}function wh(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $z(t){return H(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Gz(t,e){return{documents:[vA(t,e.path)]}}function wA(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vA(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vA(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return Kz(ke.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ls((l=c).field),direction:Nme(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=mA(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function qz(t){let e=function jz(t){const e=Bz(t);return 4===e.length?ve.emptyPath():$z(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){H(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=Wz(l);return d instanceof ke&&nA(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ju(oc((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,rh(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Fs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Fs(l.values||[],!l.before)}(n.endAt)),function uz(t,e,n,r,i,s,o,a){return new Ji(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Wz(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=oc(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=oc(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oc(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=oc(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?function(e){return pe.create(oc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ke.create(e.compositeFilter.filters.map(n=>Wz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(t):L()}function Nme(t){return Ime[t]}function kme(t){return bme[t]}function Rme(t){return Dme[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function oc(t){return ht.fromServerFormat(t.fieldPath)}function Kz(t){return t instanceof pe?function(e){if("=="===e.op){if(qH(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NAN"}};if(GH(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qH(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NOT_NAN"}};if(GH(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(e.field),op:kme(e.op),value:e.value}}}(t):t instanceof ke?function(e){const n=e.getFilters().map(r=>Kz(r));return 1===n.length?n[0]:{compositeFilter:{op:Rme(e.op),filters:n}}}(t):L()}function Qz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ts{constructor(e,n,r,i,s=z.min(),o=z.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Yz{constructor(e){this.fe=e}}function EA(t){const e=qz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?iy(e,e.limit,"L"):e}class Wo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ih(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Xi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?WH(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):L()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),R.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Wo.Ve=new Wo;class Hme{constructor(){this.rn=new SA}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(rr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class SA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(ve.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Qo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qo(0)}static Mn(){return new Qo(-1)}}class v4{constructor(){this.changes=new Zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xme{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class b4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&gh(r.mutation,i,$n.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hh();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hn();const o=fh(),a=fh();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof es)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),gh(l.mutation,c,l.mutation.getFieldMask(),Xe.now())):o.set(c.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Xme(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fh();let i=new je((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||$n.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=gz();l.forEach(h=>{if(!s.has(h)){const f=Dz(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):oA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(mi());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:pz(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=hh();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ji(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ge.newInvalidDocument(c)))});let o=hh();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&gh(c.mutation,u,$n.empty(),Xe.now()),dh(n,u)&&(o=o.insert(a,u))}),o})}}class Jme{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ft(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:EA(r.bundledQuery),readTime:ft(r.readTime)}),w.resolve();var r}}class Zme{constructor(){this.overlays=new je(R.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=mi(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=mi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=mi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fA(n,r));let s=this.ls.get(n);void 0===s&&(s=ue(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class AA{constructor(){this.fs=new ze(Bt.ds),this.ws=new ze(Bt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Bt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new R(new ve([])),r=new Bt(n,e),i=new Bt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new R(new ve([])),r=new Bt(n,e),i=new Bt(n,e+1);let s=ue();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return R.comparator(e.key,n.key)||re(e.As,n.As)}static _s(e,n){return re(e.As,n.As)||R.comparator(e.key,n.key)}}class eye{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ze(Bt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new dA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(re);return n.forEach(i=>{const s=new Bt(i,0),o=new Bt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new Bt(new R(s),0);let a=new ze(re);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){H(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Bt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tye{constructor(e){this.Ds=e,this.docs=new je(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ge.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hn();const o=n.path,a=new R(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||QS(MH(l),r)<=0||(i.has(l.key)||dh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nye(this)}getSize(e){return w.resolve(this.size)}}class nye extends v4{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class rye{constructor(e){this.persistence=e,this.xs=new Zi(n=>Bo(n),ch),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Ns=0,this.ks=new AA,this.targetCount=0,this.Ms=Qo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class MA{constructor(e,n){this.$s={},this.overlays={},this.Os=new ir(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rye(this),this.indexManager=new Hme,this.remoteDocumentCache=new tye(r=>this.referenceDelegate.Ls(r)),this.serializer=new Yz(n),this.qs=new Jme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zme,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new eye(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new iye(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class iye extends NH{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Qs=new AA,this.js=null}static zs(e){return new vy(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=R.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class RA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new RA(e,n.fromCache,r,i)}}class T4{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(cz(n))return w.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=iy(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,iy(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return cz(n)||i.isEqual(z.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(qS()<=ye.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uA(n)),this.Wi(e,o,n,function AH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new Xe(n+1,0):new Xe(n,r));return new rr(i,R.empty(),e)}(i,-1)))})}ji(e,n){let r=new ze(hz(e));return n.forEach((i,s)=>{dh(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return qS()<=ye.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",uA(n)),this.Ui.getDocumentsMatchingQuery(e,n,rr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class oye{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new je(re),this.Yi=new Zi(s=>Bo(s),ch),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function S4(t,e){return PA.apply(this,arguments)}function PA(){return PA=m(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),PA.apply(this,arguments)}function A4(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function lc(t,e,n){return OA.apply(this,arguments)}function OA(){return OA=m(function*(t,e,n){const r=P(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xs(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),OA.apply(this,arguments)}function Ey(t,e,n){const r=P(t);let i=z.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=P(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:ue())).next(a=>(function k4(t,e,n){let r=t.Xi.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function dz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class BA{constructor(){this.activeTargetIds=function cA(){return dme}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.Hr=new BA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new BA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hye{Yr(e){}shutdown(){}}class F4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dy=null;function $A(){return null===Dy?Dy=268435456+Math.round(2147483648*Math.random()):Dy++,"0x"+Dy.toString(16)}const fye={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pye{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yn="WebChannelConnection";class gye extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=$A(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Pr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ku,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${fye[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=$A();return new Promise((o,a)=>{const u=new gge;u.setWithCredentials(!0),u.listenOnce(hge.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case GS.NO_ERROR:const l=u.getResponseJson();C(yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case GS.TIMEOUT:C(yn,`RPC '${e}' ${s} timed out`),a(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case GS.HTTP_ERROR:const d=u.getStatus();if(C(yn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(y)>=0?y:E.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(E.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{C(yn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(yn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=$A(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lge(),a=dge(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new pge({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(yn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new pye({ro:y=>{f?C(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(C(yn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(yn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,v,_)=>{y.listen(v,D=>{try{_(D)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,zm.EventType.OPEN,()=>{f||C(yn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,zm.EventType.CLOSE,()=>{f||(f=!0,C(yn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,zm.EventType.ERROR,y=>{f||(f=!0,Pr(yn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new T(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,zm.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];H(!!_);const N=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(N){C(yn,`RPC '${e}' stream ${i} received error:`,N);const V=N.status;let B=function(Ce){const en=wt[Ce];if(void 0!==en)return xz(en)}(V),te=N.message;void 0===B&&(B=E.INTERNAL,te="Unknown error status: "+V+" with message "+N.message),f=!0,p.wo(new T(B,te)),d.close()}else C(yn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,fge.STAT_EVENT,y=>{y.stat===IH.PROXY?C(yn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===IH.NOPROXY&&C(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Ty(){return typeof document<"u"?document:null}function xh(t){return new Tme(t,!0)}class HA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class V4{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HA(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mye extends V4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ame(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(H(void 0===c||"string"==typeof c),xt.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:xz(u.code);return new T(c,u.message||"")}(o);n=new Oz(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=yi(t,r.document.name),s=ft(r.document.updateTime),o=r.document.createTime?ft(r.document.createTime):z.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Ge.newFoundDocument(i,s,o,a);n=new cy(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=yi(t,r.document),s=r.readTime?ft(r.readTime):z.min(),o=Ge.newNoDocument(i,s);n=new cy([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=yi(t,r.document);n=new cy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new _me(i,s);n=new Pz(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?ft(s.readTime):z.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=wh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ty(a)?{documents:Gz(i,a)}:{query:wA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Uz(i,s.resumeToken);const u=mA(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(z.min())>0){o.readTime=sc(i,s.snapshotVersion.toTimestamp());const u=mA(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function xme(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=wh(this.serializer),n.removeTarget=e,this.Wo(n)}}class vye extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(E.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wye{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(dt(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Eye{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;js(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=P(c);l.vu.add(4),yield dc(l),l.bu.set("Unknown"),l.vu.delete(4),yield Nh(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new wye(r,i)}}function Nh(t){return GA.apply(this,arguments)}function GA(){return GA=m(function*(t){if(js(t))for(const e of t.Ru)yield e(!0)}),GA.apply(this,arguments)}function dc(t){return qA.apply(this,arguments)}function qA(){return qA=m(function*(t){for(const e of t.Ru)yield e(!1)}),qA.apply(this,arguments)}function Cy(t,e){const n=P(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),QA(n)?KA(n):fc(n).Ko()&&WA(n,e))}function kh(t,e){const n=P(t),r=fc(n);n.Au.delete(e),r.Ko()&&U4(n,e),0===n.Au.size&&(r.Ko()?r.jo():js(n)&&n.bu.set("Unknown"))}function WA(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).su(e)}function U4(t,e){t.Vu.qt(e),fc(t).iu(e)}function KA(t){t.Vu=new Eme({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.bu.gu()}function QA(t){return js(t)&&!fc(t).Uo()&&t.Au.size>0}function js(t){return 0===P(t).vu.size}function B4(t){t.Vu=void 0}function Iye(t){return YA.apply(this,arguments)}function YA(){return YA=m(function*(t){t.Au.forEach((e,n)=>{WA(t,e)})}),YA.apply(this,arguments)}function bye(t,e){return XA.apply(this,arguments)}function XA(){return XA=m(function*(t,e){B4(t),QA(t)?(t.bu.Iu(e),KA(t)):t.bu.set("Unknown")}),XA.apply(this,arguments)}function Dye(t,e,n){return JA.apply(this,arguments)}function JA(){return JA=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof Oz&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sy(t,r)}else if(e instanceof cy?t.Vu.Ht(e):e instanceof Pz?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(z.min()))try{const r=yield A4(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(xt.EMPTY_BYTE_STRING,c.snapshotVersion)),U4(i,a);const l=new ts(c.target,a,u,c.sequenceNumber);WA(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Sy(t,r)}var r}),JA.apply(this,arguments)}function Sy(t,e,n){return ZA.apply(this,arguments)}function ZA(){return ZA=m(function*(t,e,n){if(!xs(e))throw e;t.vu.add(1),yield dc(t),t.bu.set("Offline"),n||(n=()=>A4(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Nh(t)}))}),ZA.apply(this,arguments)}function z4(t,e){return sM.apply(this,arguments)}function sM(){return sM=m(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=js(n);n.vu.add(3),yield dc(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Nh(n)}),sM.apply(this,arguments)}function aM(){return aM=m(function*(t,e){const n=P(t);e?(n.vu.delete(2),yield Nh(n)):e||(n.vu.add(2),yield dc(n),n.bu.set("Unknown"))}),aM.apply(this,arguments)}function fc(t){return t.Su||(t.Su=function(e,n,r){const i=P(e);return i.fu(),new mye(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Iye.bind(null,t),ao:bye.bind(null,t),nu:Dye.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),QA(t)?KA(t):t.bu.set("Unknown")):(yield t.Su.stop(),B4(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class uM{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new uM(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pc(t,e){if(dt("AsyncQueue",`${e}: ${t}`),xs(t))return new T(E.UNAVAILABLE,`${e}: ${t}`);throw t}class gc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=hh(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new gc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class G4{constructor(){this.Cu=new je(R.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class mc{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mc(e,n,gc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Nye{constructor(){this.Nu=void 0,this.listeners=[]}}class kye{constructor(){this.queries=new Zi(e=>lz(e),lh),this.onlineState="Unknown",this.ku=new Set}}function lM(){return lM=m(function*(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Nye),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=pc(o,`Initialization of query '${uA(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&fM(n)}),lM.apply(this,arguments)}function hM(){return hM=m(function*(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),hM.apply(this,arguments)}function Rye(t,e){const n=P(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&fM(n)}function Pye(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function fM(t){t.ku.forEach(e=>{e.next()})}class pM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class K4{constructor(e){this.key=e}}class Q4{constructor(e){this.key=e}}class Y4{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=hz(e),this.ec=new gc(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new G4,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=dh(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new mc(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new G4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Q4(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new K4(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ue();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return mc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Lye{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vye{constructor(e){this.key=e,this.fc=!1}}class Uye{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Zi(a=>lz(a),lh),this._c=new Map,this.mc=new Set,this.gc=new je(R.comparator),this.yc=new Map,this.Ic=new AA,this.Tc={},this.Ec=new Map,this.Ac=Qo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Bye(t,e){return gM.apply(this,arguments)}function gM(){return gM=m(function*(t,e){const n=function VM(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hye.bind(null,e),e.dc.nu=Rye.bind(null,e.eventManager),e.dc.Pc=Pye.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function cc(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,xn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function mM(t,e,n,r,i){return yM.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Cy(n.remoteStore,o)}return i}),gM.apply(this,arguments)}function yM(){return yM=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,v,_){let D=y.view.sc(v);D.zi&&(D=yield Ey(g.localStore,y.query,!1).then(({documents:B})=>y.view.sc(B,D)));const N=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(D,g.isPrimaryClient,N);return SM(g,y.targetId,V.cc),V.snapshot}),function(g,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Ey(t.localStore,e,!0),o=new Y4(e,s.ir),a=o.sc(s.documents),u=vh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);SM(t,n,c.cc);const l=new Lye(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),yM.apply(this,arguments)}function jye(t,e){return vM.apply(this,arguments)}function vM(){return vM=m(function*(t,e){const n=P(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!lh(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kh(n.remoteStore,r.targetId),yc(n,r.targetId)}).catch(Ms))):(yc(n,r.targetId),yield lc(n.localStore,r.targetId,!0))}),vM.apply(this,arguments)}function X4(t,e){return wM.apply(this,arguments)}function wM(){return wM=m(function*(t,e){const n=P(t);try{const r=yield function uye(t,e){const n=P(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Hn(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function M4(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(z.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?H(o.fc):i.removedDocuments.size>0&&(H(o.fc),o.fc=!1))}),yield ns(n,r,e)}catch(r){yield Ms(r)}}),wM.apply(this,arguments)}function J4(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&fM(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hye(t,e,n){return EM.apply(this,arguments)}function EM(){return EM=m(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new je(R.comparator);o=o.insert(s,Ge.newNoDocument(s,z.min()));const a=ue().add(s),u=new yh(z.min(),new Map,new je(re),o,a);yield X4(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),AM(r)}else yield lc(r.localStore,e,!1).then(()=>yc(r,e,n)).catch(Ms)}),EM.apply(this,arguments)}function yc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Z4(t,r)})}function Z4(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(kh(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),AM(t))}function SM(t,e,n){for(const r of n)r instanceof K4?(t.Ic.addReference(r.key,e),Wye(t,r)):r instanceof Q4?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Z4(t,r.key)):L()}function Wye(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),AM(t))}function AM(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new R(ve.fromString(e)),r=t.Ac.next();t.yc.set(r,new Vye(n)),t.gc=t.gc.insert(n,r),Cy(t.remoteStore,new ts(xn(ec(n.path)),r,"TargetPurposeLimboResolution",ir.ct))}}function ns(t,e,n){return MM.apply(this,arguments)}function MM(){return MM=m(function*(t,e,n){const r=P(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=RA.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=P(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!xs(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),MM.apply(this,arguments)}function Kye(t,e){return xM.apply(this,arguments)}function xM(){return xM=m(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield S4(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ns(n,r.er)}var i}),xM.apply(this,arguments)}function Qye(t,e){const n=P(t),r=n.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class vc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=xh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function C4(t,e,n,r){return new oye(t,e,n,r)}(this.persistence,new T4,e.initialUser,this.serializer)}createPersistence(e){return new MA(vy.zs,this.serializer)}createSharedClientState(e){return new O4}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _c{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>J4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Kye.bind(null,r.syncEngine),yield function oM(t,e){return aM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kye}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=new gye(e.databaseInfo);return new vye(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>J4(this.syncEngine,a,0),o=F4.D()?new F4:new hye,new Eye(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Uye(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=P(n);C("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield dc(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class uve{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=CH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=pc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function My(t,e){return jM.apply(this,arguments)}function jM(){return jM=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield S4(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),jM.apply(this,arguments)}function $M(t,e){return HM.apply(this,arguments)}function HM(){return HM=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function zM(t){return GM.apply(this,arguments)}(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>z4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>z4(e.remoteStore,s)),t._onlineComponents=e}),HM.apply(this,arguments)}function GM(){return GM=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield My(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function i3(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Pr("Error using user provided cache. Falling back to memory cache: "+n),yield My(t,new vc)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield My(t,new vc);return t._offlineComponents}),GM.apply(this,arguments)}function qM(){return qM=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield $M(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield $M(t,new _c))),t._onlineComponents}),qM.apply(this,arguments)}function wc(t){return KM.apply(this,arguments)}function KM(){return KM=m(function*(t){const e=yield function xy(t){return qM.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Bye.bind(null,e.syncEngine),n.onUnlisten=jye.bind(null,e.syncEngine),n}),KM.apply(this,arguments)}function l3(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const d3=new Map;function f3(t){if(R.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ky(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ky(t);throw new T(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class g3{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yve(t,e,n,r){if(!0===e&&!0===r)throw new T(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=l3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g3(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new yge;switch(n.type){case"firstParty":return new Ege(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=d3.get(e);n&&(C("ComponentProvider","Removing Datastore"),d3.delete(e),n.terminate())}(this),Promise.resolve()}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}}class Zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class vi extends Zt{constructor(e,n,r){super(e,n,ec(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new R(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function _ve(t,e,...n){if(t=qt(t),function QM(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Rh){const r=ve.fromString(e,...n);return f3(r),new vi(t,null,r)}{if(!(t instanceof pt||t instanceof vi))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return f3(r),new vi(t.firestore,null,r)}}class Eve{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HA(this,"async_queue_retry"),this.Xc=()=>{const n=Ty();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ty();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ty();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Mt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!xs(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,dt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=uM.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function YM(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class qe extends Rh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Eve,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||y3(this),this._firestoreClient.terminate()}}function bve(t,e){const r="string"==typeof t?t:e||"(default)",i=jg("object"==typeof t?t:mU(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Fg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function vve(t,e,n,r={}){var i;const s=(t=me(t,Rh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Vt.MOCK_USER;else{a=function uoe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pg(JSON.stringify({alg:"none",type:"JWT"})),Pg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(c)}t._authCredentials=new vge(new DH(a,u))}}(i,...s)}return i}function y3(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Yge(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,l3(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new uve(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(xt.fromBase64String(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xo(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ec{constructor(e){this._methodName=e}}class XM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const Tve=/^__.*__$/;function E3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Ry{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Fy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(E3(this.ca)&&Tve.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Sve{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}ya(e,n,r,i=!1){return new Ry({ca:e,methodName:n,ga:r,path:ht.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ea(t,e){if(T3(t=qt(t)))return function tx(t,e,n){if(!T3(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ky(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}("Unsupported field value:",e,t),function D3(t,e){const n={};return jH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,i)=>{const s=ea(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}(t,e);if(t instanceof Ec)return function(n,r){if(!E3(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ea(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return vz(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Xe.fromDate(n);return{timestampValue:sc(r.serializer,i)}}if(n instanceof Xe){const i=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sc(r.serializer,i)}}if(n instanceof XM)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xo)return{bytesValue:Uz(r.serializer,n._byteString)};if(n instanceof pt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yA(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ky(n)}`)}(t,e)}function T3(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof XM||t instanceof Xo||t instanceof pt||t instanceof Ec)}const Nve=new RegExp("[~\\*/\\[\\]]");function Fy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(E.INVALID_ARGUMENT,a+t+u)}class Lh{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ly("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class kve extends Lh{data(){return super.data()}}function Ly(t,e){return"string"==typeof e?function Oy(t,e,n){if(e.search(Nve)>=0)throw Fy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jo(...e.split("."))._internalPath}catch{throw Fy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Jo?e._internalPath:e._delegate._internalPath}class nx{}class Vh extends nx{}function Rve(t,e,...n){let r=[];e instanceof nx&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Ic).length,o=i.filter(a=>a instanceof Uh).length;if(s>1||s>0&&o>0)throw new T(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Uh extends Vh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uh(e,n,r)}_apply(e){const n=this._parse(e);return N3(e._query,n),new Zt(e.firestore,e.converter,aA(e._query,n))}_parse(e){const n=function Zo(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new Sve(t._databaseId,!!e.ignoreUndefinedProperties,n)}(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new T(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){x3(l,c);const h=[];for(const f of l)h.push(M3(a,i,f));d={arrayValue:{values:h}}}else d=M3(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||x3(l,c),d=function b3(t,e,n,r=!1){return ea(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return pe.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ic extends nx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ic(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)N3(s,a),s=aA(s,a)}(e._query,n),new Zt(e.firestore,e.converter,aA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rx extends Vh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rx(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ju(i,s);return function(a,u){if(null===sA(a)){const c=ry(a);null!==c&&k3(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Zt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ji(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Pve(t,e="asc"){const n=e,r=Ly("orderBy",t);return rx._create(r,n)}function M3(t,e,n){if("string"==typeof(n=qt(n))){if(""===n)throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oA(e)&&-1!==n.indexOf("/"))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!R.isDocumentKey(r))throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uo(t,new R(r))}if(n instanceof pt)return Uo(t,n._key);throw new T(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ky(n)}.`)}function x3(t,e){if(!Array.isArray(t)||0===t.length)throw new T(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N3(t,e){if(e.isInequality()){const r=ry(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new T(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=sA(t);null!==s&&k3(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new T(E.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function k3(t,e,n){if(!n.isEqual(e))throw new T(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class P3{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new XM(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const n=ks(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);H(Qz(r));const i=new Vo(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||dt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bc extends Lh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $y(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ly("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $y extends bc{data(e={}){return super.data(e)}}class Dc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $y(this._firestore,this._userDataWriter,r.key,r,new ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new $y(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new $y(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ta(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Lve(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lve(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class Hs extends P3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}!function(t,e=!0){Ku=pd,Sn(new hn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qe(new _ge(n.getProvider("auth-internal")),new Ige(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),lt(bH,"3.12.2",t),lt(bH,"3.12.2","esm2017")}();var Yve={includeMetadataChanges:!1};function sx(t,e){return void 0===e&&(e=Yve),new gt(function(n){var r=function Vve(t,...e){var n,r,i;t=qt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||YM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(YM(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof pt)c=me(t.firestore,qe),l=ec(t._key.path),u={next:d=>{e[o]&&e[o](function ix(t,e,n){const r=n.docs.get(e._key),i=new Hs(t);return new bc(t,i,e._key,r,new ta(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,Zt);c=me(d.firestore,qe),l=d._query;const h=new Hs(c);u={next:f=>{e[o]&&e[o](new Dc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function S3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Ay(p),y=new pM(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function cM(t,e){return lM.apply(this,arguments)}(yield wc(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return function dM(t,e){return hM.apply(this,arguments)}(yield wc(d),y)}))}}(function Et(t){return t._firestoreClient||y3(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function r_e(t,e){return void 0===e&&(e={}),function n_e(t){return sx(t,{includeMetadataChanges:!0}).pipe(Se(function(e){return e.docs}))}(t).pipe(Se(function(n){return n.map(function(r){return function F3(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Hy{constructor(e){return e}}const B3="firestore",ux=new U("angularfire2.firestore-instances");function o_e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Hy(r)}}const a_e={provide:class i_e{constructor(){return ND(B3)}},deps:[[new kn,ux]]},u_e={provide:Hy,useFactory:function s_e(t,e){const n=function xD(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(B3,t,e);return n&&new Hy(n)},deps:[[new kn,ux],Ou]};let c_e=(()=>{class t{constructor(){lt("angularfire",ID.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Vr({type:t}),t.\u0275inj=mr({providers:[u_e,a_e]}),t})();function l_e(t,...e){return{ngModule:c_e,providers:[{provide:ux,useFactory:o_e(t),multi:!0,deps:[Ee,an,NB,kB,[new kn,Vj],[new kn,o$],...e]}]}}const zy=Pu(r_e,!0),Gy=Pu(_ve,!0),d_e=Pu(bve,!0),qy=Pu(Pve,!0),Wy=Pu(Rve,!0);let Ky=(()=>{class t{constructor(n){this.firestore=n}listarAcao(){const n=Wy(Gy(this.firestore,"acao"),qy("criadoEm","desc"));return zy(n,{idField:"id"})}listarAventura(){const n=Wy(Gy(this.firestore,"aventura"),qy("criadoEm","desc"));return zy(n,{idField:"id"})}listarEsporte(){const n=Wy(Gy(this.firestore,"esporte"),qy("criadoEm","desc"));return zy(n,{idField:"id"})}listarFantasia(){const n=Wy(Gy(this.firestore,"fantasia"),qy("criadoEm","desc"));return zy(n,{idField:"id"})}static{this.\u0275fac=function(r){return new(r||t)(W(Hy))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function h_e(t,e){if(1&t&&(M(0,"div")(1,"div",12)(2,"h3",13),F(3),x(),Ze(4,"div",14),M(5,"div",15),Ze(6,"video",16),x()()()),2&t){const n=e.$implicit;Ct(3),ru(n.titulo),Ct(3),kt("src",n.video,Na)}}let f_e=(()=>{class t{constructor(n,r){this.router=n,this.db=r,this.historias=[],this.mostrarAnuncio=!1,this.audio=new Audio("../../../assets/click-21156.mp3")}ngOnInit(){this.db.listarAcao().subscribe(n=>{this.historias=n,this.mostrarAnuncio=!0}),setTimeout(()=>{(adsbygoogle=window.adsbygoogle||[]).push({})},1e3)}goToStart(){this.playSound(),this.router.navigateByUrl("inicio")}playSound(){this.audio.currentTime=0,this.audio.play()}fecharAnuncio(){this.mostrarAnuncio=!1}static{this.\u0275fac=function(r){return new(r||t)(G(Rt),G(Ky))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-acao"]],standalone:!0,features:[iu],decls:16,vars:2,consts:[[1,"uk-navbar-container"],["uk-navbar",""],[1,"uk-navbar-left"],[1,"uk-navbar-nav"],[1,"uk-active"],[1,"uk-card-title","ubuntu-bold","h3"],[1,"uk-navbar-right"],["id","uk-button",1,"uk-button","uk-button-primary","uk-margin-small-bottom",3,"click"],["id","content"],[1,"uk-container"],["uk-grid","",1,"uk-grid","uk-child-width-1-1","uk-child-width-1-2@s"],[4,"ngFor","ngForOf"],["id","card",1,"uk-card","uk-card-default","uk-margin"],[1,"open-sans","uk-card-title","uk-text-center","ubuntu-medium"],[1,"uk-card-media-top"],["id","video",1,"uk-card-body"],["controls","",2,"width","100%",3,"src"]],template:function(r,i){1&r&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"h3",5),F(6,"A\xe7\xe3o"),x()()()(),M(7,"div",6)(8,"ul",3)(9,"li")(10,"button",7),zt("click",function(){return i.goToStart()}),F(11,"Voltar"),x()()()()()(),M(12,"div",8)(13,"div",9)(14,"div",10),Qr(15,h_e,7,2,"div",11),x()()()),2&r&&(Ct(12),kt("@fadeIn",void 0),Ct(3),kt("ngForOf",i.historias))},dependencies:[lu,jl],styles:[".uk-navbar-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:10000;top:0;left:0;padding:20px;background-color:#48dbfb}.uk-container[_ngcontent-%COMP%]{margin-top:120px}.text[_ngcontent-%COMP%]{margin-bottom:80px}#text[_ngcontent-%COMP%]{margin-top:20px}#uk-button[_ngcontent-%COMP%]{margin-right:50px}.uk-button[_ngcontent-%COMP%]{border:none;background:#ff9ff3;border-radius:10px;box-shadow:5px 5px 8px #0000004d}.uk-button[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 13px #0009;cursor:pointer;transition:all .3s ease-in-out}#content[_ngcontent-%COMP%]{padding-bottom:40px}#card[_ngcontent-%COMP%]{padding-top:30px}#video[_ngcontent-%COMP%]{margin-top:-40px}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem;margin-bottom:40px}.h3[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[du("fadeIn",[fu(":enter",[Un({opacity:0,transform:"translateY(20px)"}),hu("1000ms ease-out",Un({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})();function p_e(t,e){if(1&t&&(M(0,"div")(1,"div",12)(2,"h3",13),F(3),x(),Ze(4,"div",14),M(5,"div",15),Ze(6,"video",16),x()()()),2&t){const n=e.$implicit;Ct(3),ru(n.titulo),Ct(3),kt("src",n.video,Na)}}let g_e=(()=>{class t{constructor(n,r){this.router=n,this.db=r,this.historias=[],this.mostrarAnuncio=!1,this.audio=new Audio("../../../assets/click-21156.mp3")}ngOnInit(){this.db.listarAventura().subscribe(n=>{this.historias=n,this.mostrarAnuncio=!0}),setTimeout(()=>{(adsbygoogle=window.adsbygoogle||[]).push({})},1e3)}goToStart(){this.playSound(),this.router.navigateByUrl("inicio")}playSound(){this.audio.currentTime=0,this.audio.play()}fecharAnuncio(){this.mostrarAnuncio=!1}static{this.\u0275fac=function(r){return new(r||t)(G(Rt),G(Ky))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-aventura"]],standalone:!0,features:[iu],decls:16,vars:2,consts:[[1,"uk-navbar-container"],["uk-navbar",""],[1,"uk-navbar-left"],[1,"uk-navbar-nav"],[1,"uk-active"],[1,"uk-card-title","ubuntu-bold","h3"],[1,"uk-navbar-right"],["id","uk-button",1,"uk-button","uk-button-primary","uk-margin-small-bottom",3,"click"],["id","content"],[1,"uk-container"],["uk-grid","",1,"uk-grid","uk-child-width-1-1","uk-child-width-1-2@s"],[4,"ngFor","ngForOf"],["id","card",1,"uk-card","uk-card-default","uk-margin"],[1,"open-sans","uk-card-title","uk-text-center","ubuntu-medium"],[1,"uk-card-media-top"],["id","video",1,"uk-card-body"],["controls","",2,"width","100%",3,"src"]],template:function(r,i){1&r&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"h3",5),F(6,"Aventura"),x()()()(),M(7,"div",6)(8,"ul",3)(9,"li")(10,"button",7),zt("click",function(){return i.goToStart()}),F(11,"Voltar"),x()()()()()(),M(12,"div",8)(13,"div",9)(14,"div",10),Qr(15,p_e,7,2,"div",11),x()()()),2&r&&(Ct(12),kt("@fadeIn",void 0),Ct(3),kt("ngForOf",i.historias))},dependencies:[lu,jl],styles:[".uk-navbar-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:10000;top:0;left:0;padding:20px;background-color:#48dbfb}.uk-container[_ngcontent-%COMP%]{margin-top:120px}.text[_ngcontent-%COMP%]{margin-bottom:80px}#text[_ngcontent-%COMP%]{margin-top:20px}#uk-button[_ngcontent-%COMP%]{margin-right:50px}.uk-button[_ngcontent-%COMP%]{border:none;background:#ff9ff3;border-radius:10px;box-shadow:5px 5px 8px #0000004d}.uk-button[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 13px #0009;cursor:pointer;transition:all .3s ease-in-out}#content[_ngcontent-%COMP%]{padding-bottom:40px}#card[_ngcontent-%COMP%]{padding-top:30px}#video[_ngcontent-%COMP%]{margin-top:-40px}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem;margin-bottom:40px}.h3[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[du("fadeIn",[fu(":enter",[Un({opacity:0,transform:"translateY(20px)"}),hu("1000ms ease-out",Un({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})();function m_e(t,e){if(1&t&&(M(0,"div")(1,"div",12)(2,"h3",13),F(3),x(),Ze(4,"div",14),M(5,"div",15),Ze(6,"video",16),x()()()),2&t){const n=e.$implicit;Ct(3),ru(n.titulo),Ct(3),kt("src",n.video,Na)}}let y_e=(()=>{class t{constructor(n,r){this.router=n,this.db=r,this.historias=[],this.mostrarAnuncio=!1,this.audio=new Audio("../../../assets/click-21156.mp3")}ngOnInit(){this.db.listarEsporte().subscribe(n=>{this.historias=n,this.mostrarAnuncio=!0}),setTimeout(()=>{(adsbygoogle=window.adsbygoogle||[]).push({})},1e3)}goToStart(){this.playSound(),this.router.navigateByUrl("inicio")}playSound(){this.audio.currentTime=0,this.audio.play()}fecharAnuncio(){this.mostrarAnuncio=!1}static{this.\u0275fac=function(r){return new(r||t)(G(Rt),G(Ky))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-espoprte"]],standalone:!0,features:[iu],decls:16,vars:2,consts:[[1,"uk-navbar-container"],["uk-navbar",""],[1,"uk-navbar-left"],[1,"uk-navbar-nav"],[1,"uk-active"],[1,"uk-card-title","ubuntu-bold","h3"],[1,"uk-navbar-right"],["id","uk-button",1,"uk-button","uk-button-primary","uk-margin-small-bottom",3,"click"],["id","content"],[1,"uk-container"],["uk-grid","",1,"uk-grid","uk-child-width-1-1","uk-child-width-1-2@s"],[4,"ngFor","ngForOf"],["id","card",1,"uk-card","uk-card-default","uk-margin"],[1,"open-sans","uk-card-title","uk-text-center","ubuntu-medium"],[1,"uk-card-media-top"],["id","video",1,"uk-card-body"],["controls","",2,"width","100%",3,"src"]],template:function(r,i){1&r&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"h3",5),F(6,"Esporte"),x()()()(),M(7,"div",6)(8,"ul",3)(9,"li")(10,"button",7),zt("click",function(){return i.goToStart()}),F(11,"Voltar"),x()()()()()(),M(12,"div",8)(13,"div",9)(14,"div",10),Qr(15,m_e,7,2,"div",11),x()()()),2&r&&(Ct(12),kt("@fadeIn",void 0),Ct(3),kt("ngForOf",i.historias))},dependencies:[lu,jl],styles:[".uk-navbar-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:10000;top:0;left:0;padding:20px;background-color:#48dbfb}.uk-container[_ngcontent-%COMP%]{margin-top:120px}.text[_ngcontent-%COMP%]{margin-bottom:80px}#text[_ngcontent-%COMP%]{margin-top:20px}#uk-button[_ngcontent-%COMP%]{margin-right:50px}.uk-button[_ngcontent-%COMP%]{border:none;background:#ff9ff3;border-radius:10px;box-shadow:5px 5px 8px #0000004d}.uk-button[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 13px #0009;cursor:pointer;transition:all .3s ease-in-out}#content[_ngcontent-%COMP%]{padding-bottom:40px}#card[_ngcontent-%COMP%]{padding-top:30px}#video[_ngcontent-%COMP%]{margin-top:-40px}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem;margin-bottom:40px}.h3[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[du("fadeIn",[fu(":enter",[Un({opacity:0,transform:"translateY(20px)"}),hu("1000ms ease-out",Un({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})();function v_e(t,e){if(1&t&&(M(0,"div")(1,"div",12)(2,"h3",13),F(3),x(),Ze(4,"div",14),M(5,"div",15),Ze(6,"video",16),x()()()),2&t){const n=e.$implicit;Ct(3),ru(n.titulo),Ct(3),kt("src",n.video,Na)}}const __e=[{path:"",component:nU},{path:"home",component:nU},{path:"inicio",component:Kse},{path:"acao",component:f_e},{path:"aventura",component:g_e},{path:"esporte",component:y_e},{path:"fantasia",component:(()=>{class t{constructor(n,r){this.router=n,this.db=r,this.historias=[],this.mostrarAnuncio=!1,this.audio=new Audio("../../../assets/click-21156.mp3")}ngOnInit(){this.db.listarFantasia().subscribe(n=>{this.historias=n,this.mostrarAnuncio=!0}),setTimeout(()=>{(adsbygoogle=window.adsbygoogle||[]).push({})},1e3)}goToStart(){this.playSound(),this.router.navigateByUrl("inicio")}playSound(){this.audio.currentTime=0,this.audio.play()}fecharAnuncio(){this.mostrarAnuncio=!1}static{this.\u0275fac=function(r){return new(r||t)(G(Rt),G(Ky))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-fantasia"]],standalone:!0,features:[iu],decls:16,vars:2,consts:[[1,"uk-navbar-container"],["uk-navbar",""],[1,"uk-navbar-left"],[1,"uk-navbar-nav"],[1,"uk-active"],[1,"uk-card-title","ubuntu-bold","h3"],[1,"uk-navbar-right"],["id","uk-button",1,"uk-button","uk-button-primary","uk-margin-small-bottom",3,"click"],["id","content"],[1,"uk-container"],["uk-grid","",1,"uk-grid","uk-child-width-1-1","uk-child-width-1-2@s"],[4,"ngFor","ngForOf"],["id","card",1,"uk-card","uk-card-default","uk-margin"],[1,"open-sans","uk-card-title","uk-text-center","ubuntu-medium"],[1,"uk-card-media-top"],["id","video",1,"uk-card-body"],["controls","",2,"width","100%",3,"src"]],template:function(r,i){1&r&&(M(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"h3",5),F(6,"Fantasia"),x()()()(),M(7,"div",6)(8,"ul",3)(9,"li")(10,"button",7),zt("click",function(){return i.goToStart()}),F(11,"Voltar"),x()()()()()(),M(12,"div",8)(13,"div",9)(14,"div",10),Qr(15,v_e,7,2,"div",11),x()()()),2&r&&(Ct(12),kt("@fadeIn",void 0),Ct(3),kt("ngForOf",i.historias))},dependencies:[lu,jl],styles:[".uk-navbar-container[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:10000;top:0;left:0;padding:20px;background-color:#48dbfb}.uk-container[_ngcontent-%COMP%]{margin-top:120px}.text[_ngcontent-%COMP%]{margin-bottom:80px}#text[_ngcontent-%COMP%]{margin-top:20px}#uk-button[_ngcontent-%COMP%]{margin-right:50px}.uk-button[_ngcontent-%COMP%]{border:none;background:#ff9ff3;border-radius:10px;box-shadow:5px 5px 8px #0000004d}.uk-button[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 13px #0009;cursor:pointer;transition:all .3s ease-in-out}#content[_ngcontent-%COMP%]{padding-bottom:40px}#card[_ngcontent-%COMP%]{padding-top:30px}#video[_ngcontent-%COMP%]{margin-top:-40px}.title[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem;margin-bottom:40px}.h3[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[du("fadeIn",[fu(":enter",[Un({opacity:0,transform:"translateY(20px)"}),hu("1000ms ease-out",Un({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})()}];let w_e=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t})}static{this.\u0275inj=mr({imports:[eU.forRoot(__e),eU]})}}return t})();function E_e(t,e){1&t&&(M(0,"div",15),Ze(1,"ins",16),x())}let I_e=(()=>{class t{constructor(n){this.router=n,this.showAds=!1}ngOnInit(){this.router.events.pipe(Ui(n=>n instanceof ri)).subscribe(n=>{if(["/acao","/aventura","/fantasia","/esporte","/categorias","/historia/","/home"].some(s=>n.urlAfterRedirects.startsWith(s))){if(this.showAds=!0,typeof window.adsbygoogle<"u")try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(s){console.error("Erro ao tentar carregar an\xfancio do AdSense/AdMob:",s)}}else this.showAds=!1})}static{this.\u0275fac=function(r){return new(r||t)(G(Rt))}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-footer"]],decls:88,vars:1,consts:[[1,"footer"],["class","ads-container","style","margin-top: 20px; text-align: center;",4,"ngIf"],[1,"politica"],["id","link","href","../../../assets/privacidade.html","target","_blank","uk-toggle","",1,"ubuntu-medium-italic"],[2,"text-align","center","font-size","12px","margin-top","10px"],["src","../../../assets/Logo_StartNow-removebg-preview.png","alt","Logo StartNow","width","40","height","40",2,"vertical-align","middle","margin-left","5px"],["id","modal-container","uk-modal","",1,"uk-modal-container"],[1,"uk-modal-dialog","uk-modal-body"],["type","button","uk-close","",1,"uk-modal-close-default"],[1,"container"],["href","https://myadcenter.google.com/","target","_blank","rel","noopener noreferrer"],["href","https://support.google.com/adsense/answer/10502938","target","_blank","rel","noopener noreferrer"],["href","https://policies.google.com/technologies/ads","target","_blank","rel","noopener noreferrer"],[1,"last-updated"],["href","https://support.google.com/publisherpolicies/answer/11112688","target","_blank","rel","noopener noreferrer"],[1,"ads-container",2,"margin-top","20px","text-align","center"],["data-ad-client","ca-pub-8328708503360739","data-ad-slot","1057155087","data-ad-format","fluid","data-ad-layout-key","-gw-3+1f-3d+2z","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"]],template:function(r,i){1&r&&(M(0,"div",0),Qr(1,E_e,2,0,"div",1),M(2,"div",2)(3,"a",3),F(4," Pol\xedtica de privacidade "),x()(),M(5,"div",4),F(6," \xa9 2025 StartNow Servi\xe7os de TI. Todos os direitos reservados. "),Ze(7,"img",5),x(),M(8,"div",6)(9,"div",7),Ze(10,"button",8),M(11,"div",9)(12,"h1"),F(13,"Pol\xedtica de Privacidade do Fantasia Kids"),x(),M(14,"p"),F(15,"Bem-vindo ao Fantasia Kids! Sua privacidade \xe9 extremamente importante para n\xf3s. Esta pol\xedtica detalha como coletamos, usamos, compartilhamos e protegemos suas informa\xe7\xf5es pessoais, com foco especial na veicula\xe7\xe3o de an\xfancios atrav\xe9s do Google AdMob e na conformidade com as pol\xedticas do Google para editores."),x(),M(16,"h2"),F(17,"1. Informa\xe7\xf5es que Coletamos"),x(),M(18,"p"),F(19,"Coletamos informa\xe7\xf5es automaticamente por meio de tecnologias padr\xe3o como cookies, web beacons e endere\xe7o IP. Os dados coletados incluem, mas n\xe3o se limitam a:"),x(),M(20,"ul")(21,"li"),F(22,"Informa\xe7\xf5es sobre o seu dispositivo (tipo, sistema operacional, vers\xe3o do aplicativo);"),x(),M(23,"li"),F(24,"Informa\xe7\xf5es de localiza\xe7\xe3o aproximada;"),x(),M(25,"li"),F(26,"Dados sobre intera\xe7\xf5es com an\xfancios exibidos;"),x(),M(27,"li"),F(28,"Dados de diagn\xf3stico para melhorar nossos servi\xe7os."),x()(),M(29,"p"),F(30,"N\xe3o coletamos informa\xe7\xf5es pessoais sens\xedveis (como nome, telefone, e-mail) sem o seu consentimento expl\xedcito. "),x(),M(31,"h2"),F(32,"2. Uso de An\xfancios e Cookies do Google AdMob"),x(),M(33,"p"),F(34,"Este aplicativo utiliza o Google AdMob para veicular an\xfancios. O Google, como fornecedor terceiro, utiliza cookies e identificadores para personalizar, medir e melhorar os an\xfancios exibidos. O posicionamento dos an\xfancios respeita as Pol\xedticas para Editores do Google, garantindo que n\xe3o sejam exibidos em telas sem conte\xfado do editor, com conte\xfado de baixo valor (como texto de preenchimento ou conte\xfado inintelig\xedvel), em telas em constru\xe7\xe3o, ou em aplicativos onde o foco principal do usu\xe1rio n\xe3o \xe9 a intera\xe7\xe3o com a tela. Voc\xea pode gerenciar suas prefer\xeancias de an\xfancios diretamente nas "),M(35,"a",10),F(36,"Configura\xe7\xf5es de An\xfancios do Google"),x(),F(37,"."),x(),M(38,"h2"),F(39,"3. An\xfancios Direcionados a Crian\xe7as e Conformidade com COPPA"),x(),M(40,"p"),F(41,"Como nosso p\xfablico-alvo inclui crian\xe7as, desativamos an\xfancios personalizados conforme exigido pela Lei de Prote\xe7\xe3o \xe0 Privacidade Online das Crian\xe7as (COPPA). O Google AdMob est\xe1 configurado para restringir o uso de identificadores de publicidade e exibir apenas an\xfancios adequados para crian\xe7as, em conformidade com as diretrizes do Google para conte\xfado familiar."),x(),M(42,"h2"),F(43,"4. Consentimento para Usu\xe1rios na Uni\xe3o Europeia, Reino Unido e Su\xed\xe7a (GDPR)"),x(),M(44,"p"),F(45,"Se voc\xea estiver na Uni\xe3o Europeia, Reino Unido ou Su\xed\xe7a, exibimos um aviso de consentimento para o uso de dados, em conformidade com o Regulamento Geral de Prote\xe7\xe3o de Dados (GDPR). Utilizamos a User Messaging Platform (UMP) do Google para gerenciar suas escolhas sobre o uso de dados para fins de publicidade."),x(),M(46,"h2"),F(47,"5. Compartilhamento e Divulga\xe7\xe3o de Dados"),x(),M(48,"p"),F(49,"As informa\xe7\xf5es coletadas podem ser compartilhadas com o Google e seus parceiros para a veicula\xe7\xe3o de an\xfancios e relat\xf3rios, sempre em conformidade com as "),M(50,"a",11),F(51,"Pol\xedticas do Programa Google AdSense"),x(),F(52,". N\xe3o vendemos seus dados pessoais a terceiros. Garantimos que nenhum conte\xfado proibido pelas pol\xedticas do Google, como conte\xfado ilegal, material protegido por direitos autorais, conte\xfado perigoso ou depreciativo, entre outros, seja associado aos nossos an\xfancios."),x(),M(53,"h2"),F(54,"6. Seguran\xe7a das Informa\xe7\xf5es"),x(),M(55,"p"),F(56,"Implementamos medidas t\xe9cnicas e administrativas para proteger suas informa\xe7\xf5es contra acesso n\xe3o autorizado, altera\xe7\xe3o, divulga\xe7\xe3o ou destrui\xe7\xe3o indevida. Limitamos a coleta de dados em dispositivos usados por crian\xe7as para garantir a m\xe1xima seguran\xe7a e conformidade com as regulamenta\xe7\xf5es aplic\xe1veis."),x(),M(57,"h2"),F(58,"7. Seus Direitos"),x(),M(59,"p"),F(60,"Voc\xea tem o direito de:"),x(),M(61,"ul")(62,"li"),F(63,"Gerenciar suas prefer\xeancias de an\xfancios no Google acessando as "),M(64,"a",10),F(65,"Configura\xe7\xf5es de An\xfancios do Google"),x(),F(66,";"),x(),M(67,"li"),F(68,"Solicitar acesso, corre\xe7\xe3o ou exclus\xe3o dos seus dados pessoais, quando aplic\xe1vel, entrando em contato conosco atrav\xe9s dos canais dispon\xedveis no aplicativo ou website;"),x(),M(69,"li"),F(70,"Consultar mais informa\xe7\xf5es sobre como o Google utiliza os dados em: "),M(71,"a",12),F(72,"Como o Google usa dados"),x(),F(73,"."),x()(),M(74,"div",13)(75,"p")(76,"strong"),F(77,"\xdaltima atualiza\xe7\xe3o:"),x(),F(78," 7 de junho de 2025"),x()(),M(79,"p"),F(80,"Para mais detalhes sobre as pol\xedticas do Google mencionadas, voc\xea pode consultar:"),x(),M(81,"ul")(82,"li")(83,"a",14),F(84,"Pol\xedticas para editores do Google"),x()(),M(85,"li")(86,"a",11),F(87,"Pol\xedticas do Programa Google AdSense"),x()()()()()()()),2&r&&(Ct(),kt("ngIf",i.showAds))},dependencies:[AL],styles:[".ubuntu-medium-italic[_ngcontent-%COMP%]{font-family:Ubuntu,sans-serif;font-weight:500;font-style:italic}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:70px;background-color:#f8f8f8;display:flex;justify-content:center;align-items:center;z-index:1000}.ads-container[_ngcontent-%COMP%]{max-width:920px;width:100%;text-align:center}.adsbygoogle[_ngcontent-%COMP%]{display:inline-block;width:100%!important;height:60px!important}.politica[_ngcontent-%COMP%]{position:absolute;bottom:25px;left:20px;z-index:10}#link[_ngcontent-%COMP%]{color:#000!important;text-decoration:none}.uk-modal-dialog[_ngcontent-%COMP%]{border-radius:.5rem}.uk-modal-title[_ngcontent-%COMP%]{color:#333}.uk-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .uk-modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#555;line-height:1.6}.uk-modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1a73e8;text-decoration:underline}.creditos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;flex-wrap:wrap}.creditos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-align:center}.ad-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000}"]})}}return t})(),b_e=(()=>{class t{constructor(){this.title="fantasiakids"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Lr({type:t,selectors:[["app-root"]],decls:3,vars:1,template:function(r,i){1&r&&(M(0,"div"),Ze(1,"router-outlet")(2,"app-footer"),x()),2&r&&kt("@fadeIn",void 0)},dependencies:[JI,I_e],data:{animation:[du("fadeIn",[fu(":enter",[Un({opacity:0,transform:"translateY(20px)"}),hu("1000ms ease-out",Un({opacity:1,transform:"translateY(0)"}))])])]}})}}return t})();const D_e_firebase={apiKey:"AIzaSyD0TIO_WaMN1PTcJhD-uDjA5ahGYYEgx5M",authDomain:"fantasia-kids.firebaseapp.com",databaseURL:"https://fantasia-kids-default-rtdb.firebaseio.com",projectId:"fantasia-kids",storageBucket:"fantasia-kids.appspot.com",messagingSenderId:"742080757739",appId:"1:742080757739:web:b53cf2e74f594d19b4e3ae",measurementId:"G-661MJHPR0Z"};let T_e=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Vr({type:t,bootstrap:[b_e]})}static{this.\u0275inj=mr({imports:[e2,lu,wne,w_e,qle(()=>Wle(D_e_firebase)),l_e(()=>d_e())]})}}return t})();Eee().bootstrapModule(T_e).catch(t=>console.error(t))}},Tc=>{Tc(Tc.s=467)}]);